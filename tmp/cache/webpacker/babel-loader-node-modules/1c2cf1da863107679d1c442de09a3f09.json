{"ast":null,"code":"/*\n * A plugin for making Bootstrap's pagination more responsive\n * https://github.com/auxiliary/rpage\n */\n(function ($) {\n  jQuery.fn.rPage = function () {\n    var $this = $(this);\n\n    for (var i = 0, max = $this.length; i < max; i++) {\n      new rPage($($this[i]));\n    }\n\n    function rPage($container) {\n      this.label = function () {\n        var active_index = this.els.filter(\".active\").index();\n        var rp = this;\n        this.els.each(function () {\n          if (rp.isNextOrPrevLink($(this)) == false) {\n            $(this).addClass(\"page-away-\" + Math.abs(active_index - $(this).index()).toString());\n          } else {\n            if ($(this).index() > active_index) {\n              $(this).addClass(\"right-etc\");\n            } else {\n              $(this).addClass(\"left-etc\");\n            }\n          }\n        });\n      };\n\n      this.makeResponsive = function () {\n        this.reset();\n        var width = this.calculateWidth();\n\n        while (width > this.els.parent().parent().outerWidth() - 10) {\n          var did_remove = this.removeOne();\n\n          if (did_remove == false) {\n            break;\n          }\n\n          width = this.calculateWidth();\n        }\n      };\n\n      this.isNextOrPrevLink = function (element) {\n        return element.hasClass('pagination-prev') || element.hasClass('pagination-next') || element.text() == \"»\" || element.text() == \"«\";\n      };\n\n      this.isRemovable = function (element) {\n        if (this.isNextOrPrevLink(element)) {\n          return false;\n        }\n\n        var index = this.els.filter(element).index();\n\n        if (index == 1 || this.isNextOrPrevLink($container.find(\"li\").eq(index + 1))) {\n          return false;\n        }\n\n        if (element.text() == \"...\") {\n          return false;\n        }\n\n        return true;\n      };\n\n      this.removeOne = function () {\n        var active_index = this.els.filter(\".active\").index();\n        var farthest_index = $container.find(\"li\").length - 1;\n        var next = active_index + 1;\n        var prev = active_index - 1;\n\n        for (var i = farthest_index - 1; i > 0; i--) {\n          var candidates = this.els.filter(\".page-away-\" + i.toString());\n          var candidate = candidates.filter(function () {\n            return this.style[\"display\"] != \"none\";\n          });\n\n          if (candidate.length > 0) {\n            for (var j = 0; j < candidate.length; j++) {\n              var candid_candidate = candidate.eq(j);\n\n              if (this.isRemovable(candid_candidate)) {\n                candid_candidate.css(\"display\", \"none\");\n\n                if (this.needsEtcSign(active_index, farthest_index - 1)) {\n                  this.els.eq(farthest_index - 2).before(\"<li class='disabled removable'><span>...</span></li>\");\n                }\n\n                if (this.needsEtcSign(1, active_index)) {\n                  this.els.eq(1).after(\"<li class='disabled removable'><span>...</span></li>\");\n                }\n\n                return true;\n              }\n            }\n          }\n        }\n\n        return false;\n      };\n\n      this.needsEtcSign = function (el1_index, el2_index) {\n        if (el2_index - el1_index <= 1) {\n          return false;\n        } else {\n          var hasEtcSign = false;\n          var hasHiddenElement = false;\n\n          for (var i = el1_index + 1; i < el2_index; i++) {\n            var el = $container.find(\"li\").eq(i);\n\n            if (el.css(\"display\") == \"none\") {\n              hasHiddenElement = true;\n            }\n\n            if (el.text() == \"...\") {\n              hasEtcSign = true;\n            }\n          }\n\n          if (hasHiddenElement == true && hasEtcSign == false) {\n            return true;\n          }\n        }\n\n        return false;\n      };\n\n      this.reset = function () {\n        for (var i = 0; i < this.els.length; i++) {\n          this.els.eq(i).css(\"display\", \"inline\");\n        }\n\n        $container.find(\"li\").filter(\".removable\").remove();\n      };\n\n      this.calculateWidth = function () {\n        var width = 0;\n\n        for (var i = 0; i < $container.find(\"li\").length; i++) {\n          width += $container.find(\"li\").eq(i).children(\"a\").eq(0).outerWidth();\n          width += $container.find(\"li\").eq(i).children(\"span\").eq(0).outerWidth();\n        }\n\n        return width;\n      };\n\n      this.els = $container.find(\"li\");\n      this.label();\n      this.makeResponsive();\n      var resize_timer;\n      $(window).resize($.proxy(function () {\n        clearTimeout(resize_timer);\n        resize_timer = setTimeout($.proxy(function () {\n          this.makeResponsive();\n        }, this), 100);\n      }, this));\n    }\n  };\n})(jQuery);","map":{"version":3,"sources":["/Users/david/Winner-Stock/app/javascript/packs/responsive-paginate.js"],"names":["$","jQuery","fn","rPage","$this","i","max","length","$container","label","active_index","els","filter","index","rp","each","isNextOrPrevLink","addClass","Math","abs","toString","makeResponsive","reset","width","calculateWidth","parent","outerWidth","did_remove","removeOne","element","hasClass","text","isRemovable","find","eq","farthest_index","next","prev","candidates","candidate","style","j","candid_candidate","css","needsEtcSign","before","after","el1_index","el2_index","hasEtcSign","hasHiddenElement","el","remove","children","resize_timer","window","resize","proxy","clearTimeout","setTimeout"],"mappings":"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","sourcesContent":["/*\n * A plugin for making Bootstrap's pagination more responsive\n * https://github.com/auxiliary/rpage\n */\n\n(function ($){\n    jQuery.fn.rPage = function () {\n        var $this = $(this);\n        for(var i = 0, max = $this.length; i < max; i++)\n        {\n        \tnew rPage($($this[i]));\n        }\n\n        function rPage($container)\n        {\n        \tthis.label = function()\n        \t{\n        \t\tvar active_index = this.els.filter(\".active\").index();\n        \t\tvar rp = this;\n        \t\tthis.els.each(function(){\n        \t\t\tif (rp.isNextOrPrevLink($(this)) == false)\n        \t\t\t{\n        \t\t\t\t$(this).addClass(\"page-away-\" + (Math.abs(active_index - $(this).index())).toString());\n        \t\t\t}\n        \t\t\telse\n        \t\t\t{\n        \t\t\t\tif ($(this).index() > active_index)\n        \t\t\t\t{\n        \t\t\t\t\t$(this).addClass(\"right-etc\");\n        \t\t\t\t}\n        \t\t\t\telse\n        \t\t\t\t{\n        \t\t\t\t\t$(this).addClass(\"left-etc\");\n        \t\t\t\t}\n        \t\t\t}\n        \t\t});\n        \t}\n\n        \tthis.makeResponsive = function()\n    \t    {\n    \t    \tthis.reset();\n    \t    \tvar width = this.calculateWidth();\n\n    \t    \twhile (width > this.els.parent().parent().outerWidth() - 10)\n    \t    \t{\n    \t    \t\tvar did_remove = this.removeOne();\n    \t    \t\tif (did_remove == false)\n    \t    \t\t{\n    \t    \t\t\tbreak;\n    \t    \t\t}\n    \t    \t\twidth = this.calculateWidth();\n    \t    \t}\n    \t    }\n\n        \tthis.isNextOrPrevLink = function(element)\n        \t{\n                return (\n                    element.hasClass('pagination-prev')\n                    || element.hasClass('pagination-next')\n                    || element.text() == \"»\"\n                    || element.text() == \"«\"\n                );\n        \t}\n\n        \tthis.isRemovable = function(element)\n        \t{\n        \t\tif (this.isNextOrPrevLink(element))\n        \t\t{\n        \t\t\treturn false;\n        \t\t}\n        \t\tvar index = this.els.filter(element).index();\n        \t\tif (index == 1 || this.isNextOrPrevLink($container.find(\"li\").eq(index + 1)))\n        \t\t{\n        \t\t\treturn false;\n        \t\t}\n        \t\tif (element.text() == \"...\")\n        \t\t{\n        \t\t\treturn false;\n        \t\t}\n        \t\treturn true;\n        \t}\n\n    \t    this.removeOne = function()\n    \t    {\n    \t    \tvar active_index = this.els.filter(\".active\").index();\n    \t    \tvar farthest_index = $container.find(\"li\").length - 1;\n    \t    \tvar next = active_index + 1;\n    \t    \tvar prev = active_index - 1;\n\n    \t    \tfor (var i = farthest_index - 1; i > 0; i--)\n    \t    \t{\n    \t    \t\tvar candidates = this.els.filter(\".page-away-\" + i.toString());\n    \t    \t\tvar candidate = candidates.filter(function(){\n    \t    \t\t\treturn this.style[\"display\"] != \"none\";\n    \t    \t\t});\n    \t    \t\tif (candidate.length > 0)\n    \t    \t\t{\n    \t    \t\t\tfor (var j = 0; j < candidate.length; j++)\n    \t    \t\t\t{\n    \t    \t\t\t\tvar candid_candidate = candidate.eq(j);\n    \t    \t\t\t\tif (this.isRemovable(candid_candidate))\n    \t\t    \t\t\t{\n    \t\t\t    \t\t\tcandid_candidate.css(\"display\", \"none\");\n    \t\t\t    \t\t\tif (this.needsEtcSign(active_index, farthest_index - 1))\n    \t\t\t    \t\t\t{\n    \t\t\t    \t\t\t\tthis.els.eq(farthest_index - 2).before(\"<li class='disabled removable'><span>...</span></li>\");\n    \t\t\t    \t\t\t}\n    \t\t\t    \t\t\tif (this.needsEtcSign(1, active_index))\n    \t\t\t    \t\t\t{\n    \t\t\t    \t\t\t\tthis.els.eq(1).after(\"<li class='disabled removable'><span>...</span></li>\");\n    \t\t\t    \t\t\t}\n    \t\t\t    \t\t\treturn true;\n    \t\t    \t\t\t}\n    \t    \t\t\t}\n    \t    \t\t}\n    \t    \t}\n    \t    \treturn false;\n    \t    }\n\n    \t    this.needsEtcSign = function(el1_index, el2_index)\n    \t    {\n    \t    \tif (el2_index - el1_index <= 1)\n    \t    \t{\n    \t    \t\treturn false;\n    \t    \t}\n    \t    \telse\n    \t    \t{\n    \t    \t\tvar hasEtcSign = false;\n    \t    \t\tvar hasHiddenElement = false;\n    \t    \t\tfor (var i = el1_index + 1; i < el2_index; i++)\n    \t    \t\t{\n    \t    \t\t\tvar el = $container.find(\"li\").eq(i);\n    \t    \t\t\tif (el.css(\"display\") == \"none\")\n    \t    \t\t\t{\n    \t    \t\t\t\thasHiddenElement = true;\n    \t    \t\t\t}\n    \t    \t\t\tif (el.text() == \"...\")\n    \t    \t\t\t{\n    \t    \t\t\t\thasEtcSign = true;\n    \t    \t\t\t}\n    \t    \t\t}\n    \t    \t\tif (hasHiddenElement == true && hasEtcSign == false)\n    \t    \t\t{\n    \t    \t\t\treturn true;\n    \t    \t\t}\n    \t    \t}\n    \t    \treturn false;\n    \t    }\n\n    \t    this.reset = function()\n    \t    {\n    \t    \tfor (var i = 0; i < this.els.length; i++)\n    \t    \t{\n    \t    \t\tthis.els.eq(i).css(\"display\", \"inline\");\n    \t    \t}\n    \t    \t$container.find(\"li\").filter(\".removable\").remove();\n    \t    }\n\n    \t    this.calculateWidth = function()\n    \t    {\n    \t    \tvar width = 0;\n    \t    \tfor (var i = 0; i < $container.find(\"li\").length; i++)\n    \t    \t{\n    \t    \t\twidth += $container.find(\"li\").eq(i).children(\"a\").eq(0).outerWidth();\n    \t    \t\twidth += $container.find(\"li\").eq(i).children(\"span\").eq(0).outerWidth();\n    \t    \t}\n    \t    \treturn width;\n    \t    }\n\n    \t    this.els = $container.find(\"li\");\n    \t    this.label();\n    \t    this.makeResponsive();\n\n    \t    var resize_timer;\n\n            $(window).resize(\n            \t$.proxy(function()\n            \t{\n            \t\tclearTimeout(resize_timer);\n            \t\tresize_timer = setTimeout($.proxy(function(){this.makeResponsive()}, this), 100);\n            \t}, this)\n            );\n        }\n    };\n}(jQuery));\n"]},"metadata":{},"sourceType":"module"}