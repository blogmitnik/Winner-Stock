{"ast":null,"code":"/*! FixedHeader 3.1.0\n * ©2009-2015 SpryMedia Ltd - datatables.net/license\n */\n\n/**\n * @summary     FixedHeader\n * @description Fix a table's header or footer, so it is always visible while\n *              scrolling\n * @version     3.1.0\n * @file        dataTables.fixedHeader.js\n * @author      SpryMedia Ltd (www.sprymedia.co.uk)\n * @contact     www.sprymedia.co.uk/contact\n * @copyright   Copyright 2009-2015 SpryMedia Ltd.\n *\n * This source file is free software, available under the following license:\n *   MIT license - http://datatables.net/license/mit\n *\n * This source file is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\n *\n * For details please refer to: http://www.datatables.net\n */\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(['jquery', 'datatables.net'], function ($) {\n      return factory($, window, document);\n    });\n  } else if (typeof exports === 'object') {\n    // CommonJS\n    module.exports = function (root, $) {\n      if (!root) {\n        root = window;\n      }\n\n      if (!$ || !$.fn.dataTable) {\n        $ = require('datatables.net')(root, $).$;\n      }\n\n      return factory($, root, root.document);\n    };\n  } else {\n    // Browser\n    factory(jQuery, window, document);\n  }\n})(function ($, window, document, undefined) {\n  'use strict';\n\n  var DataTable = $.fn.dataTable;\n  var _instCounter = 0;\n\n  var FixedHeader = function FixedHeader(dt, config) {\n    // Sanity check - you just know it will happen\n    if (!(this instanceof FixedHeader)) {\n      throw \"FixedHeader must be initialised with the 'new' keyword.\";\n    } // Allow a boolean true for defaults\n\n\n    if (config === true) {\n      config = {};\n    }\n\n    dt = new DataTable.Api(dt);\n    this.c = $.extend(true, {}, FixedHeader.defaults, config);\n    this.s = {\n      dt: dt,\n      position: {\n        theadTop: 0,\n        tbodyTop: 0,\n        tfootTop: 0,\n        tfootBottom: 0,\n        width: 0,\n        left: 0,\n        tfootHeight: 0,\n        theadHeight: 0,\n        windowHeight: $(window).height(),\n        visible: true\n      },\n      headerMode: null,\n      footerMode: null,\n      autoWidth: dt.settings()[0].oFeatures.bAutoWidth,\n      namespace: '.dtfc' + _instCounter++,\n      scrollLeft: {\n        header: -1,\n        footer: -1\n      },\n      enable: true\n    };\n    this.dom = {\n      floatingHeader: null,\n      thead: $(dt.table().header()),\n      tbody: $(dt.table().body()),\n      tfoot: $(dt.table().footer()),\n      header: {\n        host: null,\n        floating: null,\n        placeholder: null\n      },\n      footer: {\n        host: null,\n        floating: null,\n        placeholder: null\n      }\n    };\n    this.dom.header.host = this.dom.thead.parent();\n    this.dom.footer.host = this.dom.tfoot.parent();\n    var dtSettings = dt.settings()[0];\n\n    if (dtSettings._fixedHeader) {\n      throw \"FixedHeader already initialised on table \" + dtSettings.nTable.id;\n    }\n\n    dtSettings._fixedHeader = this;\n\n    this._constructor();\n  };\n  /*\n   * Variable: FixedHeader\n   * Purpose:  Prototype for FixedHeader\n   * Scope:    global\n   */\n\n\n  $.extend(FixedHeader.prototype, {\n    /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n     * API methods\n     */\n\n    /**\n     * Enable / disable the fixed elements\n     *\n     * @param  {boolean} enable `true` to enable, `false` to disable\n     */\n    enable: function enable(_enable) {\n      this.s.enable = _enable;\n\n      if (this.c.header) {\n        this._modeChange('in-place', 'header', true);\n      }\n\n      if (this.c.footer && this.dom.tfoot.length) {\n        this._modeChange('in-place', 'footer', true);\n      }\n\n      this.update();\n    },\n\n    /**\n     * Set header offset \n     *\n     * @param  {int} new value for headerOffset\n     */\n    headerOffset: function headerOffset(offset) {\n      if (offset !== undefined) {\n        this.c.headerOffset = offset;\n        this.update();\n      }\n\n      return this.c.headerOffset;\n    },\n\n    /**\n     * Set footer offset\n     *\n     * @param  {int} new value for footerOffset\n     */\n    footerOffset: function footerOffset(offset) {\n      if (offset !== undefined) {\n        this.c.footerOffset = offset;\n        this.update();\n      }\n\n      return this.c.footerOffset;\n    },\n\n    /**\n     * Recalculate the position of the fixed elements and force them into place\n     */\n    update: function update() {\n      this._positions();\n\n      this._scroll(true);\n    },\n\n    /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n     * Constructor\n     */\n\n    /**\n     * FixedHeader constructor - adding the required event listeners and\n     * simple initialisation\n     *\n     * @private\n     */\n    _constructor: function _constructor() {\n      var that = this;\n      var dt = this.s.dt;\n      $(window).on('scroll' + this.s.namespace, function () {\n        that._scroll();\n      }).on('resize' + this.s.namespace, function () {\n        that.s.position.windowHeight = $(window).height();\n        that.update();\n      });\n      dt.on('column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc', function () {\n        that.update();\n      });\n      dt.on('destroy.dtfc', function () {\n        dt.off('.dtfc');\n        $(window).off(that.s.namespace);\n      });\n\n      this._positions();\n\n      this._scroll();\n    },\n\n    /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n     * Private methods\n     */\n\n    /**\n     * Clone a fixed item to act as a place holder for the original element\n     * which is moved into a clone of the table element, and moved around the\n     * document to give the fixed effect.\n     *\n     * @param  {string}  item  'header' or 'footer'\n     * @param  {boolean} force Force the clone to happen, or allow automatic\n     *   decision (reuse existing if available)\n     * @private\n     */\n    _clone: function _clone(item, force) {\n      var dt = this.s.dt;\n      var itemDom = this.dom[item];\n      var itemElement = item === 'header' ? this.dom.thead : this.dom.tfoot;\n\n      if (!force && itemDom.floating) {\n        // existing floating element - reuse it\n        itemDom.floating.removeClass('fixedHeader-floating fixedHeader-locked');\n      } else {\n        if (itemDom.floating) {\n          itemDom.placeholder.remove();\n          itemDom.floating.children().detach();\n          itemDom.floating.remove();\n        }\n\n        itemDom.floating = $(dt.table().node().cloneNode(false)).removeAttr('id').append(itemElement).appendTo('body'); // Insert a fake thead/tfoot into the DataTable to stop it jumping around\n\n        itemDom.placeholder = itemElement.clone(false);\n        itemDom.host.append(itemDom.placeholder); // Clone widths\n\n        this._matchWidths(itemDom.placeholder, itemDom.floating);\n      }\n    },\n\n    /**\n     * Copy widths from the cells in one element to another. This is required\n     * for the footer as the footer in the main table takes its sizes from the\n     * header columns. That isn't present in the footer so to have it still\n     * align correctly, the sizes need to be copied over. It is also required\n     * for the header when auto width is not enabled\n     *\n     * @param  {jQuery} from Copy widths from\n     * @param  {jQuery} to   Copy widths to\n     * @private\n     */\n    _matchWidths: function _matchWidths(from, to) {\n      var type = function type(name) {\n        var toWidths = $(name, from).map(function () {\n          return $(this).width();\n        }).toArray();\n        $(name, to).each(function (i) {\n          $(this).width(toWidths[i]).css(\"min-width\", toWidths[i]);\n        });\n      };\n\n      type('th');\n      type('td');\n    },\n\n    /**\n     * Remove assigned widths from the cells in an element. This is required\n     * when inserting the footer back into the main table so the size is defined\n     * by the header columns and also when auto width is disabled in the\n     * DataTable.\n     *\n     * @param  {string} item The `header` or `footer`\n     * @private\n     */\n    _unsize: function _unsize(item) {\n      var el = this.dom[item].floating;\n\n      if (el && (item === 'footer' || item === 'header' && !this.s.autoWidth)) {\n        $('th, td', el).css('width', '');\n      }\n    },\n\n    /**\n     * Reposition the floating elements to take account of horizontal page\n     * scroll\n     *\n     * @param  {string} item       The `header` or `footer`\n     * @param  {int}    scrollLeft Document scrollLeft\n     * @private\n     */\n    _horizontal: function _horizontal(item, scrollLeft) {\n      var itemDom = this.dom[item];\n      var position = this.s.position;\n      var lastScrollLeft = this.s.scrollLeft;\n\n      if (itemDom.floating && lastScrollLeft[item] !== scrollLeft) {\n        itemDom.floating.css('left', position.left - scrollLeft);\n        lastScrollLeft[item] = scrollLeft;\n      }\n    },\n\n    /**\n     * Change from one display mode to another. Each fixed item can be in one\n     * of:\n     *\n     * * `in-place` - In the main DataTable\n     * * `in` - Floating over the DataTable\n     * * `below` - (Header only) Fixed to the bottom of the table body\n     * * `above` - (Footer only) Fixed to the top of the table body\n     * \n     * @param  {string}  mode        Mode that the item should be shown in\n     * @param  {string}  item        'header' or 'footer'\n     * @param  {boolean} forceChange Force a redraw of the mode, even if already\n     *     in that mode.\n     * @private\n     */\n    _modeChange: function _modeChange(mode, item, forceChange) {\n      var dt = this.s.dt;\n      var itemDom = this.dom[item];\n      var position = this.s.position;\n\n      if (mode === 'in-place') {\n        // Insert the header back into the table's real header\n        if (itemDom.placeholder) {\n          itemDom.placeholder.remove();\n          itemDom.placeholder = null;\n        }\n\n        this._unsize(item);\n\n        itemDom.host.append(item === 'header' ? this.dom.thead : this.dom.tfoot);\n\n        if (itemDom.floating) {\n          itemDom.floating.remove();\n          itemDom.floating = null;\n        }\n      } else if (mode === 'in') {\n        // Remove the header from the read header and insert into a fixed\n        // positioned floating table clone\n        this._clone(item, forceChange);\n\n        itemDom.floating.addClass('fixedHeader-floating').css(item === 'header' ? 'top' : 'bottom', this.c[item + 'Offset']).css('left', position.left + 'px').css('width', position.width + 'px');\n\n        if (item === 'footer') {\n          itemDom.floating.css('top', '');\n        }\n      } else if (mode === 'below') {\n        // only used for the header\n        // Fix the position of the floating header at base of the table body\n        this._clone(item, forceChange);\n\n        itemDom.floating.addClass('fixedHeader-locked').css('top', position.tfootTop - position.theadHeight).css('left', position.left + 'px').css('width', position.width + 'px');\n      } else if (mode === 'above') {\n        // only used for the footer\n        // Fix the position of the floating footer at top of the table body\n        this._clone(item, forceChange);\n\n        itemDom.floating.addClass('fixedHeader-locked').css('top', position.tbodyTop).css('left', position.left + 'px').css('width', position.width + 'px');\n      }\n\n      this.s.scrollLeft.header = -1;\n      this.s.scrollLeft.footer = -1;\n      this.s[item + 'Mode'] = mode;\n    },\n\n    /**\n     * Cache the positional information that is required for the mode\n     * calculations that FixedHeader performs.\n     *\n     * @private\n     */\n    _positions: function _positions() {\n      var dt = this.s.dt;\n      var table = dt.table();\n      var position = this.s.position;\n      var dom = this.dom;\n      var tableNode = $(table.node()); // Need to use the header and footer that are in the main table,\n      // regardless of if they are clones, since they hold the positions we\n      // want to measure from\n\n      var thead = tableNode.children('thead');\n      var tfoot = tableNode.children('tfoot');\n      var tbody = dom.tbody;\n      position.visible = tableNode.is(':visible');\n      position.width = tableNode.outerWidth();\n      position.left = tableNode.offset().left;\n      position.theadTop = thead.offset().top;\n      position.tbodyTop = tbody.offset().top;\n      position.theadHeight = position.tbodyTop - position.theadTop;\n\n      if (tfoot.length) {\n        position.tfootTop = tfoot.offset().top;\n        position.tfootBottom = position.tfootTop + tfoot.outerHeight();\n        position.tfootHeight = position.tfootBottom - position.tfootTop;\n      } else {\n        position.tfootTop = position.tbodyTop + tbody.outerHeight();\n        position.tfootBottom = position.tfootTop;\n        position.tfootHeight = position.tfootTop;\n      }\n    },\n\n    /**\n     * Mode calculation - determine what mode the fixed items should be placed\n     * into.\n     *\n     * @param  {boolean} forceChange Force a redraw of the mode, even if already\n     *     in that mode.\n     * @private\n     */\n    _scroll: function _scroll(forceChange) {\n      var windowTop = $(document).scrollTop();\n      var windowLeft = $(document).scrollLeft();\n      var position = this.s.position;\n      var headerMode, footerMode;\n\n      if (!this.s.enable) {\n        return;\n      }\n\n      if (this.c.header) {\n        if (!position.visible || windowTop <= position.theadTop - this.c.headerOffset) {\n          headerMode = 'in-place';\n        } else if (windowTop <= position.tfootTop - position.theadHeight - this.c.headerOffset) {\n          headerMode = 'in';\n        } else {\n          headerMode = 'below';\n        }\n\n        if (forceChange || headerMode !== this.s.headerMode) {\n          this._modeChange(headerMode, 'header', forceChange);\n        }\n\n        this._horizontal('header', windowLeft);\n      }\n\n      if (this.c.footer && this.dom.tfoot.length) {\n        if (!position.visible || windowTop + position.windowHeight >= position.tfootBottom + this.c.footerOffset) {\n          footerMode = 'in-place';\n        } else if (position.windowHeight + windowTop > position.tbodyTop + position.tfootHeight + this.c.footerOffset) {\n          footerMode = 'in';\n        } else {\n          footerMode = 'above';\n        }\n\n        if (forceChange || footerMode !== this.s.footerMode) {\n          this._modeChange(footerMode, 'footer', forceChange);\n        }\n\n        this._horizontal('footer', windowLeft);\n      }\n    }\n  });\n  /**\n   * Version\n   * @type {String}\n   * @static\n   */\n\n  FixedHeader.version = \"3.1.0\";\n  /**\n   * Defaults\n   * @type {Object}\n   * @static\n   */\n\n  FixedHeader.defaults = {\n    header: true,\n    footer: false,\n    headerOffset: 0,\n    footerOffset: 0\n  };\n  /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n   * DataTables interfaces\n   */\n  // Attach for constructor access\n\n  $.fn.dataTable.FixedHeader = FixedHeader;\n  $.fn.DataTable.FixedHeader = FixedHeader; // DataTables creation - check if the FixedHeader option has been defined on the\n  // table and if so, initialise\n\n  $(document).on('init.dt.dtb', function (e, settings, json) {\n    if (e.namespace !== 'dt') {\n      return;\n    }\n\n    var opts = settings.oInit.fixedHeader || DataTable.defaults.fixedHeader;\n\n    if (opts && !settings._fixedHeader) {\n      new FixedHeader(settings, opts);\n    }\n  }); // DataTables API methods\n\n  DataTable.Api.register('fixedHeader()', function () {});\n  DataTable.Api.register('fixedHeader.adjust()', function () {\n    return this.iterator('table', function (ctx) {\n      var fh = ctx._fixedHeader;\n\n      if (fh) {\n        fh.update();\n      }\n    });\n  });\n  DataTable.Api.register('fixedHeader.enable()', function (flag) {\n    return this.iterator('table', function (ctx) {\n      var fh = ctx._fixedHeader;\n\n      if (fh) {\n        fh.enable(flag !== undefined ? flag : true);\n      }\n    });\n  });\n  DataTable.Api.register('fixedHeader.disable()', function () {\n    return this.iterator('table', function (ctx) {\n      var fh = ctx._fixedHeader;\n\n      if (fh) {\n        fh.enable(false);\n      }\n    });\n  });\n  $.each(['header', 'footer'], function (i, el) {\n    DataTable.Api.register('fixedHeader.' + el + 'Offset()', function (offset) {\n      var ctx = this.context;\n\n      if (offset === undefined) {\n        return ctx.length && ctx[0]._fixedHeader ? ctx[0]._fixedHeader[el + 'Offset']() : undefined;\n      }\n\n      return this.iterator('table', function (ctx) {\n        var fh = ctx._fixedHeader;\n\n        if (fh) {\n          fh[el + 'Offset'](offset);\n        }\n      });\n    });\n  });\n  return FixedHeader;\n});","map":{"version":3,"sources":["/Users/david/Winner-Stock/app/javascript/dataTables/dataTables.fixedHeader.js"],"names":["factory","define","amd","$","window","document","exports","module","root","fn","dataTable","require","jQuery","undefined","DataTable","_instCounter","FixedHeader","dt","config","Api","c","extend","defaults","s","position","theadTop","tbodyTop","tfootTop","tfootBottom","width","left","tfootHeight","theadHeight","windowHeight","height","visible","headerMode","footerMode","autoWidth","settings","oFeatures","bAutoWidth","namespace","scrollLeft","header","footer","enable","dom","floatingHeader","thead","table","tbody","body","tfoot","host","floating","placeholder","parent","dtSettings","_fixedHeader","nTable","id","_constructor","prototype","_modeChange","length","update","headerOffset","offset","footerOffset","_positions","_scroll","that","on","off","_clone","item","force","itemDom","itemElement","removeClass","remove","children","detach","node","cloneNode","removeAttr","append","appendTo","clone","_matchWidths","from","to","type","name","toWidths","map","toArray","each","i","css","_unsize","el","_horizontal","lastScrollLeft","mode","forceChange","addClass","tableNode","is","outerWidth","top","outerHeight","windowTop","scrollTop","windowLeft","version","e","json","opts","oInit","fixedHeader","register","iterator","ctx","fh","flag","context"],"mappings":"AAAA;;;;AAIA;;;;;;;;;;;;;;;;;;;AAoBC,WAAUA,OAAV,EAAmB;AACnB,MAAK,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,GAA5C,EAAkD;AACjD;AACAD,IAAAA,MAAM,CAAE,CAAC,QAAD,EAAW,gBAAX,CAAF,EAAgC,UAAWE,CAAX,EAAe;AACpD,aAAOH,OAAO,CAAEG,CAAF,EAAKC,MAAL,EAAaC,QAAb,CAAd;AACA,KAFK,CAAN;AAGA,GALD,MAMK,IAAK,OAAOC,OAAP,KAAmB,QAAxB,EAAmC;AACvC;AACAC,IAAAA,MAAM,CAACD,OAAP,GAAiB,UAAUE,IAAV,EAAgBL,CAAhB,EAAmB;AACnC,UAAK,CAAEK,IAAP,EAAc;AACbA,QAAAA,IAAI,GAAGJ,MAAP;AACA;;AAED,UAAK,CAAED,CAAF,IAAO,CAAEA,CAAC,CAACM,EAAF,CAAKC,SAAnB,EAA+B;AAC9BP,QAAAA,CAAC,GAAGQ,OAAO,CAAC,gBAAD,CAAP,CAA0BH,IAA1B,EAAgCL,CAAhC,EAAmCA,CAAvC;AACA;;AAED,aAAOH,OAAO,CAAEG,CAAF,EAAKK,IAAL,EAAWA,IAAI,CAACH,QAAhB,CAAd;AACA,KAVD;AAWA,GAbI,MAcA;AACJ;AACAL,IAAAA,OAAO,CAAEY,MAAF,EAAUR,MAAV,EAAkBC,QAAlB,CAAP;AACA;AACD,CAzBA,EAyBC,UAAUF,CAAV,EAAaC,MAAb,EAAqBC,QAArB,EAA+BQ,SAA/B,EAA2C;AAC7C;;AACA,MAAIC,SAAS,GAAGX,CAAC,CAACM,EAAF,CAAKC,SAArB;AAGA,MAAIK,YAAY,GAAG,CAAnB;;AAEA,MAAIC,WAAW,GAAG,SAAdA,WAAc,CAAWC,EAAX,EAAeC,MAAf,EAAwB;AACzC;AACA,QAAK,EAAG,gBAAgBF,WAAnB,CAAL,EAAuC;AACtC,YAAM,yDAAN;AACA,KAJwC,CAMzC;;;AACA,QAAKE,MAAM,KAAK,IAAhB,EAAuB;AACtBA,MAAAA,MAAM,GAAG,EAAT;AACA;;AAEDD,IAAAA,EAAE,GAAG,IAAIH,SAAS,CAACK,GAAd,CAAmBF,EAAnB,CAAL;AAEA,SAAKG,CAAL,GAASjB,CAAC,CAACkB,MAAF,CAAU,IAAV,EAAgB,EAAhB,EAAoBL,WAAW,CAACM,QAAhC,EAA0CJ,MAA1C,CAAT;AAEA,SAAKK,CAAL,GAAS;AACRN,MAAAA,EAAE,EAAEA,EADI;AAERO,MAAAA,QAAQ,EAAE;AACTC,QAAAA,QAAQ,EAAE,CADD;AAETC,QAAAA,QAAQ,EAAE,CAFD;AAGTC,QAAAA,QAAQ,EAAE,CAHD;AAITC,QAAAA,WAAW,EAAE,CAJJ;AAKTC,QAAAA,KAAK,EAAE,CALE;AAMTC,QAAAA,IAAI,EAAE,CANG;AAOTC,QAAAA,WAAW,EAAE,CAPJ;AAQTC,QAAAA,WAAW,EAAE,CARJ;AASTC,QAAAA,YAAY,EAAE9B,CAAC,CAACC,MAAD,CAAD,CAAU8B,MAAV,EATL;AAUTC,QAAAA,OAAO,EAAE;AAVA,OAFF;AAcRC,MAAAA,UAAU,EAAE,IAdJ;AAeRC,MAAAA,UAAU,EAAE,IAfJ;AAgBRC,MAAAA,SAAS,EAAErB,EAAE,CAACsB,QAAH,GAAc,CAAd,EAAiBC,SAAjB,CAA2BC,UAhB9B;AAiBRC,MAAAA,SAAS,EAAE,UAAS3B,YAAY,EAjBxB;AAkBR4B,MAAAA,UAAU,EAAE;AACXC,QAAAA,MAAM,EAAE,CAAC,CADE;AAEXC,QAAAA,MAAM,EAAE,CAAC;AAFE,OAlBJ;AAsBRC,MAAAA,MAAM,EAAE;AAtBA,KAAT;AAyBA,SAAKC,GAAL,GAAW;AACVC,MAAAA,cAAc,EAAE,IADN;AAEVC,MAAAA,KAAK,EAAE9C,CAAC,CAACc,EAAE,CAACiC,KAAH,GAAWN,MAAX,EAAD,CAFE;AAGVO,MAAAA,KAAK,EAAEhD,CAAC,CAACc,EAAE,CAACiC,KAAH,GAAWE,IAAX,EAAD,CAHE;AAIVC,MAAAA,KAAK,EAAElD,CAAC,CAACc,EAAE,CAACiC,KAAH,GAAWL,MAAX,EAAD,CAJE;AAKVD,MAAAA,MAAM,EAAE;AACPU,QAAAA,IAAI,EAAE,IADC;AAEPC,QAAAA,QAAQ,EAAE,IAFH;AAGPC,QAAAA,WAAW,EAAE;AAHN,OALE;AAUVX,MAAAA,MAAM,EAAE;AACPS,QAAAA,IAAI,EAAE,IADC;AAEPC,QAAAA,QAAQ,EAAE,IAFH;AAGPC,QAAAA,WAAW,EAAE;AAHN;AAVE,KAAX;AAiBA,SAAKT,GAAL,CAASH,MAAT,CAAgBU,IAAhB,GAAuB,KAAKP,GAAL,CAASE,KAAT,CAAeQ,MAAf,EAAvB;AACA,SAAKV,GAAL,CAASF,MAAT,CAAgBS,IAAhB,GAAuB,KAAKP,GAAL,CAASM,KAAT,CAAeI,MAAf,EAAvB;AAEA,QAAIC,UAAU,GAAGzC,EAAE,CAACsB,QAAH,GAAc,CAAd,CAAjB;;AACA,QAAKmB,UAAU,CAACC,YAAhB,EAA+B;AAC9B,YAAM,8CAA4CD,UAAU,CAACE,MAAX,CAAkBC,EAApE;AACA;;AAEDH,IAAAA,UAAU,CAACC,YAAX,GAA0B,IAA1B;;AAEA,SAAKG,YAAL;AACA,GApED;AAuEA;;;;;;;AAKA3D,EAAAA,CAAC,CAACkB,MAAF,CAAUL,WAAW,CAAC+C,SAAtB,EAAiC;AAChC;;;;AAIA;;;;;AAKAjB,IAAAA,MAAM,EAAE,gBAAWA,OAAX,EACR;AACC,WAAKvB,CAAL,CAAOuB,MAAP,GAAgBA,OAAhB;;AAEA,UAAK,KAAK1B,CAAL,CAAOwB,MAAZ,EAAqB;AACpB,aAAKoB,WAAL,CAAkB,UAAlB,EAA8B,QAA9B,EAAwC,IAAxC;AACA;;AAED,UAAK,KAAK5C,CAAL,CAAOyB,MAAP,IAAiB,KAAKE,GAAL,CAASM,KAAT,CAAeY,MAArC,EAA8C;AAC7C,aAAKD,WAAL,CAAkB,UAAlB,EAA8B,QAA9B,EAAwC,IAAxC;AACA;;AAED,WAAKE,MAAL;AACA,KAvB+B;;AAyBhC;;;;;AAKAC,IAAAA,YAAY,EAAE,sBAAWC,MAAX,EACd;AACC,UAAKA,MAAM,KAAKvD,SAAhB,EAA4B;AAC3B,aAAKO,CAAL,CAAO+C,YAAP,GAAsBC,MAAtB;AACA,aAAKF,MAAL;AACA;;AAED,aAAO,KAAK9C,CAAL,CAAO+C,YAAd;AACA,KAtC+B;;AAwChC;;;;;AAKAE,IAAAA,YAAY,EAAE,sBAAWD,MAAX,EACd;AACC,UAAKA,MAAM,KAAKvD,SAAhB,EAA4B;AAC3B,aAAKO,CAAL,CAAOiD,YAAP,GAAsBD,MAAtB;AACA,aAAKF,MAAL;AACA;;AAED,aAAO,KAAK9C,CAAL,CAAOiD,YAAd;AACA,KArD+B;;AAwDhC;;;AAGAH,IAAAA,MAAM,EAAE,kBACR;AACC,WAAKI,UAAL;;AACA,WAAKC,OAAL,CAAc,IAAd;AACA,KA/D+B;;AAkEhC;;;;AAIA;;;;;;AAMAT,IAAAA,YAAY,EAAE,wBACd;AACC,UAAIU,IAAI,GAAG,IAAX;AACA,UAAIvD,EAAE,GAAG,KAAKM,CAAL,CAAON,EAAhB;AAEAd,MAAAA,CAAC,CAACC,MAAD,CAAD,CACEqE,EADF,CACM,WAAS,KAAKlD,CAAL,CAAOmB,SADtB,EACiC,YAAY;AAC3C8B,QAAAA,IAAI,CAACD,OAAL;AACA,OAHF,EAIEE,EAJF,CAIM,WAAS,KAAKlD,CAAL,CAAOmB,SAJtB,EAIiC,YAAY;AAC3C8B,QAAAA,IAAI,CAACjD,CAAL,CAAOC,QAAP,CAAgBS,YAAhB,GAA+B9B,CAAC,CAACC,MAAD,CAAD,CAAU8B,MAAV,EAA/B;AACAsC,QAAAA,IAAI,CAACN,MAAL;AACA,OAPF;AASAjD,MAAAA,EAAE,CAACwD,EAAH,CAAO,+DAAP,EAAwE,YAAY;AACnFD,QAAAA,IAAI,CAACN,MAAL;AACA,OAFD;AAIAjD,MAAAA,EAAE,CAACwD,EAAH,CAAO,cAAP,EAAuB,YAAY;AAClCxD,QAAAA,EAAE,CAACyD,GAAH,CAAQ,OAAR;AACAvE,QAAAA,CAAC,CAACC,MAAD,CAAD,CAAUsE,GAAV,CAAeF,IAAI,CAACjD,CAAL,CAAOmB,SAAtB;AACA,OAHD;;AAKA,WAAK4B,UAAL;;AACA,WAAKC,OAAL;AACA,KArG+B;;AAwGhC;;;;AAIA;;;;;;;;;;AAUAI,IAAAA,MAAM,EAAE,gBAAWC,IAAX,EAAiBC,KAAjB,EACR;AACC,UAAI5D,EAAE,GAAG,KAAKM,CAAL,CAAON,EAAhB;AACA,UAAI6D,OAAO,GAAG,KAAK/B,GAAL,CAAU6B,IAAV,CAAd;AACA,UAAIG,WAAW,GAAGH,IAAI,KAAK,QAAT,GACjB,KAAK7B,GAAL,CAASE,KADQ,GAEjB,KAAKF,GAAL,CAASM,KAFV;;AAIA,UAAK,CAAEwB,KAAF,IAAWC,OAAO,CAACvB,QAAxB,EAAmC;AAClC;AACAuB,QAAAA,OAAO,CAACvB,QAAR,CAAiByB,WAAjB,CAA8B,yCAA9B;AACA,OAHD,MAIK;AACJ,YAAKF,OAAO,CAACvB,QAAb,EAAwB;AACvBuB,UAAAA,OAAO,CAACtB,WAAR,CAAoByB,MAApB;AACAH,UAAAA,OAAO,CAACvB,QAAR,CAAiB2B,QAAjB,GAA4BC,MAA5B;AACAL,UAAAA,OAAO,CAACvB,QAAR,CAAiB0B,MAAjB;AACA;;AAEDH,QAAAA,OAAO,CAACvB,QAAR,GAAmBpD,CAAC,CAAEc,EAAE,CAACiC,KAAH,GAAWkC,IAAX,GAAkBC,SAAlB,CAA6B,KAA7B,CAAF,CAAD,CACjBC,UADiB,CACL,IADK,EAEjBC,MAFiB,CAETR,WAFS,EAGjBS,QAHiB,CAGP,MAHO,CAAnB,CAPI,CAYJ;;AACAV,QAAAA,OAAO,CAACtB,WAAR,GAAsBuB,WAAW,CAACU,KAAZ,CAAmB,KAAnB,CAAtB;AACAX,QAAAA,OAAO,CAACxB,IAAR,CAAaiC,MAAb,CAAqBT,OAAO,CAACtB,WAA7B,EAdI,CAgBJ;;AACA,aAAKkC,YAAL,CAAmBZ,OAAO,CAACtB,WAA3B,EAAwCsB,OAAO,CAACvB,QAAhD;AACA;AACD,KArJ+B;;AAuJhC;;;;;;;;;;;AAWAmC,IAAAA,YAAY,EAAE,sBAAWC,IAAX,EAAiBC,EAAjB,EAAsB;AACnC,UAAIC,IAAI,GAAG,SAAPA,IAAO,CAAWC,IAAX,EAAkB;AAC5B,YAAIC,QAAQ,GAAG5F,CAAC,CAAC2F,IAAD,EAAOH,IAAP,CAAD,CACbK,GADa,CACR,YAAY;AACjB,iBAAO7F,CAAC,CAAC,IAAD,CAAD,CAAQ0B,KAAR,EAAP;AACA,SAHa,EAGVoE,OAHU,EAAf;AAKA9F,QAAAA,CAAC,CAAC2F,IAAD,EAAOF,EAAP,CAAD,CAAYM,IAAZ,CAAkB,UAAWC,CAAX,EAAe;AAChChG,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ0B,KAAR,CAAekE,QAAQ,CAACI,CAAD,CAAvB,EAA6BC,GAA7B,CAAiC,WAAjC,EAA8CL,QAAQ,CAACI,CAAD,CAAtD;AACA,SAFD;AAGA,OATD;;AAWAN,MAAAA,IAAI,CAAE,IAAF,CAAJ;AACAA,MAAAA,IAAI,CAAE,IAAF,CAAJ;AACA,KAhL+B;;AAkLhC;;;;;;;;;AASAQ,IAAAA,OAAO,EAAE,iBAAWzB,IAAX,EAAkB;AAC1B,UAAI0B,EAAE,GAAG,KAAKvD,GAAL,CAAU6B,IAAV,EAAiBrB,QAA1B;;AAEA,UAAK+C,EAAE,KAAK1B,IAAI,KAAK,QAAT,IAAsBA,IAAI,KAAK,QAAT,IAAqB,CAAE,KAAKrD,CAAL,CAAOe,SAAzD,CAAP,EAA8E;AAC7EnC,QAAAA,CAAC,CAAC,QAAD,EAAWmG,EAAX,CAAD,CAAgBF,GAAhB,CAAqB,OAArB,EAA8B,EAA9B;AACA;AACD,KAjM+B;;AAmMhC;;;;;;;;AAQAG,IAAAA,WAAW,EAAE,qBAAW3B,IAAX,EAAiBjC,UAAjB,EACb;AACC,UAAImC,OAAO,GAAG,KAAK/B,GAAL,CAAU6B,IAAV,CAAd;AACA,UAAIpD,QAAQ,GAAG,KAAKD,CAAL,CAAOC,QAAtB;AACA,UAAIgF,cAAc,GAAG,KAAKjF,CAAL,CAAOoB,UAA5B;;AAEA,UAAKmC,OAAO,CAACvB,QAAR,IAAoBiD,cAAc,CAAE5B,IAAF,CAAd,KAA2BjC,UAApD,EAAiE;AAChEmC,QAAAA,OAAO,CAACvB,QAAR,CAAiB6C,GAAjB,CAAsB,MAAtB,EAA8B5E,QAAQ,CAACM,IAAT,GAAgBa,UAA9C;AAEA6D,QAAAA,cAAc,CAAE5B,IAAF,CAAd,GAAyBjC,UAAzB;AACA;AACD,KAtN+B;;AAwNhC;;;;;;;;;;;;;;;AAeAqB,IAAAA,WAAW,EAAE,qBAAWyC,IAAX,EAAiB7B,IAAjB,EAAuB8B,WAAvB,EACb;AACC,UAAIzF,EAAE,GAAG,KAAKM,CAAL,CAAON,EAAhB;AACA,UAAI6D,OAAO,GAAG,KAAK/B,GAAL,CAAU6B,IAAV,CAAd;AACA,UAAIpD,QAAQ,GAAG,KAAKD,CAAL,CAAOC,QAAtB;;AAEA,UAAKiF,IAAI,KAAK,UAAd,EAA2B;AAC1B;AACA,YAAK3B,OAAO,CAACtB,WAAb,EAA2B;AAC1BsB,UAAAA,OAAO,CAACtB,WAAR,CAAoByB,MAApB;AACAH,UAAAA,OAAO,CAACtB,WAAR,GAAsB,IAAtB;AACA;;AAED,aAAK6C,OAAL,CAAczB,IAAd;;AAEAE,QAAAA,OAAO,CAACxB,IAAR,CAAaiC,MAAb,CAAqBX,IAAI,KAAK,QAAT,GACpB,KAAK7B,GAAL,CAASE,KADW,GAEpB,KAAKF,GAAL,CAASM,KAFV;;AAKA,YAAKyB,OAAO,CAACvB,QAAb,EAAwB;AACvBuB,UAAAA,OAAO,CAACvB,QAAR,CAAiB0B,MAAjB;AACAH,UAAAA,OAAO,CAACvB,QAAR,GAAmB,IAAnB;AACA;AACD,OAlBD,MAmBK,IAAKkD,IAAI,KAAK,IAAd,EAAqB;AACzB;AACA;AACA,aAAK9B,MAAL,CAAaC,IAAb,EAAmB8B,WAAnB;;AAEA5B,QAAAA,OAAO,CAACvB,QAAR,CACEoD,QADF,CACY,sBADZ,EAEEP,GAFF,CAEOxB,IAAI,KAAK,QAAT,GAAoB,KAApB,GAA4B,QAFnC,EAE6C,KAAKxD,CAAL,CAAOwD,IAAI,GAAC,QAAZ,CAF7C,EAGEwB,GAHF,CAGO,MAHP,EAGe5E,QAAQ,CAACM,IAAT,GAAc,IAH7B,EAIEsE,GAJF,CAIO,OAJP,EAIgB5E,QAAQ,CAACK,KAAT,GAAe,IAJ/B;;AAMA,YAAK+C,IAAI,KAAK,QAAd,EAAyB;AACxBE,UAAAA,OAAO,CAACvB,QAAR,CAAiB6C,GAAjB,CAAsB,KAAtB,EAA6B,EAA7B;AACA;AACD,OAdI,MAeA,IAAKK,IAAI,KAAK,OAAd,EAAwB;AAAE;AAC9B;AACA,aAAK9B,MAAL,CAAaC,IAAb,EAAmB8B,WAAnB;;AAEA5B,QAAAA,OAAO,CAACvB,QAAR,CACEoD,QADF,CACY,oBADZ,EAEEP,GAFF,CAEO,KAFP,EAEc5E,QAAQ,CAACG,QAAT,GAAoBH,QAAQ,CAACQ,WAF3C,EAGEoE,GAHF,CAGO,MAHP,EAGe5E,QAAQ,CAACM,IAAT,GAAc,IAH7B,EAIEsE,GAJF,CAIO,OAJP,EAIgB5E,QAAQ,CAACK,KAAT,GAAe,IAJ/B;AAKA,OATI,MAUA,IAAK4E,IAAI,KAAK,OAAd,EAAwB;AAAE;AAC9B;AACA,aAAK9B,MAAL,CAAaC,IAAb,EAAmB8B,WAAnB;;AAEA5B,QAAAA,OAAO,CAACvB,QAAR,CACEoD,QADF,CACY,oBADZ,EAEEP,GAFF,CAEO,KAFP,EAEc5E,QAAQ,CAACE,QAFvB,EAGE0E,GAHF,CAGO,MAHP,EAGe5E,QAAQ,CAACM,IAAT,GAAc,IAH7B,EAIEsE,GAJF,CAIO,OAJP,EAIgB5E,QAAQ,CAACK,KAAT,GAAe,IAJ/B;AAKA;;AAED,WAAKN,CAAL,CAAOoB,UAAP,CAAkBC,MAAlB,GAA2B,CAAC,CAA5B;AACA,WAAKrB,CAAL,CAAOoB,UAAP,CAAkBE,MAAlB,GAA2B,CAAC,CAA5B;AACA,WAAKtB,CAAL,CAAOqD,IAAI,GAAC,MAAZ,IAAsB6B,IAAtB;AACA,KAvS+B;;AAyShC;;;;;;AAMAnC,IAAAA,UAAU,EAAE,sBACZ;AACC,UAAIrD,EAAE,GAAG,KAAKM,CAAL,CAAON,EAAhB;AACA,UAAIiC,KAAK,GAAGjC,EAAE,CAACiC,KAAH,EAAZ;AACA,UAAI1B,QAAQ,GAAG,KAAKD,CAAL,CAAOC,QAAtB;AACA,UAAIuB,GAAG,GAAG,KAAKA,GAAf;AACA,UAAI6D,SAAS,GAAGzG,CAAC,CAAC+C,KAAK,CAACkC,IAAN,EAAD,CAAjB,CALD,CAOC;AACA;AACA;;AACA,UAAInC,KAAK,GAAG2D,SAAS,CAAC1B,QAAV,CAAmB,OAAnB,CAAZ;AACA,UAAI7B,KAAK,GAAGuD,SAAS,CAAC1B,QAAV,CAAmB,OAAnB,CAAZ;AACA,UAAI/B,KAAK,GAAGJ,GAAG,CAACI,KAAhB;AAEA3B,MAAAA,QAAQ,CAACW,OAAT,GAAmByE,SAAS,CAACC,EAAV,CAAa,UAAb,CAAnB;AACArF,MAAAA,QAAQ,CAACK,KAAT,GAAiB+E,SAAS,CAACE,UAAV,EAAjB;AACAtF,MAAAA,QAAQ,CAACM,IAAT,GAAgB8E,SAAS,CAACxC,MAAV,GAAmBtC,IAAnC;AACAN,MAAAA,QAAQ,CAACC,QAAT,GAAoBwB,KAAK,CAACmB,MAAN,GAAe2C,GAAnC;AACAvF,MAAAA,QAAQ,CAACE,QAAT,GAAoByB,KAAK,CAACiB,MAAN,GAAe2C,GAAnC;AACAvF,MAAAA,QAAQ,CAACQ,WAAT,GAAuBR,QAAQ,CAACE,QAAT,GAAoBF,QAAQ,CAACC,QAApD;;AAEA,UAAK4B,KAAK,CAACY,MAAX,EAAoB;AACnBzC,QAAAA,QAAQ,CAACG,QAAT,GAAoB0B,KAAK,CAACe,MAAN,GAAe2C,GAAnC;AACAvF,QAAAA,QAAQ,CAACI,WAAT,GAAuBJ,QAAQ,CAACG,QAAT,GAAoB0B,KAAK,CAAC2D,WAAN,EAA3C;AACAxF,QAAAA,QAAQ,CAACO,WAAT,GAAuBP,QAAQ,CAACI,WAAT,GAAuBJ,QAAQ,CAACG,QAAvD;AACA,OAJD,MAKK;AACJH,QAAAA,QAAQ,CAACG,QAAT,GAAoBH,QAAQ,CAACE,QAAT,GAAoByB,KAAK,CAAC6D,WAAN,EAAxC;AACAxF,QAAAA,QAAQ,CAACI,WAAT,GAAuBJ,QAAQ,CAACG,QAAhC;AACAH,QAAAA,QAAQ,CAACO,WAAT,GAAuBP,QAAQ,CAACG,QAAhC;AACA;AACD,KA/U+B;;AAkVhC;;;;;;;;AAQA4C,IAAAA,OAAO,EAAE,iBAAWmC,WAAX,EACT;AACC,UAAIO,SAAS,GAAG9G,CAAC,CAACE,QAAD,CAAD,CAAY6G,SAAZ,EAAhB;AACA,UAAIC,UAAU,GAAGhH,CAAC,CAACE,QAAD,CAAD,CAAYsC,UAAZ,EAAjB;AACA,UAAInB,QAAQ,GAAG,KAAKD,CAAL,CAAOC,QAAtB;AACA,UAAIY,UAAJ,EAAgBC,UAAhB;;AAEA,UAAK,CAAE,KAAKd,CAAL,CAAOuB,MAAd,EAAuB;AACtB;AACA;;AAED,UAAK,KAAK1B,CAAL,CAAOwB,MAAZ,EAAqB;AACpB,YAAK,CAAEpB,QAAQ,CAACW,OAAX,IAAsB8E,SAAS,IAAIzF,QAAQ,CAACC,QAAT,GAAoB,KAAKL,CAAL,CAAO+C,YAAnE,EAAkF;AACjF/B,UAAAA,UAAU,GAAG,UAAb;AACA,SAFD,MAGK,IAAK6E,SAAS,IAAIzF,QAAQ,CAACG,QAAT,GAAoBH,QAAQ,CAACQ,WAA7B,GAA2C,KAAKZ,CAAL,CAAO+C,YAApE,EAAmF;AACvF/B,UAAAA,UAAU,GAAG,IAAb;AACA,SAFI,MAGA;AACJA,UAAAA,UAAU,GAAG,OAAb;AACA;;AAED,YAAKsE,WAAW,IAAItE,UAAU,KAAK,KAAKb,CAAL,CAAOa,UAA1C,EAAuD;AACtD,eAAK4B,WAAL,CAAkB5B,UAAlB,EAA8B,QAA9B,EAAwCsE,WAAxC;AACA;;AAED,aAAKH,WAAL,CAAkB,QAAlB,EAA4BY,UAA5B;AACA;;AAED,UAAK,KAAK/F,CAAL,CAAOyB,MAAP,IAAiB,KAAKE,GAAL,CAASM,KAAT,CAAeY,MAArC,EAA8C;AAC7C,YAAK,CAAEzC,QAAQ,CAACW,OAAX,IAAsB8E,SAAS,GAAGzF,QAAQ,CAACS,YAArB,IAAqCT,QAAQ,CAACI,WAAT,GAAuB,KAAKR,CAAL,CAAOiD,YAA9F,EAA6G;AAC5GhC,UAAAA,UAAU,GAAG,UAAb;AACA,SAFD,MAGK,IAAKb,QAAQ,CAACS,YAAT,GAAwBgF,SAAxB,GAAoCzF,QAAQ,CAACE,QAAT,GAAoBF,QAAQ,CAACO,WAA7B,GAA2C,KAAKX,CAAL,CAAOiD,YAA3F,EAA0G;AAC9GhC,UAAAA,UAAU,GAAG,IAAb;AACA,SAFI,MAGA;AACJA,UAAAA,UAAU,GAAG,OAAb;AACA;;AAED,YAAKqE,WAAW,IAAIrE,UAAU,KAAK,KAAKd,CAAL,CAAOc,UAA1C,EAAuD;AACtD,eAAK2B,WAAL,CAAkB3B,UAAlB,EAA8B,QAA9B,EAAwCqE,WAAxC;AACA;;AAED,aAAKH,WAAL,CAAkB,QAAlB,EAA4BY,UAA5B;AACA;AACD;AAxY+B,GAAjC;AA4YA;;;;;;AAKAnG,EAAAA,WAAW,CAACoG,OAAZ,GAAsB,OAAtB;AAEA;;;;;;AAKApG,EAAAA,WAAW,CAACM,QAAZ,GAAuB;AACtBsB,IAAAA,MAAM,EAAE,IADc;AAEtBC,IAAAA,MAAM,EAAE,KAFc;AAGtBsB,IAAAA,YAAY,EAAE,CAHQ;AAItBE,IAAAA,YAAY,EAAE;AAJQ,GAAvB;AAQA;;;AAIA;;AACAlE,EAAAA,CAAC,CAACM,EAAF,CAAKC,SAAL,CAAeM,WAAf,GAA6BA,WAA7B;AACAb,EAAAA,CAAC,CAACM,EAAF,CAAKK,SAAL,CAAeE,WAAf,GAA6BA,WAA7B,CAzf6C,CA4f7C;AACA;;AACAb,EAAAA,CAAC,CAACE,QAAD,CAAD,CAAYoE,EAAZ,CAAgB,aAAhB,EAA+B,UAAU4C,CAAV,EAAa9E,QAAb,EAAuB+E,IAAvB,EAA6B;AAC3D,QAAKD,CAAC,CAAC3E,SAAF,KAAgB,IAArB,EAA4B;AAC3B;AACA;;AAED,QAAI6E,IAAI,GAAGhF,QAAQ,CAACiF,KAAT,CAAeC,WAAf,IAA8B3G,SAAS,CAACQ,QAAV,CAAmBmG,WAA5D;;AAEA,QAAKF,IAAI,IAAI,CAAEhF,QAAQ,CAACoB,YAAxB,EAAuC;AACtC,UAAI3C,WAAJ,CAAiBuB,QAAjB,EAA2BgF,IAA3B;AACA;AACD,GAVD,EA9f6C,CA0gB7C;;AACAzG,EAAAA,SAAS,CAACK,GAAV,CAAcuG,QAAd,CAAwB,eAAxB,EAAyC,YAAY,CAAE,CAAvD;AAEA5G,EAAAA,SAAS,CAACK,GAAV,CAAcuG,QAAd,CAAwB,sBAAxB,EAAgD,YAAY;AAC3D,WAAO,KAAKC,QAAL,CAAe,OAAf,EAAwB,UAAWC,GAAX,EAAiB;AAC/C,UAAIC,EAAE,GAAGD,GAAG,CAACjE,YAAb;;AAEA,UAAKkE,EAAL,EAAU;AACTA,QAAAA,EAAE,CAAC3D,MAAH;AACA;AACD,KANM,CAAP;AAOA,GARD;AAUApD,EAAAA,SAAS,CAACK,GAAV,CAAcuG,QAAd,CAAwB,sBAAxB,EAAgD,UAAWI,IAAX,EAAkB;AACjE,WAAO,KAAKH,QAAL,CAAe,OAAf,EAAwB,UAAWC,GAAX,EAAiB;AAC/C,UAAIC,EAAE,GAAGD,GAAG,CAACjE,YAAb;;AAEA,UAAKkE,EAAL,EAAU;AACTA,QAAAA,EAAE,CAAC/E,MAAH,CAAWgF,IAAI,KAAKjH,SAAT,GAAqBiH,IAArB,GAA4B,IAAvC;AACA;AACD,KANM,CAAP;AAOA,GARD;AAUAhH,EAAAA,SAAS,CAACK,GAAV,CAAcuG,QAAd,CAAwB,uBAAxB,EAAiD,YAAa;AAC7D,WAAO,KAAKC,QAAL,CAAe,OAAf,EAAwB,UAAWC,GAAX,EAAiB;AAC/C,UAAIC,EAAE,GAAGD,GAAG,CAACjE,YAAb;;AAEA,UAAKkE,EAAL,EAAU;AACTA,QAAAA,EAAE,CAAC/E,MAAH,CAAW,KAAX;AACA;AACD,KANM,CAAP;AAOA,GARD;AAUA3C,EAAAA,CAAC,CAAC+F,IAAF,CAAQ,CAAC,QAAD,EAAW,QAAX,CAAR,EAA8B,UAAWC,CAAX,EAAcG,EAAd,EAAmB;AAChDxF,IAAAA,SAAS,CAACK,GAAV,CAAcuG,QAAd,CAAwB,iBAAepB,EAAf,GAAkB,UAA1C,EAAsD,UAAWlC,MAAX,EAAoB;AACzE,UAAIwD,GAAG,GAAG,KAAKG,OAAf;;AAEA,UAAK3D,MAAM,KAAKvD,SAAhB,EAA4B;AAC3B,eAAO+G,GAAG,CAAC3D,MAAJ,IAAc2D,GAAG,CAAC,CAAD,CAAH,CAAOjE,YAArB,GACNiE,GAAG,CAAC,CAAD,CAAH,CAAOjE,YAAP,CAAoB2C,EAAE,GAAE,QAAxB,GADM,GAENzF,SAFD;AAGA;;AAED,aAAO,KAAK8G,QAAL,CAAe,OAAf,EAAwB,UAAWC,GAAX,EAAiB;AAC/C,YAAIC,EAAE,GAAGD,GAAG,CAACjE,YAAb;;AAEA,YAAKkE,EAAL,EAAU;AACTA,UAAAA,EAAE,CAAEvB,EAAE,GAAE,QAAN,CAAF,CAAoBlC,MAApB;AACA;AACD,OANM,CAAP;AAOA,KAhBD;AAiBA,GAlBD;AAqBA,SAAOpD,WAAP;AACC,CA1lBA,CAAD","sourcesContent":["/*! FixedHeader 3.1.0\n * ©2009-2015 SpryMedia Ltd - datatables.net/license\n */\n\n/**\n * @summary     FixedHeader\n * @description Fix a table's header or footer, so it is always visible while\n *              scrolling\n * @version     3.1.0\n * @file        dataTables.fixedHeader.js\n * @author      SpryMedia Ltd (www.sprymedia.co.uk)\n * @contact     www.sprymedia.co.uk/contact\n * @copyright   Copyright 2009-2015 SpryMedia Ltd.\n *\n * This source file is free software, available under the following license:\n *   MIT license - http://datatables.net/license/mit\n *\n * This source file is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY\n * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.\n *\n * For details please refer to: http://www.datatables.net\n */\n\n(function( factory ){\n\tif ( typeof define === 'function' && define.amd ) {\n\t\t// AMD\n\t\tdefine( ['jquery', 'datatables.net'], function ( $ ) {\n\t\t\treturn factory( $, window, document );\n\t\t} );\n\t}\n\telse if ( typeof exports === 'object' ) {\n\t\t// CommonJS\n\t\tmodule.exports = function (root, $) {\n\t\t\tif ( ! root ) {\n\t\t\t\troot = window;\n\t\t\t}\n\n\t\t\tif ( ! $ || ! $.fn.dataTable ) {\n\t\t\t\t$ = require('datatables.net')(root, $).$;\n\t\t\t}\n\n\t\t\treturn factory( $, root, root.document );\n\t\t};\n\t}\n\telse {\n\t\t// Browser\n\t\tfactory( jQuery, window, document );\n\t}\n}(function( $, window, document, undefined ) {\n'use strict';\nvar DataTable = $.fn.dataTable;\n\n\nvar _instCounter = 0;\n\nvar FixedHeader = function ( dt, config ) {\n\t// Sanity check - you just know it will happen\n\tif ( ! (this instanceof FixedHeader) ) {\n\t\tthrow \"FixedHeader must be initialised with the 'new' keyword.\";\n\t}\n\n\t// Allow a boolean true for defaults\n\tif ( config === true ) {\n\t\tconfig = {};\n\t}\n\n\tdt = new DataTable.Api( dt );\n\n\tthis.c = $.extend( true, {}, FixedHeader.defaults, config );\n\n\tthis.s = {\n\t\tdt: dt,\n\t\tposition: {\n\t\t\ttheadTop: 0,\n\t\t\ttbodyTop: 0,\n\t\t\ttfootTop: 0,\n\t\t\ttfootBottom: 0,\n\t\t\twidth: 0,\n\t\t\tleft: 0,\n\t\t\ttfootHeight: 0,\n\t\t\ttheadHeight: 0,\n\t\t\twindowHeight: $(window).height(),\n\t\t\tvisible: true\n\t\t},\n\t\theaderMode: null,\n\t\tfooterMode: null,\n\t\tautoWidth: dt.settings()[0].oFeatures.bAutoWidth,\n\t\tnamespace: '.dtfc'+(_instCounter++),\n\t\tscrollLeft: {\n\t\t\theader: -1,\n\t\t\tfooter: -1\n\t\t},\n\t\tenable: true\n\t};\n\n\tthis.dom = {\n\t\tfloatingHeader: null,\n\t\tthead: $(dt.table().header()),\n\t\ttbody: $(dt.table().body()),\n\t\ttfoot: $(dt.table().footer()),\n\t\theader: {\n\t\t\thost: null,\n\t\t\tfloating: null,\n\t\t\tplaceholder: null\n\t\t},\n\t\tfooter: {\n\t\t\thost: null,\n\t\t\tfloating: null,\n\t\t\tplaceholder: null\n\t\t}\n\t};\n\n\tthis.dom.header.host = this.dom.thead.parent();\n\tthis.dom.footer.host = this.dom.tfoot.parent();\n\n\tvar dtSettings = dt.settings()[0];\n\tif ( dtSettings._fixedHeader ) {\n\t\tthrow \"FixedHeader already initialised on table \"+dtSettings.nTable.id;\n\t}\n\n\tdtSettings._fixedHeader = this;\n\n\tthis._constructor();\n};\n\n\n/*\n * Variable: FixedHeader\n * Purpose:  Prototype for FixedHeader\n * Scope:    global\n */\n$.extend( FixedHeader.prototype, {\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * API methods\n\t */\n\t\n\t/**\n\t * Enable / disable the fixed elements\n\t *\n\t * @param  {boolean} enable `true` to enable, `false` to disable\n\t */\n\tenable: function ( enable )\n\t{\n\t\tthis.s.enable = enable;\n\n\t\tif ( this.c.header ) {\n\t\t\tthis._modeChange( 'in-place', 'header', true );\n\t\t}\n\n\t\tif ( this.c.footer && this.dom.tfoot.length ) {\n\t\t\tthis._modeChange( 'in-place', 'footer', true );\n\t\t}\n\n\t\tthis.update();\n\t},\n\t\n\t/**\n\t * Set header offset \n\t *\n\t * @param  {int} new value for headerOffset\n\t */\n\theaderOffset: function ( offset )\n\t{\n\t\tif ( offset !== undefined ) {\n\t\t\tthis.c.headerOffset = offset;\n\t\t\tthis.update();\n\t\t}\n\n\t\treturn this.c.headerOffset;\n\t},\n\t\n\t/**\n\t * Set footer offset\n\t *\n\t * @param  {int} new value for footerOffset\n\t */\n\tfooterOffset: function ( offset )\n\t{\n\t\tif ( offset !== undefined ) {\n\t\t\tthis.c.footerOffset = offset;\n\t\t\tthis.update();\n\t\t}\n\n\t\treturn this.c.footerOffset;\n\t},\n\n\t\n\t/**\n\t * Recalculate the position of the fixed elements and force them into place\n\t */\n\tupdate: function ()\n\t{\n\t\tthis._positions();\n\t\tthis._scroll( true );\n\t},\n\n\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * Constructor\n\t */\n\t\n\t/**\n\t * FixedHeader constructor - adding the required event listeners and\n\t * simple initialisation\n\t *\n\t * @private\n\t */\n\t_constructor: function ()\n\t{\n\t\tvar that = this;\n\t\tvar dt = this.s.dt;\n\n\t\t$(window)\n\t\t\t.on( 'scroll'+this.s.namespace, function () {\n\t\t\t\tthat._scroll();\n\t\t\t} )\n\t\t\t.on( 'resize'+this.s.namespace, function () {\n\t\t\t\tthat.s.position.windowHeight = $(window).height();\n\t\t\t\tthat.update();\n\t\t\t} );\n\n\t\tdt.on( 'column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc', function () {\n\t\t\tthat.update();\n\t\t} );\n\n\t\tdt.on( 'destroy.dtfc', function () {\n\t\t\tdt.off( '.dtfc' );\n\t\t\t$(window).off( that.s.namespace );\n\t\t} );\n\n\t\tthis._positions();\n\t\tthis._scroll();\n\t},\n\n\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n\t * Private methods\n\t */\n\n\t/**\n\t * Clone a fixed item to act as a place holder for the original element\n\t * which is moved into a clone of the table element, and moved around the\n\t * document to give the fixed effect.\n\t *\n\t * @param  {string}  item  'header' or 'footer'\n\t * @param  {boolean} force Force the clone to happen, or allow automatic\n\t *   decision (reuse existing if available)\n\t * @private\n\t */\n\t_clone: function ( item, force )\n\t{\n\t\tvar dt = this.s.dt;\n\t\tvar itemDom = this.dom[ item ];\n\t\tvar itemElement = item === 'header' ?\n\t\t\tthis.dom.thead :\n\t\t\tthis.dom.tfoot;\n\n\t\tif ( ! force && itemDom.floating ) {\n\t\t\t// existing floating element - reuse it\n\t\t\titemDom.floating.removeClass( 'fixedHeader-floating fixedHeader-locked' );\n\t\t}\n\t\telse {\n\t\t\tif ( itemDom.floating ) {\n\t\t\t\titemDom.placeholder.remove();\n\t\t\t\titemDom.floating.children().detach();\n\t\t\t\titemDom.floating.remove();\n\t\t\t}\n\n\t\t\titemDom.floating = $( dt.table().node().cloneNode( false ) )\n\t\t\t\t.removeAttr( 'id' )\n\t\t\t\t.append( itemElement )\n\t\t\t\t.appendTo( 'body' );\n\n\t\t\t// Insert a fake thead/tfoot into the DataTable to stop it jumping around\n\t\t\titemDom.placeholder = itemElement.clone( false );\n\t\t\titemDom.host.append( itemDom.placeholder );\n\n\t\t\t// Clone widths\n\t\t\tthis._matchWidths( itemDom.placeholder, itemDom.floating );\n\t\t}\n\t},\n\n\t/**\n\t * Copy widths from the cells in one element to another. This is required\n\t * for the footer as the footer in the main table takes its sizes from the\n\t * header columns. That isn't present in the footer so to have it still\n\t * align correctly, the sizes need to be copied over. It is also required\n\t * for the header when auto width is not enabled\n\t *\n\t * @param  {jQuery} from Copy widths from\n\t * @param  {jQuery} to   Copy widths to\n\t * @private\n\t */\n\t_matchWidths: function ( from, to ) {\n\t\tvar type = function ( name ) {\n\t\t\tvar toWidths = $(name, from)\n\t\t\t\t.map( function () {\n\t\t\t\t\treturn $(this).width();\n\t\t\t\t} ).toArray();\n\n\t\t\t$(name, to).each( function ( i ) {\n\t\t\t\t$(this).width( toWidths[i] ).css(\"min-width\", toWidths[i] );\n\t\t\t} );\n\t\t};\n\n\t\ttype( 'th' );\n\t\ttype( 'td' );\n\t},\n\n\t/**\n\t * Remove assigned widths from the cells in an element. This is required\n\t * when inserting the footer back into the main table so the size is defined\n\t * by the header columns and also when auto width is disabled in the\n\t * DataTable.\n\t *\n\t * @param  {string} item The `header` or `footer`\n\t * @private\n\t */\n\t_unsize: function ( item ) {\n\t\tvar el = this.dom[ item ].floating;\n\n\t\tif ( el && (item === 'footer' || (item === 'header' && ! this.s.autoWidth)) ) {\n\t\t\t$('th, td', el).css( 'width', '' );\n\t\t}\n\t},\n\n\t/**\n\t * Reposition the floating elements to take account of horizontal page\n\t * scroll\n\t *\n\t * @param  {string} item       The `header` or `footer`\n\t * @param  {int}    scrollLeft Document scrollLeft\n\t * @private\n\t */\n\t_horizontal: function ( item, scrollLeft )\n\t{\n\t\tvar itemDom = this.dom[ item ];\n\t\tvar position = this.s.position;\n\t\tvar lastScrollLeft = this.s.scrollLeft;\n\n\t\tif ( itemDom.floating && lastScrollLeft[ item ] !== scrollLeft ) {\n\t\t\titemDom.floating.css( 'left', position.left - scrollLeft );\n\n\t\t\tlastScrollLeft[ item ] = scrollLeft;\n\t\t}\n\t},\n\n\t/**\n\t * Change from one display mode to another. Each fixed item can be in one\n\t * of:\n\t *\n\t * * `in-place` - In the main DataTable\n\t * * `in` - Floating over the DataTable\n\t * * `below` - (Header only) Fixed to the bottom of the table body\n\t * * `above` - (Footer only) Fixed to the top of the table body\n\t * \n\t * @param  {string}  mode        Mode that the item should be shown in\n\t * @param  {string}  item        'header' or 'footer'\n\t * @param  {boolean} forceChange Force a redraw of the mode, even if already\n\t *     in that mode.\n\t * @private\n\t */\n\t_modeChange: function ( mode, item, forceChange )\n\t{\n\t\tvar dt = this.s.dt;\n\t\tvar itemDom = this.dom[ item ];\n\t\tvar position = this.s.position;\n\n\t\tif ( mode === 'in-place' ) {\n\t\t\t// Insert the header back into the table's real header\n\t\t\tif ( itemDom.placeholder ) {\n\t\t\t\titemDom.placeholder.remove();\n\t\t\t\titemDom.placeholder = null;\n\t\t\t}\n\n\t\t\tthis._unsize( item );\n\n\t\t\titemDom.host.append( item === 'header' ?\n\t\t\t\tthis.dom.thead :\n\t\t\t\tthis.dom.tfoot\n\t\t\t);\n\n\t\t\tif ( itemDom.floating ) {\n\t\t\t\titemDom.floating.remove();\n\t\t\t\titemDom.floating = null;\n\t\t\t}\n\t\t}\n\t\telse if ( mode === 'in' ) {\n\t\t\t// Remove the header from the read header and insert into a fixed\n\t\t\t// positioned floating table clone\n\t\t\tthis._clone( item, forceChange );\n\n\t\t\titemDom.floating\n\t\t\t\t.addClass( 'fixedHeader-floating' )\n\t\t\t\t.css( item === 'header' ? 'top' : 'bottom', this.c[item+'Offset'] )\n\t\t\t\t.css( 'left', position.left+'px' )\n\t\t\t\t.css( 'width', position.width+'px' );\n\n\t\t\tif ( item === 'footer' ) {\n\t\t\t\titemDom.floating.css( 'top', '' );\n\t\t\t}\n\t\t}\n\t\telse if ( mode === 'below' ) { // only used for the header\n\t\t\t// Fix the position of the floating header at base of the table body\n\t\t\tthis._clone( item, forceChange );\n\n\t\t\titemDom.floating\n\t\t\t\t.addClass( 'fixedHeader-locked' )\n\t\t\t\t.css( 'top', position.tfootTop - position.theadHeight )\n\t\t\t\t.css( 'left', position.left+'px' )\n\t\t\t\t.css( 'width', position.width+'px' );\n\t\t}\n\t\telse if ( mode === 'above' ) { // only used for the footer\n\t\t\t// Fix the position of the floating footer at top of the table body\n\t\t\tthis._clone( item, forceChange );\n\n\t\t\titemDom.floating\n\t\t\t\t.addClass( 'fixedHeader-locked' )\n\t\t\t\t.css( 'top', position.tbodyTop )\n\t\t\t\t.css( 'left', position.left+'px' )\n\t\t\t\t.css( 'width', position.width+'px' );\n\t\t}\n\n\t\tthis.s.scrollLeft.header = -1;\n\t\tthis.s.scrollLeft.footer = -1;\n\t\tthis.s[item+'Mode'] = mode;\n\t},\n\n\t/**\n\t * Cache the positional information that is required for the mode\n\t * calculations that FixedHeader performs.\n\t *\n\t * @private\n\t */\n\t_positions: function ()\n\t{\n\t\tvar dt = this.s.dt;\n\t\tvar table = dt.table();\n\t\tvar position = this.s.position;\n\t\tvar dom = this.dom;\n\t\tvar tableNode = $(table.node());\n\n\t\t// Need to use the header and footer that are in the main table,\n\t\t// regardless of if they are clones, since they hold the positions we\n\t\t// want to measure from\n\t\tvar thead = tableNode.children('thead');\n\t\tvar tfoot = tableNode.children('tfoot');\n\t\tvar tbody = dom.tbody;\n\n\t\tposition.visible = tableNode.is(':visible');\n\t\tposition.width = tableNode.outerWidth();\n\t\tposition.left = tableNode.offset().left;\n\t\tposition.theadTop = thead.offset().top;\n\t\tposition.tbodyTop = tbody.offset().top;\n\t\tposition.theadHeight = position.tbodyTop - position.theadTop;\n\n\t\tif ( tfoot.length ) {\n\t\t\tposition.tfootTop = tfoot.offset().top;\n\t\t\tposition.tfootBottom = position.tfootTop + tfoot.outerHeight();\n\t\t\tposition.tfootHeight = position.tfootBottom - position.tfootTop;\n\t\t}\n\t\telse {\n\t\t\tposition.tfootTop = position.tbodyTop + tbody.outerHeight();\n\t\t\tposition.tfootBottom = position.tfootTop;\n\t\t\tposition.tfootHeight = position.tfootTop;\n\t\t}\n\t},\n\n\n\t/**\n\t * Mode calculation - determine what mode the fixed items should be placed\n\t * into.\n\t *\n\t * @param  {boolean} forceChange Force a redraw of the mode, even if already\n\t *     in that mode.\n\t * @private\n\t */\n\t_scroll: function ( forceChange )\n\t{\n\t\tvar windowTop = $(document).scrollTop();\n\t\tvar windowLeft = $(document).scrollLeft();\n\t\tvar position = this.s.position;\n\t\tvar headerMode, footerMode;\n\n\t\tif ( ! this.s.enable ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.c.header ) {\n\t\t\tif ( ! position.visible || windowTop <= position.theadTop - this.c.headerOffset ) {\n\t\t\t\theaderMode = 'in-place';\n\t\t\t}\n\t\t\telse if ( windowTop <= position.tfootTop - position.theadHeight - this.c.headerOffset ) {\n\t\t\t\theaderMode = 'in';\n\t\t\t}\n\t\t\telse {\n\t\t\t\theaderMode = 'below';\n\t\t\t}\n\n\t\t\tif ( forceChange || headerMode !== this.s.headerMode ) {\n\t\t\t\tthis._modeChange( headerMode, 'header', forceChange );\n\t\t\t}\n\n\t\t\tthis._horizontal( 'header', windowLeft );\n\t\t}\n\n\t\tif ( this.c.footer && this.dom.tfoot.length ) {\n\t\t\tif ( ! position.visible || windowTop + position.windowHeight >= position.tfootBottom + this.c.footerOffset ) {\n\t\t\t\tfooterMode = 'in-place';\n\t\t\t}\n\t\t\telse if ( position.windowHeight + windowTop > position.tbodyTop + position.tfootHeight + this.c.footerOffset ) {\n\t\t\t\tfooterMode = 'in';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tfooterMode = 'above';\n\t\t\t}\n\n\t\t\tif ( forceChange || footerMode !== this.s.footerMode ) {\n\t\t\t\tthis._modeChange( footerMode, 'footer', forceChange );\n\t\t\t}\n\n\t\t\tthis._horizontal( 'footer', windowLeft );\n\t\t}\n\t}\n} );\n\n\n/**\n * Version\n * @type {String}\n * @static\n */\nFixedHeader.version = \"3.1.0\";\n\n/**\n * Defaults\n * @type {Object}\n * @static\n */\nFixedHeader.defaults = {\n\theader: true,\n\tfooter: false,\n\theaderOffset: 0,\n\tfooterOffset: 0\n};\n\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\n * DataTables interfaces\n */\n\n// Attach for constructor access\n$.fn.dataTable.FixedHeader = FixedHeader;\n$.fn.DataTable.FixedHeader = FixedHeader;\n\n\n// DataTables creation - check if the FixedHeader option has been defined on the\n// table and if so, initialise\n$(document).on( 'init.dt.dtb', function (e, settings, json) {\n\tif ( e.namespace !== 'dt' ) {\n\t\treturn;\n\t}\n\n\tvar opts = settings.oInit.fixedHeader || DataTable.defaults.fixedHeader;\n\n\tif ( opts && ! settings._fixedHeader ) {\n\t\tnew FixedHeader( settings, opts );\n\t}\n} );\n\n// DataTables API methods\nDataTable.Api.register( 'fixedHeader()', function () {} );\n\nDataTable.Api.register( 'fixedHeader.adjust()', function () {\n\treturn this.iterator( 'table', function ( ctx ) {\n\t\tvar fh = ctx._fixedHeader;\n\n\t\tif ( fh ) {\n\t\t\tfh.update();\n\t\t}\n\t} );\n} );\n\nDataTable.Api.register( 'fixedHeader.enable()', function ( flag ) {\n\treturn this.iterator( 'table', function ( ctx ) {\n\t\tvar fh = ctx._fixedHeader;\n\n\t\tif ( fh ) {\n\t\t\tfh.enable( flag !== undefined ? flag : true );\n\t\t}\n\t} );\n} );\n\nDataTable.Api.register( 'fixedHeader.disable()', function ( ) {\n\treturn this.iterator( 'table', function ( ctx ) {\n\t\tvar fh = ctx._fixedHeader;\n\n\t\tif ( fh ) {\n\t\t\tfh.enable( false );\n\t\t}\n\t} );\n} );\n\n$.each( ['header', 'footer'], function ( i, el ) {\n\tDataTable.Api.register( 'fixedHeader.'+el+'Offset()', function ( offset ) {\n\t\tvar ctx = this.context;\n\n\t\tif ( offset === undefined ) {\n\t\t\treturn ctx.length && ctx[0]._fixedHeader ?\n\t\t\t\tctx[0]._fixedHeader[el +'Offset']() :\n\t\t\t\tundefined;\n\t\t}\n\n\t\treturn this.iterator( 'table', function ( ctx ) {\n\t\t\tvar fh = ctx._fixedHeader;\n\n\t\t\tif ( fh ) {\n\t\t\t\tfh[ el +'Offset' ]( offset );\n\t\t\t}\n\t\t} );\n\t} );\n} );\n\n\nreturn FixedHeader;\n}));\n"]},"metadata":{},"sourceType":"module"}