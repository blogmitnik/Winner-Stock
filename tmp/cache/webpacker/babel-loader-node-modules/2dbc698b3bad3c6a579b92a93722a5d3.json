{"ast":null,"code":"/*!\n * Bootstrap-select v1.13.12 (https://developer.snapappointments.com/bootstrap-select)\n *\n * Copyright 2012-2019 SnapAppointments, LLC\n * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)\n */\n(function (root, factory) {\n  if (root === undefined && window !== undefined) root = window;\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([\"jquery\"], function (a0) {\n      return factory(a0);\n    });\n  } else if (typeof module === 'object' && module.exports) {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else {\n    factory(root[\"jQuery\"]);\n  }\n})(this, function (jQuery) {\n  (function ($) {\n    'use strict';\n\n    var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn'];\n    var uriAttrs = ['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href'];\n    var ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\n    var DefaultWhitelist = {\n      // Global attributes allowed on any supplied element below.\n      '*': ['class', 'dir', 'id', 'lang', 'role', 'tabindex', 'style', ARIA_ATTRIBUTE_PATTERN],\n      a: ['target', 'href', 'title', 'rel'],\n      area: [],\n      b: [],\n      br: [],\n      col: [],\n      code: [],\n      div: [],\n      em: [],\n      hr: [],\n      h1: [],\n      h2: [],\n      h3: [],\n      h4: [],\n      h5: [],\n      h6: [],\n      i: [],\n      img: ['src', 'alt', 'title', 'width', 'height'],\n      li: [],\n      ol: [],\n      p: [],\n      pre: [],\n      s: [],\n      small: [],\n      span: [],\n      sub: [],\n      sup: [],\n      strong: [],\n      u: [],\n      ul: []\n    };\n    /**\n     * A pattern that recognizes a commonly useful subset of URLs that are safe.\n     *\n     * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n     */\n\n    var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi;\n    /**\n     * A pattern that matches safe data URLs. Only matches image, video and audio types.\n     *\n     * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n     */\n\n    var DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;\n\n    function allowedAttribute(attr, allowedAttributeList) {\n      var attrName = attr.nodeName.toLowerCase();\n\n      if ($.inArray(attrName, allowedAttributeList) !== -1) {\n        if ($.inArray(attrName, uriAttrs) !== -1) {\n          return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN));\n        }\n\n        return true;\n      }\n\n      var regExp = $(allowedAttributeList).filter(function (index, value) {\n        return value instanceof RegExp;\n      }); // Check if a regular expression validates the attribute.\n\n      for (var i = 0, l = regExp.length; i < l; i++) {\n        if (attrName.match(regExp[i])) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    function sanitizeHtml(unsafeElements, whiteList, sanitizeFn) {\n      if (sanitizeFn && typeof sanitizeFn === 'function') {\n        return sanitizeFn(unsafeElements);\n      }\n\n      var whitelistKeys = Object.keys(whiteList);\n\n      for (var i = 0, len = unsafeElements.length; i < len; i++) {\n        var elements = unsafeElements[i].querySelectorAll('*');\n\n        for (var j = 0, len2 = elements.length; j < len2; j++) {\n          var el = elements[j];\n          var elName = el.nodeName.toLowerCase();\n\n          if (whitelistKeys.indexOf(elName) === -1) {\n            el.parentNode.removeChild(el);\n            continue;\n          }\n\n          var attributeList = [].slice.call(el.attributes);\n          var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || []);\n\n          for (var k = 0, len3 = attributeList.length; k < len3; k++) {\n            var attr = attributeList[k];\n\n            if (!allowedAttribute(attr, whitelistedAttributes)) {\n              el.removeAttribute(attr.nodeName);\n            }\n          }\n        }\n      }\n    } // Polyfill for browsers with no classList support\n    // Remove in v2\n\n\n    if (!('classList' in document.createElement('_'))) {\n      (function (view) {\n        if (!('Element' in view)) return;\n\n        var classListProp = 'classList',\n            protoProp = 'prototype',\n            elemCtrProto = view.Element[protoProp],\n            objCtr = Object,\n            classListGetter = function classListGetter() {\n          var $elem = $(this);\n          return {\n            add: function add(classes) {\n              classes = Array.prototype.slice.call(arguments).join(' ');\n              return $elem.addClass(classes);\n            },\n            remove: function remove(classes) {\n              classes = Array.prototype.slice.call(arguments).join(' ');\n              return $elem.removeClass(classes);\n            },\n            toggle: function toggle(classes, force) {\n              return $elem.toggleClass(classes, force);\n            },\n            contains: function contains(classes) {\n              return $elem.hasClass(classes);\n            }\n          };\n        };\n\n        if (objCtr.defineProperty) {\n          var classListPropDesc = {\n            get: classListGetter,\n            enumerable: true,\n            configurable: true\n          };\n\n          try {\n            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n          } catch (ex) {\n            // IE 8 doesn't support enumerable:true\n            // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n            // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n            if (ex.number === undefined || ex.number === -0x7FF5EC54) {\n              classListPropDesc.enumerable = false;\n              objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n            }\n          }\n        } else if (objCtr[protoProp].__defineGetter__) {\n          elemCtrProto.__defineGetter__(classListProp, classListGetter);\n        }\n      })(window);\n    }\n\n    var testElement = document.createElement('_');\n    testElement.classList.add('c1', 'c2');\n\n    if (!testElement.classList.contains('c2')) {\n      var _add = DOMTokenList.prototype.add,\n          _remove = DOMTokenList.prototype.remove;\n\n      DOMTokenList.prototype.add = function () {\n        Array.prototype.forEach.call(arguments, _add.bind(this));\n      };\n\n      DOMTokenList.prototype.remove = function () {\n        Array.prototype.forEach.call(arguments, _remove.bind(this));\n      };\n    }\n\n    testElement.classList.toggle('c3', false); // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n    // support the second argument.\n\n    if (testElement.classList.contains('c3')) {\n      var _toggle = DOMTokenList.prototype.toggle;\n\n      DOMTokenList.prototype.toggle = function (token, force) {\n        if (1 in arguments && !this.contains(token) === !force) {\n          return force;\n        } else {\n          return _toggle.call(this, token);\n        }\n      };\n    }\n\n    testElement = null; // shallow array comparison\n\n    function isEqual(array1, array2) {\n      return array1.length === array2.length && array1.every(function (element, index) {\n        return element === array2[index];\n      });\n    }\n\n    ; // <editor-fold desc=\"Shims\">\n\n    if (!String.prototype.startsWith) {\n      (function () {\n        'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n\n        var defineProperty = function () {\n          // IE 8 only supports `Object.defineProperty` on DOM elements\n          try {\n            var object = {};\n            var $defineProperty = Object.defineProperty;\n            var result = $defineProperty(object, object, object) && $defineProperty;\n          } catch (error) {}\n\n          return result;\n        }();\n\n        var toString = {}.toString;\n\n        var startsWith = function startsWith(search) {\n          if (this == null) {\n            throw new TypeError();\n          }\n\n          var string = String(this);\n\n          if (search && toString.call(search) == '[object RegExp]') {\n            throw new TypeError();\n          }\n\n          var stringLength = string.length;\n          var searchString = String(search);\n          var searchLength = searchString.length;\n          var position = arguments.length > 1 ? arguments[1] : undefined; // `ToInteger`\n\n          var pos = position ? Number(position) : 0;\n\n          if (pos != pos) {\n            // better `isNaN`\n            pos = 0;\n          }\n\n          var start = Math.min(Math.max(pos, 0), stringLength); // Avoid the `indexOf` call if no match is possible\n\n          if (searchLength + start > stringLength) {\n            return false;\n          }\n\n          var index = -1;\n\n          while (++index < searchLength) {\n            if (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n              return false;\n            }\n          }\n\n          return true;\n        };\n\n        if (defineProperty) {\n          defineProperty(String.prototype, 'startsWith', {\n            'value': startsWith,\n            'configurable': true,\n            'writable': true\n          });\n        } else {\n          String.prototype.startsWith = startsWith;\n        }\n      })();\n    }\n\n    if (!Object.keys) {\n      Object.keys = function (o, // object\n      k, // key\n      r // result array\n      ) {\n        // initialize object and result\n        r = []; // iterate over object keys\n\n        for (k in o) {\n          // fill result array with non-prototypical keys\n          r.hasOwnProperty.call(o, k) && r.push(k);\n        } // return result\n\n\n        return r;\n      };\n    }\n\n    if (HTMLSelectElement && !HTMLSelectElement.prototype.hasOwnProperty('selectedOptions')) {\n      Object.defineProperty(HTMLSelectElement.prototype, 'selectedOptions', {\n        get: function get() {\n          return this.querySelectorAll(':checked');\n        }\n      });\n    }\n\n    function getSelectedOptions(select, ignoreDisabled) {\n      var selectedOptions = select.selectedOptions,\n          options = [],\n          opt;\n\n      if (ignoreDisabled) {\n        for (var i = 0, len = selectedOptions.length; i < len; i++) {\n          opt = selectedOptions[i];\n\n          if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\n            options.push(opt);\n          }\n        }\n\n        return options;\n      }\n\n      return selectedOptions;\n    } // much faster than $.val()\n\n\n    function getSelectValues(select, selectedOptions) {\n      var value = [],\n          options = selectedOptions || select.selectedOptions,\n          opt;\n\n      for (var i = 0, len = options.length; i < len; i++) {\n        opt = options[i];\n\n        if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\n          value.push(opt.value || opt.text);\n        }\n      }\n\n      if (!select.multiple) {\n        return !value.length ? null : value[0];\n      }\n\n      return value;\n    } // set data-selected on select element if the value has been programmatically selected\n    // prior to initialization of bootstrap-select\n    // * consider removing or replacing an alternative method *\n\n\n    var valHooks = {\n      useDefault: false,\n      _set: $.valHooks.select.set\n    };\n\n    $.valHooks.select.set = function (elem, value) {\n      if (value && !valHooks.useDefault) $(elem).data('selected', true);\n      return valHooks._set.apply(this, arguments);\n    };\n\n    var changedArguments = null;\n\n    var EventIsSupported = function () {\n      try {\n        new Event('change');\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }();\n\n    $.fn.triggerNative = function (eventName) {\n      var el = this[0],\n          event;\n\n      if (el.dispatchEvent) {\n        // for modern browsers & IE9+\n        if (EventIsSupported) {\n          // For modern browsers\n          event = new Event(eventName, {\n            bubbles: true\n          });\n        } else {\n          // For IE since it doesn't support Event constructor\n          event = document.createEvent('Event');\n          event.initEvent(eventName, true, false);\n        }\n\n        el.dispatchEvent(event);\n      } else if (el.fireEvent) {\n        // for IE8\n        event = document.createEventObject();\n        event.eventType = eventName;\n        el.fireEvent('on' + eventName, event);\n      } else {\n        // fall back to jQuery.trigger\n        this.trigger(eventName);\n      }\n    }; // </editor-fold>\n\n\n    function stringSearch(li, searchString, method, normalize) {\n      var stringTypes = ['display', 'subtext', 'tokens'],\n          searchSuccess = false;\n\n      for (var i = 0; i < stringTypes.length; i++) {\n        var stringType = stringTypes[i],\n            string = li[stringType];\n\n        if (string) {\n          string = string.toString(); // Strip HTML tags. This isn't perfect, but it's much faster than any other method\n\n          if (stringType === 'display') {\n            string = string.replace(/<[^>]+>/g, '');\n          }\n\n          if (normalize) string = normalizeToBase(string);\n          string = string.toUpperCase();\n\n          if (method === 'contains') {\n            searchSuccess = string.indexOf(searchString) >= 0;\n          } else {\n            searchSuccess = string.startsWith(searchString);\n          }\n\n          if (searchSuccess) break;\n        }\n      }\n\n      return searchSuccess;\n    }\n\n    function toInteger(value) {\n      return parseInt(value, 10) || 0;\n    } // Borrowed from Lodash (_.deburr)\n\n    /** Used to map Latin Unicode letters to basic Latin letters. */\n\n\n    var deburredLetters = {\n      // Latin-1 Supplement block.\n      '\\xc0': 'A',\n      '\\xc1': 'A',\n      '\\xc2': 'A',\n      '\\xc3': 'A',\n      '\\xc4': 'A',\n      '\\xc5': 'A',\n      '\\xe0': 'a',\n      '\\xe1': 'a',\n      '\\xe2': 'a',\n      '\\xe3': 'a',\n      '\\xe4': 'a',\n      '\\xe5': 'a',\n      '\\xc7': 'C',\n      '\\xe7': 'c',\n      '\\xd0': 'D',\n      '\\xf0': 'd',\n      '\\xc8': 'E',\n      '\\xc9': 'E',\n      '\\xca': 'E',\n      '\\xcb': 'E',\n      '\\xe8': 'e',\n      '\\xe9': 'e',\n      '\\xea': 'e',\n      '\\xeb': 'e',\n      '\\xcc': 'I',\n      '\\xcd': 'I',\n      '\\xce': 'I',\n      '\\xcf': 'I',\n      '\\xec': 'i',\n      '\\xed': 'i',\n      '\\xee': 'i',\n      '\\xef': 'i',\n      '\\xd1': 'N',\n      '\\xf1': 'n',\n      '\\xd2': 'O',\n      '\\xd3': 'O',\n      '\\xd4': 'O',\n      '\\xd5': 'O',\n      '\\xd6': 'O',\n      '\\xd8': 'O',\n      '\\xf2': 'o',\n      '\\xf3': 'o',\n      '\\xf4': 'o',\n      '\\xf5': 'o',\n      '\\xf6': 'o',\n      '\\xf8': 'o',\n      '\\xd9': 'U',\n      '\\xda': 'U',\n      '\\xdb': 'U',\n      '\\xdc': 'U',\n      '\\xf9': 'u',\n      '\\xfa': 'u',\n      '\\xfb': 'u',\n      '\\xfc': 'u',\n      '\\xdd': 'Y',\n      '\\xfd': 'y',\n      '\\xff': 'y',\n      '\\xc6': 'Ae',\n      '\\xe6': 'ae',\n      '\\xde': 'Th',\n      '\\xfe': 'th',\n      '\\xdf': 'ss',\n      // Latin Extended-A block.\n      \"\\u0100\": 'A',\n      \"\\u0102\": 'A',\n      \"\\u0104\": 'A',\n      \"\\u0101\": 'a',\n      \"\\u0103\": 'a',\n      \"\\u0105\": 'a',\n      \"\\u0106\": 'C',\n      \"\\u0108\": 'C',\n      \"\\u010A\": 'C',\n      \"\\u010C\": 'C',\n      \"\\u0107\": 'c',\n      \"\\u0109\": 'c',\n      \"\\u010B\": 'c',\n      \"\\u010D\": 'c',\n      \"\\u010E\": 'D',\n      \"\\u0110\": 'D',\n      \"\\u010F\": 'd',\n      \"\\u0111\": 'd',\n      \"\\u0112\": 'E',\n      \"\\u0114\": 'E',\n      \"\\u0116\": 'E',\n      \"\\u0118\": 'E',\n      \"\\u011A\": 'E',\n      \"\\u0113\": 'e',\n      \"\\u0115\": 'e',\n      \"\\u0117\": 'e',\n      \"\\u0119\": 'e',\n      \"\\u011B\": 'e',\n      \"\\u011C\": 'G',\n      \"\\u011E\": 'G',\n      \"\\u0120\": 'G',\n      \"\\u0122\": 'G',\n      \"\\u011D\": 'g',\n      \"\\u011F\": 'g',\n      \"\\u0121\": 'g',\n      \"\\u0123\": 'g',\n      \"\\u0124\": 'H',\n      \"\\u0126\": 'H',\n      \"\\u0125\": 'h',\n      \"\\u0127\": 'h',\n      \"\\u0128\": 'I',\n      \"\\u012A\": 'I',\n      \"\\u012C\": 'I',\n      \"\\u012E\": 'I',\n      \"\\u0130\": 'I',\n      \"\\u0129\": 'i',\n      \"\\u012B\": 'i',\n      \"\\u012D\": 'i',\n      \"\\u012F\": 'i',\n      \"\\u0131\": 'i',\n      \"\\u0134\": 'J',\n      \"\\u0135\": 'j',\n      \"\\u0136\": 'K',\n      \"\\u0137\": 'k',\n      \"\\u0138\": 'k',\n      \"\\u0139\": 'L',\n      \"\\u013B\": 'L',\n      \"\\u013D\": 'L',\n      \"\\u013F\": 'L',\n      \"\\u0141\": 'L',\n      \"\\u013A\": 'l',\n      \"\\u013C\": 'l',\n      \"\\u013E\": 'l',\n      \"\\u0140\": 'l',\n      \"\\u0142\": 'l',\n      \"\\u0143\": 'N',\n      \"\\u0145\": 'N',\n      \"\\u0147\": 'N',\n      \"\\u014A\": 'N',\n      \"\\u0144\": 'n',\n      \"\\u0146\": 'n',\n      \"\\u0148\": 'n',\n      \"\\u014B\": 'n',\n      \"\\u014C\": 'O',\n      \"\\u014E\": 'O',\n      \"\\u0150\": 'O',\n      \"\\u014D\": 'o',\n      \"\\u014F\": 'o',\n      \"\\u0151\": 'o',\n      \"\\u0154\": 'R',\n      \"\\u0156\": 'R',\n      \"\\u0158\": 'R',\n      \"\\u0155\": 'r',\n      \"\\u0157\": 'r',\n      \"\\u0159\": 'r',\n      \"\\u015A\": 'S',\n      \"\\u015C\": 'S',\n      \"\\u015E\": 'S',\n      \"\\u0160\": 'S',\n      \"\\u015B\": 's',\n      \"\\u015D\": 's',\n      \"\\u015F\": 's',\n      \"\\u0161\": 's',\n      \"\\u0162\": 'T',\n      \"\\u0164\": 'T',\n      \"\\u0166\": 'T',\n      \"\\u0163\": 't',\n      \"\\u0165\": 't',\n      \"\\u0167\": 't',\n      \"\\u0168\": 'U',\n      \"\\u016A\": 'U',\n      \"\\u016C\": 'U',\n      \"\\u016E\": 'U',\n      \"\\u0170\": 'U',\n      \"\\u0172\": 'U',\n      \"\\u0169\": 'u',\n      \"\\u016B\": 'u',\n      \"\\u016D\": 'u',\n      \"\\u016F\": 'u',\n      \"\\u0171\": 'u',\n      \"\\u0173\": 'u',\n      \"\\u0174\": 'W',\n      \"\\u0175\": 'w',\n      \"\\u0176\": 'Y',\n      \"\\u0177\": 'y',\n      \"\\u0178\": 'Y',\n      \"\\u0179\": 'Z',\n      \"\\u017B\": 'Z',\n      \"\\u017D\": 'Z',\n      \"\\u017A\": 'z',\n      \"\\u017C\": 'z',\n      \"\\u017E\": 'z',\n      \"\\u0132\": 'IJ',\n      \"\\u0133\": 'ij',\n      \"\\u0152\": 'Oe',\n      \"\\u0153\": 'oe',\n      \"\\u0149\": \"'n\",\n      \"\\u017F\": 's'\n    };\n    /** Used to match Latin Unicode letters (excluding mathematical operators). */\n\n    var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n    /** Used to compose unicode character classes. */\n\n    var rsComboMarksRange = \"\\\\u0300-\\\\u036f\",\n        reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\",\n        rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\",\n        rsComboMarksExtendedRange = \"\\\\u1ab0-\\\\u1aff\",\n        rsComboMarksSupplementRange = \"\\\\u1dc0-\\\\u1dff\",\n        rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange + rsComboMarksExtendedRange + rsComboMarksSupplementRange;\n    /** Used to compose unicode capture groups. */\n\n    var rsCombo = '[' + rsComboRange + ']';\n    /**\n     * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n     * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n     */\n\n    var reComboMark = RegExp(rsCombo, 'g');\n\n    function deburrLetter(key) {\n      return deburredLetters[key];\n    }\n\n    ;\n\n    function normalizeToBase(string) {\n      string = string.toString();\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    } // List of HTML entities for escaping.\n\n\n    var escapeMap = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;',\n      '`': '&#x60;'\n    }; // Functions for escaping and unescaping strings to/from HTML interpolation.\n\n    var createEscaper = function createEscaper(map) {\n      var escaper = function escaper(match) {\n        return map[match];\n      }; // Regexes for identifying a key that needs to be escaped.\n\n\n      var source = '(?:' + Object.keys(map).join('|') + ')';\n      var testRegexp = RegExp(source);\n      var replaceRegexp = RegExp(source, 'g');\n      return function (string) {\n        string = string == null ? '' : '' + string;\n        return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n      };\n    };\n\n    var htmlEscape = createEscaper(escapeMap);\n    /**\n     * ------------------------------------------------------------------------\n     * Constants\n     * ------------------------------------------------------------------------\n     */\n\n    var keyCodeMap = {\n      32: ' ',\n      48: '0',\n      49: '1',\n      50: '2',\n      51: '3',\n      52: '4',\n      53: '5',\n      54: '6',\n      55: '7',\n      56: '8',\n      57: '9',\n      59: ';',\n      65: 'A',\n      66: 'B',\n      67: 'C',\n      68: 'D',\n      69: 'E',\n      70: 'F',\n      71: 'G',\n      72: 'H',\n      73: 'I',\n      74: 'J',\n      75: 'K',\n      76: 'L',\n      77: 'M',\n      78: 'N',\n      79: 'O',\n      80: 'P',\n      81: 'Q',\n      82: 'R',\n      83: 'S',\n      84: 'T',\n      85: 'U',\n      86: 'V',\n      87: 'W',\n      88: 'X',\n      89: 'Y',\n      90: 'Z',\n      96: '0',\n      97: '1',\n      98: '2',\n      99: '3',\n      100: '4',\n      101: '5',\n      102: '6',\n      103: '7',\n      104: '8',\n      105: '9'\n    };\n    var keyCodes = {\n      ESCAPE: 27,\n      // KeyboardEvent.which value for Escape (Esc) key\n      ENTER: 13,\n      // KeyboardEvent.which value for Enter key\n      SPACE: 32,\n      // KeyboardEvent.which value for space key\n      TAB: 9,\n      // KeyboardEvent.which value for tab key\n      ARROW_UP: 38,\n      // KeyboardEvent.which value for up arrow key\n      ARROW_DOWN: 40 // KeyboardEvent.which value for down arrow key\n\n    };\n    var version = {\n      success: false,\n      major: '3'\n    };\n\n    try {\n      version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\n      version.major = version.full[0];\n      version.success = true;\n    } catch (err) {// do nothing\n    }\n\n    var selectId = 0;\n    var EVENT_KEY = '.bs.select';\n    var classNames = {\n      DISABLED: 'disabled',\n      DIVIDER: 'divider',\n      SHOW: 'open',\n      DROPUP: 'dropup',\n      MENU: 'dropdown-menu',\n      MENURIGHT: 'dropdown-menu-right',\n      MENULEFT: 'dropdown-menu-left',\n      // to-do: replace with more advanced template/customization options\n      BUTTONCLASS: 'btn-default',\n      POPOVERHEADER: 'popover-title',\n      ICONBASE: 'glyphicon',\n      TICKICON: 'glyphicon-ok'\n    };\n    var Selector = {\n      MENU: '.' + classNames.MENU\n    };\n    var elementTemplates = {\n      span: document.createElement('span'),\n      i: document.createElement('i'),\n      subtext: document.createElement('small'),\n      a: document.createElement('a'),\n      li: document.createElement('li'),\n      whitespace: document.createTextNode(\"\\xA0\"),\n      fragment: document.createDocumentFragment()\n    };\n    elementTemplates.a.setAttribute('role', 'option');\n    elementTemplates.subtext.className = 'text-muted';\n    elementTemplates.text = elementTemplates.span.cloneNode(false);\n    elementTemplates.text.className = 'text';\n    elementTemplates.checkMark = elementTemplates.span.cloneNode(false);\n    var REGEXP_ARROW = new RegExp(keyCodes.ARROW_UP + '|' + keyCodes.ARROW_DOWN);\n    var REGEXP_TAB_OR_ESCAPE = new RegExp('^' + keyCodes.TAB + '$|' + keyCodes.ESCAPE);\n    var generateOption = {\n      li: function li(content, classes, optgroup) {\n        var li = elementTemplates.li.cloneNode(false);\n\n        if (content) {\n          if (content.nodeType === 1 || content.nodeType === 11) {\n            li.appendChild(content);\n          } else {\n            li.innerHTML = content;\n          }\n        }\n\n        if (typeof classes !== 'undefined' && classes !== '') li.className = classes;\n        if (typeof optgroup !== 'undefined' && optgroup !== null) li.classList.add('optgroup-' + optgroup);\n        return li;\n      },\n      a: function a(text, classes, inline) {\n        var a = elementTemplates.a.cloneNode(true);\n\n        if (text) {\n          if (text.nodeType === 11) {\n            a.appendChild(text);\n          } else {\n            a.insertAdjacentHTML('beforeend', text);\n          }\n        }\n\n        if (typeof classes !== 'undefined' && classes !== '') a.className = classes;\n        if (version.major === '4') a.classList.add('dropdown-item');\n        if (inline) a.setAttribute('style', inline);\n        return a;\n      },\n      text: function text(options, useFragment) {\n        var textElement = elementTemplates.text.cloneNode(false),\n            subtextElement,\n            iconElement;\n\n        if (options.content) {\n          textElement.innerHTML = options.content;\n        } else {\n          textElement.textContent = options.text;\n\n          if (options.icon) {\n            var whitespace = elementTemplates.whitespace.cloneNode(false); // need to use <i> for icons in the button to prevent a breaking change\n            // note: switch to span in next major release\n\n            iconElement = (useFragment === true ? elementTemplates.i : elementTemplates.span).cloneNode(false);\n            iconElement.className = options.iconBase + ' ' + options.icon;\n            elementTemplates.fragment.appendChild(iconElement);\n            elementTemplates.fragment.appendChild(whitespace);\n          }\n\n          if (options.subtext) {\n            subtextElement = elementTemplates.subtext.cloneNode(false);\n            subtextElement.textContent = options.subtext;\n            textElement.appendChild(subtextElement);\n          }\n        }\n\n        if (useFragment === true) {\n          while (textElement.childNodes.length > 0) {\n            elementTemplates.fragment.appendChild(textElement.childNodes[0]);\n          }\n        } else {\n          elementTemplates.fragment.appendChild(textElement);\n        }\n\n        return elementTemplates.fragment;\n      },\n      label: function label(options) {\n        var textElement = elementTemplates.text.cloneNode(false),\n            subtextElement,\n            iconElement;\n        textElement.innerHTML = options.label;\n\n        if (options.icon) {\n          var whitespace = elementTemplates.whitespace.cloneNode(false);\n          iconElement = elementTemplates.span.cloneNode(false);\n          iconElement.className = options.iconBase + ' ' + options.icon;\n          elementTemplates.fragment.appendChild(iconElement);\n          elementTemplates.fragment.appendChild(whitespace);\n        }\n\n        if (options.subtext) {\n          subtextElement = elementTemplates.subtext.cloneNode(false);\n          subtextElement.textContent = options.subtext;\n          textElement.appendChild(subtextElement);\n        }\n\n        elementTemplates.fragment.appendChild(textElement);\n        return elementTemplates.fragment;\n      }\n    };\n\n    var Selectpicker = function Selectpicker(element, options) {\n      var that = this; // bootstrap-select has been initialized - revert valHooks.select.set back to its original function\n\n      if (!valHooks.useDefault) {\n        $.valHooks.select.set = valHooks._set;\n        valHooks.useDefault = true;\n      }\n\n      this.$element = $(element);\n      this.$newElement = null;\n      this.$button = null;\n      this.$menu = null;\n      this.options = options;\n      this.selectpicker = {\n        main: {},\n        search: {},\n        current: {},\n        // current changes if a search is in progress\n        view: {},\n        keydown: {\n          keyHistory: '',\n          resetKeyHistory: {\n            start: function start() {\n              return setTimeout(function () {\n                that.selectpicker.keydown.keyHistory = '';\n              }, 800);\n            }\n          }\n        }\n      }; // If we have no title yet, try to pull it from the html title attribute (jQuery doesnt' pick it up as it's not a\n      // data-attribute)\n\n      if (this.options.title === null) {\n        this.options.title = this.$element.attr('title');\n      } // Format window padding\n\n\n      var winPad = this.options.windowPadding;\n\n      if (typeof winPad === 'number') {\n        this.options.windowPadding = [winPad, winPad, winPad, winPad];\n      } // Expose public methods\n\n\n      this.val = Selectpicker.prototype.val;\n      this.render = Selectpicker.prototype.render;\n      this.refresh = Selectpicker.prototype.refresh;\n      this.setStyle = Selectpicker.prototype.setStyle;\n      this.selectAll = Selectpicker.prototype.selectAll;\n      this.deselectAll = Selectpicker.prototype.deselectAll;\n      this.destroy = Selectpicker.prototype.destroy;\n      this.remove = Selectpicker.prototype.remove;\n      this.show = Selectpicker.prototype.show;\n      this.hide = Selectpicker.prototype.hide;\n      this.init();\n    };\n\n    Selectpicker.VERSION = '1.13.12'; // part of this is duplicated in i18n/defaults-en_US.js. Make sure to update both.\n\n    Selectpicker.DEFAULTS = {\n      noneSelectedText: 'Nothing selected',\n      noneResultsText: 'No results matched {0}',\n      countSelectedText: function countSelectedText(numSelected, numTotal) {\n        return numSelected == 1 ? '{0} item selected' : '{0} items selected';\n      },\n      maxOptionsText: function maxOptionsText(numAll, numGroup) {\n        return [numAll == 1 ? 'Limit reached ({n} item max)' : 'Limit reached ({n} items max)', numGroup == 1 ? 'Group limit reached ({n} item max)' : 'Group limit reached ({n} items max)'];\n      },\n      selectAllText: 'Select All',\n      deselectAllText: 'Deselect All',\n      doneButton: false,\n      doneButtonText: 'Close',\n      multipleSeparator: ', ',\n      styleBase: 'btn',\n      style: classNames.BUTTONCLASS,\n      size: 'auto',\n      title: null,\n      selectedTextFormat: 'values',\n      width: false,\n      container: false,\n      hideDisabled: false,\n      showSubtext: false,\n      showIcon: true,\n      showContent: true,\n      dropupAuto: true,\n      header: false,\n      liveSearch: false,\n      liveSearchPlaceholder: null,\n      liveSearchNormalize: false,\n      liveSearchStyle: 'contains',\n      actionsBox: false,\n      iconBase: classNames.ICONBASE,\n      tickIcon: classNames.TICKICON,\n      showTick: false,\n      template: {\n        caret: '<span class=\"caret\"></span>'\n      },\n      maxOptions: false,\n      mobile: false,\n      selectOnTab: false,\n      dropdownAlignRight: false,\n      windowPadding: 0,\n      virtualScroll: 600,\n      display: false,\n      sanitize: true,\n      sanitizeFn: null,\n      whiteList: DefaultWhitelist\n    };\n    Selectpicker.prototype = {\n      constructor: Selectpicker,\n      init: function init() {\n        var that = this,\n            id = this.$element.attr('id');\n        selectId++;\n        this.selectId = 'bs-select-' + selectId;\n        this.$element[0].classList.add('bs-select-hidden');\n        this.multiple = this.$element.prop('multiple');\n        this.autofocus = this.$element.prop('autofocus');\n\n        if (this.$element[0].classList.contains('show-tick')) {\n          this.options.showTick = true;\n        }\n\n        this.$newElement = this.createDropdown();\n        this.$element.after(this.$newElement).prependTo(this.$newElement);\n        this.$button = this.$newElement.children('button');\n        this.$menu = this.$newElement.children(Selector.MENU);\n        this.$menuInner = this.$menu.children('.inner');\n        this.$searchbox = this.$menu.find('input');\n        this.$element[0].classList.remove('bs-select-hidden');\n        if (this.options.dropdownAlignRight === true) this.$menu[0].classList.add(classNames.MENURIGHT);\n\n        if (typeof id !== 'undefined') {\n          this.$button.attr('data-id', id);\n        }\n\n        this.checkDisabled();\n        this.clickListener();\n\n        if (this.options.liveSearch) {\n          this.liveSearchListener();\n          this.focusedParent = this.$searchbox[0];\n        } else {\n          this.focusedParent = this.$menuInner[0];\n        }\n\n        this.setStyle();\n        this.render();\n        this.setWidth();\n\n        if (this.options.container) {\n          this.selectPosition();\n        } else {\n          this.$element.on('hide' + EVENT_KEY, function () {\n            if (that.isVirtual()) {\n              // empty menu on close\n              var menuInner = that.$menuInner[0],\n                  emptyMenu = menuInner.firstChild.cloneNode(false); // replace the existing UL with an empty one - this is faster than $.empty() or innerHTML = ''\n\n              menuInner.replaceChild(emptyMenu, menuInner.firstChild);\n              menuInner.scrollTop = 0;\n            }\n          });\n        }\n\n        this.$menu.data('this', this);\n        this.$newElement.data('this', this);\n        if (this.options.mobile) this.mobile();\n        this.$newElement.on({\n          'hide.bs.dropdown': function hideBsDropdown(e) {\n            that.$element.trigger('hide' + EVENT_KEY, e);\n          },\n          'hidden.bs.dropdown': function hiddenBsDropdown(e) {\n            that.$element.trigger('hidden' + EVENT_KEY, e);\n          },\n          'show.bs.dropdown': function showBsDropdown(e) {\n            that.$element.trigger('show' + EVENT_KEY, e);\n          },\n          'shown.bs.dropdown': function shownBsDropdown(e) {\n            that.$element.trigger('shown' + EVENT_KEY, e);\n          }\n        });\n\n        if (that.$element[0].hasAttribute('required')) {\n          this.$element.on('invalid' + EVENT_KEY, function () {\n            that.$button[0].classList.add('bs-invalid');\n            that.$element.on('shown' + EVENT_KEY + '.invalid', function () {\n              that.$element.val(that.$element.val()) // set the value to hide the validation message in Chrome when menu is opened\n              .off('shown' + EVENT_KEY + '.invalid');\n            }).on('rendered' + EVENT_KEY, function () {\n              // if select is no longer invalid, remove the bs-invalid class\n              if (this.validity.valid) that.$button[0].classList.remove('bs-invalid');\n              that.$element.off('rendered' + EVENT_KEY);\n            });\n            that.$button.on('blur' + EVENT_KEY, function () {\n              that.$element.trigger('focus').trigger('blur');\n              that.$button.off('blur' + EVENT_KEY);\n            });\n          });\n        }\n\n        setTimeout(function () {\n          that.createLi();\n          that.$element.trigger('loaded' + EVENT_KEY);\n        });\n      },\n      createDropdown: function createDropdown() {\n        // Options\n        // If we are multiple or showTick option is set, then add the show-tick class\n        var showTick = this.multiple || this.options.showTick ? ' show-tick' : '',\n            multiselectable = this.multiple ? ' aria-multiselectable=\"true\"' : '',\n            inputGroup = '',\n            autofocus = this.autofocus ? ' autofocus' : '';\n\n        if (version.major < 4 && this.$element.parent().hasClass('input-group')) {\n          inputGroup = ' input-group-btn';\n        } // Elements\n\n\n        var drop,\n            header = '',\n            searchbox = '',\n            actionsbox = '',\n            donebutton = '';\n\n        if (this.options.header) {\n          header = '<div class=\"' + classNames.POPOVERHEADER + '\">' + '<button type=\"button\" class=\"close\" aria-hidden=\"true\">&times;</button>' + this.options.header + '</div>';\n        }\n\n        if (this.options.liveSearch) {\n          searchbox = '<div class=\"bs-searchbox\">' + '<input type=\"search\" class=\"form-control\" autocomplete=\"off\"' + (this.options.liveSearchPlaceholder === null ? '' : ' placeholder=\"' + htmlEscape(this.options.liveSearchPlaceholder) + '\"') + ' role=\"combobox\" aria-label=\"Search\" aria-controls=\"' + this.selectId + '\" aria-autocomplete=\"list\">' + '</div>';\n        }\n\n        if (this.multiple && this.options.actionsBox) {\n          actionsbox = '<div class=\"bs-actionsbox\">' + '<div class=\"btn-group btn-group-sm btn-block\">' + '<button type=\"button\" class=\"actions-btn bs-select-all btn ' + classNames.BUTTONCLASS + '\">' + this.options.selectAllText + '</button>' + '<button type=\"button\" class=\"actions-btn bs-deselect-all btn ' + classNames.BUTTONCLASS + '\">' + this.options.deselectAllText + '</button>' + '</div>' + '</div>';\n        }\n\n        if (this.multiple && this.options.doneButton) {\n          donebutton = '<div class=\"bs-donebutton\">' + '<div class=\"btn-group btn-block\">' + '<button type=\"button\" class=\"btn btn-sm ' + classNames.BUTTONCLASS + '\">' + this.options.doneButtonText + '</button>' + '</div>' + '</div>';\n        }\n\n        drop = '<div class=\"dropdown bootstrap-select' + showTick + inputGroup + '\">' + '<button type=\"button\" class=\"' + this.options.styleBase + ' dropdown-toggle\" ' + (this.options.display === 'static' ? 'data-display=\"static\"' : '') + 'data-toggle=\"dropdown\"' + autofocus + ' role=\"combobox\" aria-owns=\"' + this.selectId + '\" aria-haspopup=\"listbox\" aria-expanded=\"false\">' + '<div class=\"filter-option\">' + '<div class=\"filter-option-inner\">' + '<div class=\"filter-option-inner-inner\"></div>' + '</div> ' + '</div>' + (version.major === '4' ? '' : '<span class=\"bs-caret\">' + this.options.template.caret + '</span>') + '</button>' + '<div class=\"' + classNames.MENU + ' ' + (version.major === '4' ? '' : classNames.SHOW) + '\">' + header + searchbox + actionsbox + '<div class=\"inner ' + classNames.SHOW + '\" role=\"listbox\" id=\"' + this.selectId + '\" tabindex=\"-1\" ' + multiselectable + '>' + '<ul class=\"' + classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '') + '\" role=\"presentation\">' + '</ul>' + '</div>' + donebutton + '</div>' + '</div>';\n        return $(drop);\n      },\n      setPositionData: function setPositionData() {\n        this.selectpicker.view.canHighlight = [];\n        this.selectpicker.view.size = 0;\n\n        for (var i = 0; i < this.selectpicker.current.data.length; i++) {\n          var li = this.selectpicker.current.data[i],\n              canHighlight = true;\n\n          if (li.type === 'divider') {\n            canHighlight = false;\n            li.height = this.sizeInfo.dividerHeight;\n          } else if (li.type === 'optgroup-label') {\n            canHighlight = false;\n            li.height = this.sizeInfo.dropdownHeaderHeight;\n          } else {\n            li.height = this.sizeInfo.liHeight;\n          }\n\n          if (li.disabled) canHighlight = false;\n          this.selectpicker.view.canHighlight.push(canHighlight);\n\n          if (canHighlight) {\n            this.selectpicker.view.size++;\n            li.posinset = this.selectpicker.view.size;\n          }\n\n          li.position = (i === 0 ? 0 : this.selectpicker.current.data[i - 1].position) + li.height;\n        }\n      },\n      isVirtual: function isVirtual() {\n        return this.options.virtualScroll !== false && this.selectpicker.main.elements.length >= this.options.virtualScroll || this.options.virtualScroll === true;\n      },\n      createView: function createView(isSearching, setSize, refresh) {\n        var that = this,\n            scrollTop = 0,\n            active = [],\n            selected,\n            prevActive;\n        this.selectpicker.current = isSearching ? this.selectpicker.search : this.selectpicker.main;\n        this.setPositionData();\n\n        if (setSize) {\n          if (refresh) {\n            scrollTop = this.$menuInner[0].scrollTop;\n          } else if (!that.multiple) {\n            var element = that.$element[0],\n                selectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\n\n            if (typeof selectedIndex === 'number' && that.options.size !== false) {\n              var selectedData = that.selectpicker.main.data[selectedIndex],\n                  position = selectedData && selectedData.position;\n\n              if (position) {\n                scrollTop = position - (that.sizeInfo.menuInnerHeight + that.sizeInfo.liHeight) / 2;\n              }\n            }\n          }\n        }\n\n        scroll(scrollTop, true);\n        this.$menuInner.off('scroll.createView').on('scroll.createView', function (e, updateValue) {\n          if (!that.noScroll) scroll(this.scrollTop, updateValue);\n          that.noScroll = false;\n        });\n\n        function scroll(scrollTop, init) {\n          var size = that.selectpicker.current.elements.length,\n              chunks = [],\n              chunkSize,\n              chunkCount,\n              firstChunk,\n              lastChunk,\n              currentChunk,\n              prevPositions,\n              positionIsDifferent,\n              previousElements,\n              menuIsDifferent = true,\n              isVirtual = that.isVirtual();\n          that.selectpicker.view.scrollTop = scrollTop;\n          chunkSize = Math.ceil(that.sizeInfo.menuInnerHeight / that.sizeInfo.liHeight * 1.5); // number of options in a chunk\n\n          chunkCount = Math.round(size / chunkSize) || 1; // number of chunks\n\n          for (var i = 0; i < chunkCount; i++) {\n            var endOfChunk = (i + 1) * chunkSize;\n\n            if (i === chunkCount - 1) {\n              endOfChunk = size;\n            }\n\n            chunks[i] = [i * chunkSize + (!i ? 0 : 1), endOfChunk];\n            if (!size) break;\n\n            if (currentChunk === undefined && scrollTop - 1 <= that.selectpicker.current.data[endOfChunk - 1].position - that.sizeInfo.menuInnerHeight) {\n              currentChunk = i;\n            }\n          }\n\n          if (currentChunk === undefined) currentChunk = 0;\n          prevPositions = [that.selectpicker.view.position0, that.selectpicker.view.position1]; // always display previous, current, and next chunks\n\n          firstChunk = Math.max(0, currentChunk - 1);\n          lastChunk = Math.min(chunkCount - 1, currentChunk + 1);\n          that.selectpicker.view.position0 = isVirtual === false ? 0 : Math.max(0, chunks[firstChunk][0]) || 0;\n          that.selectpicker.view.position1 = isVirtual === false ? size : Math.min(size, chunks[lastChunk][1]) || 0;\n          positionIsDifferent = prevPositions[0] !== that.selectpicker.view.position0 || prevPositions[1] !== that.selectpicker.view.position1;\n\n          if (that.activeIndex !== undefined) {\n            prevActive = that.selectpicker.main.elements[that.prevActiveIndex];\n            active = that.selectpicker.main.elements[that.activeIndex];\n            selected = that.selectpicker.main.elements[that.selectedIndex];\n\n            if (init) {\n              if (that.activeIndex !== that.selectedIndex) {\n                that.defocusItem(active);\n              }\n\n              that.activeIndex = undefined;\n            }\n\n            if (that.activeIndex && that.activeIndex !== that.selectedIndex) {\n              that.defocusItem(selected);\n            }\n          }\n\n          if (that.prevActiveIndex !== undefined && that.prevActiveIndex !== that.activeIndex && that.prevActiveIndex !== that.selectedIndex) {\n            that.defocusItem(prevActive);\n          }\n\n          if (init || positionIsDifferent) {\n            previousElements = that.selectpicker.view.visibleElements ? that.selectpicker.view.visibleElements.slice() : [];\n\n            if (isVirtual === false) {\n              that.selectpicker.view.visibleElements = that.selectpicker.current.elements;\n            } else {\n              that.selectpicker.view.visibleElements = that.selectpicker.current.elements.slice(that.selectpicker.view.position0, that.selectpicker.view.position1);\n            }\n\n            that.setOptionStatus(); // if searching, check to make sure the list has actually been updated before updating DOM\n            // this prevents unnecessary repaints\n\n            if (isSearching || isVirtual === false && init) menuIsDifferent = !isEqual(previousElements, that.selectpicker.view.visibleElements); // if virtual scroll is disabled and not searching,\n            // menu should never need to be updated more than once\n\n            if ((init || isVirtual === true) && menuIsDifferent) {\n              var menuInner = that.$menuInner[0],\n                  menuFragment = document.createDocumentFragment(),\n                  emptyMenu = menuInner.firstChild.cloneNode(false),\n                  marginTop,\n                  marginBottom,\n                  elements = that.selectpicker.view.visibleElements,\n                  toSanitize = []; // replace the existing UL with an empty one - this is faster than $.empty()\n\n              menuInner.replaceChild(emptyMenu, menuInner.firstChild);\n\n              for (var i = 0, visibleElementsLen = elements.length; i < visibleElementsLen; i++) {\n                var element = elements[i],\n                    elText,\n                    elementData;\n\n                if (that.options.sanitize) {\n                  elText = element.lastChild;\n\n                  if (elText) {\n                    elementData = that.selectpicker.current.data[i + that.selectpicker.view.position0];\n\n                    if (elementData && elementData.content && !elementData.sanitized) {\n                      toSanitize.push(elText);\n                      elementData.sanitized = true;\n                    }\n                  }\n                }\n\n                menuFragment.appendChild(element);\n              }\n\n              if (that.options.sanitize && toSanitize.length) {\n                sanitizeHtml(toSanitize, that.options.whiteList, that.options.sanitizeFn);\n              }\n\n              if (isVirtual === true) {\n                marginTop = that.selectpicker.view.position0 === 0 ? 0 : that.selectpicker.current.data[that.selectpicker.view.position0 - 1].position;\n                marginBottom = that.selectpicker.view.position1 > size - 1 ? 0 : that.selectpicker.current.data[size - 1].position - that.selectpicker.current.data[that.selectpicker.view.position1 - 1].position;\n                menuInner.firstChild.style.marginTop = marginTop + 'px';\n                menuInner.firstChild.style.marginBottom = marginBottom + 'px';\n              } else {\n                menuInner.firstChild.style.marginTop = 0;\n                menuInner.firstChild.style.marginBottom = 0;\n              }\n\n              menuInner.firstChild.appendChild(menuFragment); // if an option is encountered that is wider than the current menu width, update the menu width accordingly\n              // switch to ResizeObserver with increased browser support\n\n              if (isVirtual === true && that.sizeInfo.hasScrollBar) {\n                var menuInnerInnerWidth = menuInner.firstChild.offsetWidth;\n\n                if (init && menuInnerInnerWidth < that.sizeInfo.menuInnerInnerWidth && that.sizeInfo.totalMenuWidth > that.sizeInfo.selectWidth) {\n                  menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\n                } else if (menuInnerInnerWidth > that.sizeInfo.menuInnerInnerWidth) {\n                  // set to 0 to get actual width of menu\n                  that.$menu[0].style.minWidth = 0;\n                  var actualMenuWidth = menuInner.firstChild.offsetWidth;\n\n                  if (actualMenuWidth > that.sizeInfo.menuInnerInnerWidth) {\n                    that.sizeInfo.menuInnerInnerWidth = actualMenuWidth;\n                    menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\n                  } // reset to default CSS styling\n\n\n                  that.$menu[0].style.minWidth = '';\n                }\n              }\n            }\n          }\n\n          that.prevActiveIndex = that.activeIndex;\n\n          if (!that.options.liveSearch) {\n            that.$menuInner.trigger('focus');\n          } else if (isSearching && init) {\n            var index = 0,\n                newActive;\n\n            if (!that.selectpicker.view.canHighlight[index]) {\n              index = 1 + that.selectpicker.view.canHighlight.slice(1).indexOf(true);\n            }\n\n            newActive = that.selectpicker.view.visibleElements[index];\n            that.defocusItem(that.selectpicker.view.currentActive);\n            that.activeIndex = (that.selectpicker.current.data[index] || {}).index;\n            that.focusItem(newActive);\n          }\n        }\n\n        $(window).off('resize' + EVENT_KEY + '.' + this.selectId + '.createView').on('resize' + EVENT_KEY + '.' + this.selectId + '.createView', function () {\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\n          if (isActive) scroll(that.$menuInner[0].scrollTop);\n        });\n      },\n      focusItem: function focusItem(li, liData, noStyle) {\n        if (li) {\n          liData = liData || this.selectpicker.main.data[this.activeIndex];\n          var a = li.firstChild;\n\n          if (a) {\n            a.setAttribute('aria-setsize', this.selectpicker.view.size);\n            a.setAttribute('aria-posinset', liData.posinset);\n\n            if (noStyle !== true) {\n              this.focusedParent.setAttribute('aria-activedescendant', a.id);\n              li.classList.add('active');\n              a.classList.add('active');\n            }\n          }\n        }\n      },\n      defocusItem: function defocusItem(li) {\n        if (li) {\n          li.classList.remove('active');\n          if (li.firstChild) li.firstChild.classList.remove('active');\n        }\n      },\n      setPlaceholder: function setPlaceholder() {\n        var updateIndex = false;\n\n        if (this.options.title && !this.multiple) {\n          if (!this.selectpicker.view.titleOption) this.selectpicker.view.titleOption = document.createElement('option'); // this option doesn't create a new <li> element, but does add a new option at the start,\n          // so startIndex should increase to prevent having to check every option for the bs-title-option class\n\n          updateIndex = true;\n          var element = this.$element[0],\n              isSelected = false,\n              titleNotAppended = !this.selectpicker.view.titleOption.parentNode;\n\n          if (titleNotAppended) {\n            // Use native JS to prepend option (faster)\n            this.selectpicker.view.titleOption.className = 'bs-title-option';\n            this.selectpicker.view.titleOption.value = ''; // Check if selected or data-selected attribute is already set on an option. If not, select the titleOption option.\n            // the selected item may have been changed by user or programmatically before the bootstrap select plugin runs,\n            // if so, the select will have the data-selected attribute\n\n            var $opt = $(element.options[element.selectedIndex]);\n            isSelected = $opt.attr('selected') === undefined && this.$element.data('selected') === undefined;\n          }\n\n          if (titleNotAppended || this.selectpicker.view.titleOption.index !== 0) {\n            element.insertBefore(this.selectpicker.view.titleOption, element.firstChild);\n          } // Set selected *after* appending to select,\n          // otherwise the option doesn't get selected in IE\n          // set using selectedIndex, as setting the selected attr to true here doesn't work in IE11\n\n\n          if (isSelected) element.selectedIndex = 0;\n        }\n\n        return updateIndex;\n      },\n      createLi: function createLi() {\n        var that = this,\n            iconBase = this.options.iconBase,\n            optionSelector = ':not([hidden]):not([data-hidden=\"true\"])',\n            mainElements = [],\n            mainData = [],\n            widestOptionLength = 0,\n            optID = 0,\n            startIndex = this.setPlaceholder() ? 1 : 0; // append the titleOption if necessary and skip the first option in the loop\n\n        if (this.options.hideDisabled) optionSelector += ':not(:disabled)';\n\n        if ((that.options.showTick || that.multiple) && !elementTemplates.checkMark.parentNode) {\n          elementTemplates.checkMark.className = iconBase + ' ' + that.options.tickIcon + ' check-mark';\n          elementTemplates.a.appendChild(elementTemplates.checkMark);\n        }\n\n        var selectOptions = this.$element[0].querySelectorAll('select > *' + optionSelector);\n\n        function addDivider(config) {\n          var previousData = mainData[mainData.length - 1]; // ensure optgroup doesn't create back-to-back dividers\n\n          if (previousData && previousData.type === 'divider' && (previousData.optID || config.optID)) {\n            return;\n          }\n\n          config = config || {};\n          config.type = 'divider';\n          mainElements.push(generateOption.li(false, classNames.DIVIDER, config.optID ? config.optID + 'div' : undefined));\n          mainData.push(config);\n        }\n\n        function addOption(option, config) {\n          config = config || {};\n          config.divider = option.getAttribute('data-divider') === 'true';\n\n          if (config.divider) {\n            addDivider({\n              optID: config.optID\n            });\n          } else {\n            var liIndex = mainData.length,\n                cssText = option.style.cssText,\n                inlineStyle = cssText ? htmlEscape(cssText) : '',\n                optionClass = (option.className || '') + (config.optgroupClass || '');\n            if (config.optID) optionClass = 'opt ' + optionClass;\n            config.text = option.textContent;\n            config.content = option.getAttribute('data-content');\n            config.tokens = option.getAttribute('data-tokens');\n            config.subtext = option.getAttribute('data-subtext');\n            config.icon = option.getAttribute('data-icon');\n            config.iconBase = iconBase;\n            var textElement = generateOption.text(config);\n            var liElement = generateOption.li(generateOption.a(textElement, optionClass, inlineStyle), '', config.optID);\n\n            if (liElement.firstChild) {\n              liElement.firstChild.id = that.selectId + '-' + liIndex;\n            }\n\n            mainElements.push(liElement);\n            option.liIndex = liIndex;\n            config.display = config.content || config.text;\n            config.type = 'option';\n            config.index = liIndex;\n            config.option = option;\n            config.disabled = config.disabled || option.disabled;\n            mainData.push(config);\n            var combinedLength = 0; // count the number of characters in the option - not perfect, but should work in most cases\n\n            if (config.display) combinedLength += config.display.length;\n            if (config.subtext) combinedLength += config.subtext.length; // if there is an icon, ensure this option's width is checked\n\n            if (config.icon) combinedLength += 1;\n\n            if (combinedLength > widestOptionLength) {\n              widestOptionLength = combinedLength; // guess which option is the widest\n              // use this when calculating menu width\n              // not perfect, but it's fast, and the width will be updating accordingly when scrolling\n\n              that.selectpicker.view.widestOption = mainElements[mainElements.length - 1];\n            }\n          }\n        }\n\n        function addOptgroup(index, selectOptions) {\n          var optgroup = selectOptions[index],\n              previous = selectOptions[index - 1],\n              next = selectOptions[index + 1],\n              options = optgroup.querySelectorAll('option' + optionSelector);\n          if (!options.length) return;\n          var config = {\n            label: htmlEscape(optgroup.label),\n            subtext: optgroup.getAttribute('data-subtext'),\n            icon: optgroup.getAttribute('data-icon'),\n            iconBase: iconBase\n          },\n              optgroupClass = ' ' + (optgroup.className || ''),\n              headerIndex,\n              lastIndex;\n          optID++;\n\n          if (previous) {\n            addDivider({\n              optID: optID\n            });\n          }\n\n          var labelElement = generateOption.label(config);\n          mainElements.push(generateOption.li(labelElement, 'dropdown-header' + optgroupClass, optID));\n          mainData.push({\n            display: config.label,\n            subtext: config.subtext,\n            type: 'optgroup-label',\n            optID: optID\n          });\n\n          for (var j = 0, len = options.length; j < len; j++) {\n            var option = options[j];\n\n            if (j === 0) {\n              headerIndex = mainData.length - 1;\n              lastIndex = headerIndex + len;\n            }\n\n            addOption(option, {\n              headerIndex: headerIndex,\n              lastIndex: lastIndex,\n              optID: optID,\n              optgroupClass: optgroupClass,\n              disabled: optgroup.disabled\n            });\n          }\n\n          if (next) {\n            addDivider({\n              optID: optID\n            });\n          }\n        }\n\n        for (var len = selectOptions.length; startIndex < len; startIndex++) {\n          var item = selectOptions[startIndex];\n\n          if (item.tagName !== 'OPTGROUP') {\n            addOption(item, {});\n          } else {\n            addOptgroup(startIndex, selectOptions);\n          }\n        }\n\n        this.selectpicker.main.elements = mainElements;\n        this.selectpicker.main.data = mainData;\n        this.selectpicker.current = this.selectpicker.main;\n      },\n      findLis: function findLis() {\n        return this.$menuInner.find('.inner > li');\n      },\n      render: function render() {\n        // ensure titleOption is appended and selected (if necessary) before getting selectedOptions\n        this.setPlaceholder();\n        var that = this,\n            element = this.$element[0],\n            selectedOptions = getSelectedOptions(element, this.options.hideDisabled),\n            selectedCount = selectedOptions.length,\n            button = this.$button[0],\n            buttonInner = button.querySelector('.filter-option-inner-inner'),\n            multipleSeparator = document.createTextNode(this.options.multipleSeparator),\n            titleFragment = elementTemplates.fragment.cloneNode(false),\n            showCount,\n            countMax,\n            hasContent = false;\n        button.classList.toggle('bs-placeholder', that.multiple ? !selectedCount : !getSelectValues(element, selectedOptions));\n        this.tabIndex();\n\n        if (this.options.selectedTextFormat === 'static') {\n          titleFragment = generateOption.text({\n            text: this.options.title\n          }, true);\n        } else {\n          showCount = this.multiple && this.options.selectedTextFormat.indexOf('count') !== -1 && selectedCount > 1; // determine if the number of selected options will be shown (showCount === true)\n\n          if (showCount) {\n            countMax = this.options.selectedTextFormat.split('>');\n            showCount = countMax.length > 1 && selectedCount > countMax[1] || countMax.length === 1 && selectedCount >= 2;\n          } // only loop through all selected options if the count won't be shown\n\n\n          if (showCount === false) {\n            for (var selectedIndex = 0; selectedIndex < selectedCount; selectedIndex++) {\n              if (selectedIndex < 50) {\n                var option = selectedOptions[selectedIndex],\n                    titleOptions = {},\n                    thisData = {\n                  content: option.getAttribute('data-content'),\n                  subtext: option.getAttribute('data-subtext'),\n                  icon: option.getAttribute('data-icon')\n                };\n\n                if (this.multiple && selectedIndex > 0) {\n                  titleFragment.appendChild(multipleSeparator.cloneNode(false));\n                }\n\n                if (option.title) {\n                  titleOptions.text = option.title;\n                } else if (thisData.content && that.options.showContent) {\n                  titleOptions.content = thisData.content.toString();\n                  hasContent = true;\n                } else {\n                  if (that.options.showIcon) {\n                    titleOptions.icon = thisData.icon;\n                    titleOptions.iconBase = this.options.iconBase;\n                  }\n\n                  if (that.options.showSubtext && !that.multiple && thisData.subtext) titleOptions.subtext = ' ' + thisData.subtext;\n                  titleOptions.text = option.textContent.trim();\n                }\n\n                titleFragment.appendChild(generateOption.text(titleOptions, true));\n              } else {\n                break;\n              }\n            } // add ellipsis\n\n\n            if (selectedCount > 49) {\n              titleFragment.appendChild(document.createTextNode('...'));\n            }\n          } else {\n            var optionSelector = ':not([hidden]):not([data-hidden=\"true\"]):not([data-divider=\"true\"])';\n            if (this.options.hideDisabled) optionSelector += ':not(:disabled)'; // If this is a multiselect, and selectedTextFormat is count, then show 1 of 2 selected, etc.\n\n            var totalCount = this.$element[0].querySelectorAll('select > option' + optionSelector + ', optgroup' + optionSelector + ' option' + optionSelector).length,\n                tr8nText = typeof this.options.countSelectedText === 'function' ? this.options.countSelectedText(selectedCount, totalCount) : this.options.countSelectedText;\n            titleFragment = generateOption.text({\n              text: tr8nText.replace('{0}', selectedCount.toString()).replace('{1}', totalCount.toString())\n            }, true);\n          }\n        }\n\n        if (this.options.title == undefined) {\n          // use .attr to ensure undefined is returned if title attribute is not set\n          this.options.title = this.$element.attr('title');\n        } // If the select doesn't have a title, then use the default, or if nothing is set at all, use noneSelectedText\n\n\n        if (!titleFragment.childNodes.length) {\n          titleFragment = generateOption.text({\n            text: typeof this.options.title !== 'undefined' ? this.options.title : this.options.noneSelectedText\n          }, true);\n        } // strip all HTML tags and trim the result, then unescape any escaped tags\n\n\n        button.title = titleFragment.textContent.replace(/<[^>]*>?/g, '').trim();\n\n        if (this.options.sanitize && hasContent) {\n          sanitizeHtml([titleFragment], that.options.whiteList, that.options.sanitizeFn);\n        }\n\n        buttonInner.innerHTML = '';\n        buttonInner.appendChild(titleFragment);\n\n        if (version.major < 4 && this.$newElement[0].classList.contains('bs3-has-addon')) {\n          var filterExpand = button.querySelector('.filter-expand'),\n              clone = buttonInner.cloneNode(true);\n          clone.className = 'filter-expand';\n\n          if (filterExpand) {\n            button.replaceChild(clone, filterExpand);\n          } else {\n            button.appendChild(clone);\n          }\n        }\n\n        this.$element.trigger('rendered' + EVENT_KEY);\n      },\n\n      /**\n       * @param [style]\n       * @param [status]\n       */\n      setStyle: function setStyle(newStyle, status) {\n        var button = this.$button[0],\n            newElement = this.$newElement[0],\n            style = this.options.style.trim(),\n            buttonClass;\n\n        if (this.$element.attr('class')) {\n          this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|bs-select-hidden|validate\\[.*\\]/gi, ''));\n        }\n\n        if (version.major < 4) {\n          newElement.classList.add('bs3');\n\n          if (newElement.parentNode.classList.contains('input-group') && (newElement.previousElementSibling || newElement.nextElementSibling) && (newElement.previousElementSibling || newElement.nextElementSibling).classList.contains('input-group-addon')) {\n            newElement.classList.add('bs3-has-addon');\n          }\n        }\n\n        if (newStyle) {\n          buttonClass = newStyle.trim();\n        } else {\n          buttonClass = style;\n        }\n\n        if (status == 'add') {\n          if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\n        } else if (status == 'remove') {\n          if (buttonClass) button.classList.remove.apply(button.classList, buttonClass.split(' '));\n        } else {\n          if (style) button.classList.remove.apply(button.classList, style.split(' '));\n          if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\n        }\n      },\n      liHeight: function liHeight(refresh) {\n        if (!refresh && (this.options.size === false || this.sizeInfo)) return;\n        if (!this.sizeInfo) this.sizeInfo = {};\n        var newElement = document.createElement('div'),\n            menu = document.createElement('div'),\n            menuInner = document.createElement('div'),\n            menuInnerInner = document.createElement('ul'),\n            divider = document.createElement('li'),\n            dropdownHeader = document.createElement('li'),\n            li = document.createElement('li'),\n            a = document.createElement('a'),\n            text = document.createElement('span'),\n            header = this.options.header && this.$menu.find('.' + classNames.POPOVERHEADER).length > 0 ? this.$menu.find('.' + classNames.POPOVERHEADER)[0].cloneNode(true) : null,\n            search = this.options.liveSearch ? document.createElement('div') : null,\n            actions = this.options.actionsBox && this.multiple && this.$menu.find('.bs-actionsbox').length > 0 ? this.$menu.find('.bs-actionsbox')[0].cloneNode(true) : null,\n            doneButton = this.options.doneButton && this.multiple && this.$menu.find('.bs-donebutton').length > 0 ? this.$menu.find('.bs-donebutton')[0].cloneNode(true) : null,\n            firstOption = this.$element.find('option')[0];\n        this.sizeInfo.selectWidth = this.$newElement[0].offsetWidth;\n        text.className = 'text';\n        a.className = 'dropdown-item ' + (firstOption ? firstOption.className : '');\n        newElement.className = this.$menu[0].parentNode.className + ' ' + classNames.SHOW;\n        newElement.style.width = 0; // ensure button width doesn't affect natural width of menu when calculating\n\n        if (this.options.width === 'auto') menu.style.minWidth = 0;\n        menu.className = classNames.MENU + ' ' + classNames.SHOW;\n        menuInner.className = 'inner ' + classNames.SHOW;\n        menuInnerInner.className = classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '');\n        divider.className = classNames.DIVIDER;\n        dropdownHeader.className = 'dropdown-header';\n        text.appendChild(document.createTextNode(\"\\u200B\"));\n        a.appendChild(text);\n        li.appendChild(a);\n        dropdownHeader.appendChild(text.cloneNode(true));\n\n        if (this.selectpicker.view.widestOption) {\n          menuInnerInner.appendChild(this.selectpicker.view.widestOption.cloneNode(true));\n        }\n\n        menuInnerInner.appendChild(li);\n        menuInnerInner.appendChild(divider);\n        menuInnerInner.appendChild(dropdownHeader);\n        if (header) menu.appendChild(header);\n\n        if (search) {\n          var input = document.createElement('input');\n          search.className = 'bs-searchbox';\n          input.className = 'form-control';\n          search.appendChild(input);\n          menu.appendChild(search);\n        }\n\n        if (actions) menu.appendChild(actions);\n        menuInner.appendChild(menuInnerInner);\n        menu.appendChild(menuInner);\n        if (doneButton) menu.appendChild(doneButton);\n        newElement.appendChild(menu);\n        document.body.appendChild(newElement);\n        var liHeight = li.offsetHeight,\n            dropdownHeaderHeight = dropdownHeader ? dropdownHeader.offsetHeight : 0,\n            headerHeight = header ? header.offsetHeight : 0,\n            searchHeight = search ? search.offsetHeight : 0,\n            actionsHeight = actions ? actions.offsetHeight : 0,\n            doneButtonHeight = doneButton ? doneButton.offsetHeight : 0,\n            dividerHeight = $(divider).outerHeight(true),\n            // fall back to jQuery if getComputedStyle is not supported\n        menuStyle = window.getComputedStyle ? window.getComputedStyle(menu) : false,\n            menuWidth = menu.offsetWidth,\n            $menu = menuStyle ? null : $(menu),\n            menuPadding = {\n          vert: toInteger(menuStyle ? menuStyle.paddingTop : $menu.css('paddingTop')) + toInteger(menuStyle ? menuStyle.paddingBottom : $menu.css('paddingBottom')) + toInteger(menuStyle ? menuStyle.borderTopWidth : $menu.css('borderTopWidth')) + toInteger(menuStyle ? menuStyle.borderBottomWidth : $menu.css('borderBottomWidth')),\n          horiz: toInteger(menuStyle ? menuStyle.paddingLeft : $menu.css('paddingLeft')) + toInteger(menuStyle ? menuStyle.paddingRight : $menu.css('paddingRight')) + toInteger(menuStyle ? menuStyle.borderLeftWidth : $menu.css('borderLeftWidth')) + toInteger(menuStyle ? menuStyle.borderRightWidth : $menu.css('borderRightWidth'))\n        },\n            menuExtras = {\n          vert: menuPadding.vert + toInteger(menuStyle ? menuStyle.marginTop : $menu.css('marginTop')) + toInteger(menuStyle ? menuStyle.marginBottom : $menu.css('marginBottom')) + 2,\n          horiz: menuPadding.horiz + toInteger(menuStyle ? menuStyle.marginLeft : $menu.css('marginLeft')) + toInteger(menuStyle ? menuStyle.marginRight : $menu.css('marginRight')) + 2\n        },\n            scrollBarWidth;\n        menuInner.style.overflowY = 'scroll';\n        scrollBarWidth = menu.offsetWidth - menuWidth;\n        document.body.removeChild(newElement);\n        this.sizeInfo.liHeight = liHeight;\n        this.sizeInfo.dropdownHeaderHeight = dropdownHeaderHeight;\n        this.sizeInfo.headerHeight = headerHeight;\n        this.sizeInfo.searchHeight = searchHeight;\n        this.sizeInfo.actionsHeight = actionsHeight;\n        this.sizeInfo.doneButtonHeight = doneButtonHeight;\n        this.sizeInfo.dividerHeight = dividerHeight;\n        this.sizeInfo.menuPadding = menuPadding;\n        this.sizeInfo.menuExtras = menuExtras;\n        this.sizeInfo.menuWidth = menuWidth;\n        this.sizeInfo.menuInnerInnerWidth = menuWidth - menuPadding.horiz;\n        this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth;\n        this.sizeInfo.scrollBarWidth = scrollBarWidth;\n        this.sizeInfo.selectHeight = this.$newElement[0].offsetHeight;\n        this.setPositionData();\n      },\n      getSelectPosition: function getSelectPosition() {\n        var that = this,\n            $window = $(window),\n            pos = that.$newElement.offset(),\n            $container = $(that.options.container),\n            containerPos;\n\n        if (that.options.container && $container.length && !$container.is('body')) {\n          containerPos = $container.offset();\n          containerPos.top += parseInt($container.css('borderTopWidth'));\n          containerPos.left += parseInt($container.css('borderLeftWidth'));\n        } else {\n          containerPos = {\n            top: 0,\n            left: 0\n          };\n        }\n\n        var winPad = that.options.windowPadding;\n        this.sizeInfo.selectOffsetTop = pos.top - containerPos.top - $window.scrollTop();\n        this.sizeInfo.selectOffsetBot = $window.height() - this.sizeInfo.selectOffsetTop - this.sizeInfo.selectHeight - containerPos.top - winPad[2];\n        this.sizeInfo.selectOffsetLeft = pos.left - containerPos.left - $window.scrollLeft();\n        this.sizeInfo.selectOffsetRight = $window.width() - this.sizeInfo.selectOffsetLeft - this.sizeInfo.selectWidth - containerPos.left - winPad[1];\n        this.sizeInfo.selectOffsetTop -= winPad[0];\n        this.sizeInfo.selectOffsetLeft -= winPad[3];\n      },\n      setMenuSize: function setMenuSize(isAuto) {\n        this.getSelectPosition();\n\n        var selectWidth = this.sizeInfo.selectWidth,\n            liHeight = this.sizeInfo.liHeight,\n            headerHeight = this.sizeInfo.headerHeight,\n            searchHeight = this.sizeInfo.searchHeight,\n            actionsHeight = this.sizeInfo.actionsHeight,\n            doneButtonHeight = this.sizeInfo.doneButtonHeight,\n            divHeight = this.sizeInfo.dividerHeight,\n            menuPadding = this.sizeInfo.menuPadding,\n            menuInnerHeight,\n            menuHeight,\n            divLength = 0,\n            minHeight,\n            _minHeight,\n            maxHeight,\n            menuInnerMinHeight,\n            estimate;\n\n        if (this.options.dropupAuto) {\n          // Get the estimated height of the menu without scrollbars.\n          // This is useful for smaller menus, where there might be plenty of room\n          // below the button without setting dropup, but we can't know\n          // the exact height of the menu until createView is called later\n          estimate = liHeight * this.selectpicker.current.elements.length + menuPadding.vert;\n          this.$newElement.toggleClass(classNames.DROPUP, this.sizeInfo.selectOffsetTop - this.sizeInfo.selectOffsetBot > this.sizeInfo.menuExtras.vert && estimate + this.sizeInfo.menuExtras.vert + 50 > this.sizeInfo.selectOffsetBot);\n        }\n\n        if (this.options.size === 'auto') {\n          _minHeight = this.selectpicker.current.elements.length > 3 ? this.sizeInfo.liHeight * 3 + this.sizeInfo.menuExtras.vert - 2 : 0;\n          menuHeight = this.sizeInfo.selectOffsetBot - this.sizeInfo.menuExtras.vert;\n          minHeight = _minHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\n          menuInnerMinHeight = Math.max(_minHeight - menuPadding.vert, 0);\n\n          if (this.$newElement.hasClass(classNames.DROPUP)) {\n            menuHeight = this.sizeInfo.selectOffsetTop - this.sizeInfo.menuExtras.vert;\n          }\n\n          maxHeight = menuHeight;\n          menuInnerHeight = menuHeight - headerHeight - searchHeight - actionsHeight - doneButtonHeight - menuPadding.vert;\n        } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\n          for (var i = 0; i < this.options.size; i++) {\n            if (this.selectpicker.current.data[i].type === 'divider') divLength++;\n          }\n\n          menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding.vert;\n          menuInnerHeight = menuHeight - menuPadding.vert;\n          maxHeight = menuHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\n          minHeight = menuInnerMinHeight = '';\n        }\n\n        this.$menu.css({\n          'max-height': maxHeight + 'px',\n          'overflow': 'hidden',\n          'min-height': minHeight + 'px'\n        });\n        this.$menuInner.css({\n          'max-height': menuInnerHeight + 'px',\n          'overflow-y': 'auto',\n          'min-height': menuInnerMinHeight + 'px'\n        }); // ensure menuInnerHeight is always a positive number to prevent issues calculating chunkSize in createView\n\n        this.sizeInfo.menuInnerHeight = Math.max(menuInnerHeight, 1);\n\n        if (this.selectpicker.current.data.length && this.selectpicker.current.data[this.selectpicker.current.data.length - 1].position > this.sizeInfo.menuInnerHeight) {\n          this.sizeInfo.hasScrollBar = true;\n          this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth + this.sizeInfo.scrollBarWidth;\n        }\n\n        if (this.options.dropdownAlignRight === 'auto') {\n          this.$menu.toggleClass(classNames.MENURIGHT, this.sizeInfo.selectOffsetLeft > this.sizeInfo.selectOffsetRight && this.sizeInfo.selectOffsetRight < this.sizeInfo.totalMenuWidth - selectWidth);\n        }\n\n        if (this.dropdown && this.dropdown._popper) this.dropdown._popper.update();\n      },\n      setSize: function setSize(refresh) {\n        this.liHeight(refresh);\n        if (this.options.header) this.$menu.css('padding-top', 0);\n        if (this.options.size === false) return;\n        var that = this,\n            $window = $(window);\n        this.setMenuSize();\n\n        if (this.options.liveSearch) {\n          this.$searchbox.off('input.setMenuSize propertychange.setMenuSize').on('input.setMenuSize propertychange.setMenuSize', function () {\n            return that.setMenuSize();\n          });\n        }\n\n        if (this.options.size === 'auto') {\n          $window.off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize').on('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize', function () {\n            return that.setMenuSize();\n          });\n        } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\n          $window.off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize');\n        }\n\n        that.createView(false, true, refresh);\n      },\n      setWidth: function setWidth() {\n        var that = this;\n\n        if (this.options.width === 'auto') {\n          requestAnimationFrame(function () {\n            that.$menu.css('min-width', '0');\n            that.$element.on('loaded' + EVENT_KEY, function () {\n              that.liHeight();\n              that.setMenuSize(); // Get correct width if element is hidden\n\n              var $selectClone = that.$newElement.clone().appendTo('body'),\n                  btnWidth = $selectClone.css('width', 'auto').children('button').outerWidth();\n              $selectClone.remove(); // Set width to whatever's larger, button title or longest option\n\n              that.sizeInfo.selectWidth = Math.max(that.sizeInfo.totalMenuWidth, btnWidth);\n              that.$newElement.css('width', that.sizeInfo.selectWidth + 'px');\n            });\n          });\n        } else if (this.options.width === 'fit') {\n          // Remove inline min-width so width can be changed from 'auto'\n          this.$menu.css('min-width', '');\n          this.$newElement.css('width', '').addClass('fit-width');\n        } else if (this.options.width) {\n          // Remove inline min-width so width can be changed from 'auto'\n          this.$menu.css('min-width', '');\n          this.$newElement.css('width', this.options.width);\n        } else {\n          // Remove inline min-width/width so width can be changed\n          this.$menu.css('min-width', '');\n          this.$newElement.css('width', '');\n        } // Remove fit-width class if width is changed programmatically\n\n\n        if (this.$newElement.hasClass('fit-width') && this.options.width !== 'fit') {\n          this.$newElement[0].classList.remove('fit-width');\n        }\n      },\n      selectPosition: function selectPosition() {\n        this.$bsContainer = $('<div class=\"bs-container\" />');\n\n        var that = this,\n            $container = $(this.options.container),\n            pos,\n            containerPos,\n            actualHeight,\n            getPlacement = function getPlacement($element) {\n          var containerPosition = {},\n              // fall back to dropdown's default display setting if display is not manually set\n          display = that.options.display || ( // Bootstrap 3 doesn't have $.fn.dropdown.Constructor.Default\n          $.fn.dropdown.Constructor.Default ? $.fn.dropdown.Constructor.Default.display : false);\n          that.$bsContainer.addClass($element.attr('class').replace(/form-control|fit-width/gi, '')).toggleClass(classNames.DROPUP, $element.hasClass(classNames.DROPUP));\n          pos = $element.offset();\n\n          if (!$container.is('body')) {\n            containerPos = $container.offset();\n            containerPos.top += parseInt($container.css('borderTopWidth')) - $container.scrollTop();\n            containerPos.left += parseInt($container.css('borderLeftWidth')) - $container.scrollLeft();\n          } else {\n            containerPos = {\n              top: 0,\n              left: 0\n            };\n          }\n\n          actualHeight = $element.hasClass(classNames.DROPUP) ? 0 : $element[0].offsetHeight; // Bootstrap 4+ uses Popper for menu positioning\n\n          if (version.major < 4 || display === 'static') {\n            containerPosition.top = pos.top - containerPos.top + actualHeight;\n            containerPosition.left = pos.left - containerPos.left;\n          }\n\n          containerPosition.width = $element[0].offsetWidth;\n          that.$bsContainer.css(containerPosition);\n        };\n\n        this.$button.on('click.bs.dropdown.data-api', function () {\n          if (that.isDisabled()) {\n            return;\n          }\n\n          getPlacement(that.$newElement);\n          that.$bsContainer.appendTo(that.options.container).toggleClass(classNames.SHOW, !that.$button.hasClass(classNames.SHOW)).append(that.$menu);\n        });\n        $(window).off('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId).on('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId, function () {\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\n          if (isActive) getPlacement(that.$newElement);\n        });\n        this.$element.on('hide' + EVENT_KEY, function () {\n          that.$menu.data('height', that.$menu.height());\n          that.$bsContainer.detach();\n        });\n      },\n      setOptionStatus: function setOptionStatus(selectedOnly) {\n        var that = this;\n        that.noScroll = false;\n\n        if (that.selectpicker.view.visibleElements && that.selectpicker.view.visibleElements.length) {\n          for (var i = 0; i < that.selectpicker.view.visibleElements.length; i++) {\n            var liData = that.selectpicker.current.data[i + that.selectpicker.view.position0],\n                option = liData.option;\n\n            if (option) {\n              if (selectedOnly !== true) {\n                that.setDisabled(liData.index, liData.disabled);\n              }\n\n              that.setSelected(liData.index, option.selected);\n            }\n          }\n        }\n      },\n\n      /**\n       * @param {number} index - the index of the option that is being changed\n       * @param {boolean} selected - true if the option is being selected, false if being deselected\n       */\n      setSelected: function setSelected(index, selected) {\n        var li = this.selectpicker.main.elements[index],\n            liData = this.selectpicker.main.data[index],\n            activeIndexIsSet = this.activeIndex !== undefined,\n            thisIsActive = this.activeIndex === index,\n            prevActive,\n            a,\n            // if current option is already active\n        // OR\n        // if the current option is being selected, it's NOT multiple, and\n        // activeIndex is undefined:\n        //  - when the menu is first being opened, OR\n        //  - after a search has been performed, OR\n        //  - when retainActive is false when selecting a new option (i.e. index of the newly selected option is not the same as the current activeIndex)\n        keepActive = thisIsActive || selected && !this.multiple && !activeIndexIsSet;\n        liData.selected = selected;\n        a = li.firstChild;\n\n        if (selected) {\n          this.selectedIndex = index;\n        }\n\n        li.classList.toggle('selected', selected);\n\n        if (keepActive) {\n          this.focusItem(li, liData);\n          this.selectpicker.view.currentActive = li;\n          this.activeIndex = index;\n        } else {\n          this.defocusItem(li);\n        }\n\n        if (a) {\n          a.classList.toggle('selected', selected);\n\n          if (selected) {\n            a.setAttribute('aria-selected', true);\n          } else {\n            if (this.multiple) {\n              a.setAttribute('aria-selected', false);\n            } else {\n              a.removeAttribute('aria-selected');\n            }\n          }\n        }\n\n        if (!keepActive && !activeIndexIsSet && selected && this.prevActiveIndex !== undefined) {\n          prevActive = this.selectpicker.main.elements[this.prevActiveIndex];\n          this.defocusItem(prevActive);\n        }\n      },\n\n      /**\n       * @param {number} index - the index of the option that is being disabled\n       * @param {boolean} disabled - true if the option is being disabled, false if being enabled\n       */\n      setDisabled: function setDisabled(index, disabled) {\n        var li = this.selectpicker.main.elements[index],\n            a;\n        this.selectpicker.main.data[index].disabled = disabled;\n        a = li.firstChild;\n        li.classList.toggle(classNames.DISABLED, disabled);\n\n        if (a) {\n          if (version.major === '4') a.classList.toggle(classNames.DISABLED, disabled);\n\n          if (disabled) {\n            a.setAttribute('aria-disabled', disabled);\n            a.setAttribute('tabindex', -1);\n          } else {\n            a.removeAttribute('aria-disabled');\n            a.setAttribute('tabindex', 0);\n          }\n        }\n      },\n      isDisabled: function isDisabled() {\n        return this.$element[0].disabled;\n      },\n      checkDisabled: function checkDisabled() {\n        if (this.isDisabled()) {\n          this.$newElement[0].classList.add(classNames.DISABLED);\n          this.$button.addClass(classNames.DISABLED).attr('tabindex', -1).attr('aria-disabled', true);\n        } else {\n          if (this.$button[0].classList.contains(classNames.DISABLED)) {\n            this.$newElement[0].classList.remove(classNames.DISABLED);\n            this.$button.removeClass(classNames.DISABLED).attr('aria-disabled', false);\n          }\n\n          if (this.$button.attr('tabindex') == -1 && !this.$element.data('tabindex')) {\n            this.$button.removeAttr('tabindex');\n          }\n        }\n      },\n      tabIndex: function tabIndex() {\n        if (this.$element.data('tabindex') !== this.$element.attr('tabindex') && this.$element.attr('tabindex') !== -98 && this.$element.attr('tabindex') !== '-98') {\n          this.$element.data('tabindex', this.$element.attr('tabindex'));\n          this.$button.attr('tabindex', this.$element.data('tabindex'));\n        }\n\n        this.$element.attr('tabindex', -98);\n      },\n      clickListener: function clickListener() {\n        var that = this,\n            $document = $(document);\n        $document.data('spaceSelect', false);\n        this.$button.on('keyup', function (e) {\n          if (/(32)/.test(e.keyCode.toString(10)) && $document.data('spaceSelect')) {\n            e.preventDefault();\n            $document.data('spaceSelect', false);\n          }\n        });\n        this.$newElement.on('show.bs.dropdown', function () {\n          if (version.major > 3 && !that.dropdown) {\n            that.dropdown = that.$button.data('bs.dropdown');\n            that.dropdown._menu = that.$menu[0];\n          }\n        });\n        this.$button.on('click.bs.dropdown.data-api', function () {\n          if (!that.$newElement.hasClass(classNames.SHOW)) {\n            that.setSize();\n          }\n        });\n\n        function setFocus() {\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            that.$menuInner.trigger('focus');\n          }\n        }\n\n        function checkPopperExists() {\n          if (that.dropdown && that.dropdown._popper && that.dropdown._popper.state.isCreated) {\n            setFocus();\n          } else {\n            requestAnimationFrame(checkPopperExists);\n          }\n        }\n\n        this.$element.on('shown' + EVENT_KEY, function () {\n          if (that.$menuInner[0].scrollTop !== that.selectpicker.view.scrollTop) {\n            that.$menuInner[0].scrollTop = that.selectpicker.view.scrollTop;\n          }\n\n          if (version.major > 3) {\n            requestAnimationFrame(checkPopperExists);\n          } else {\n            setFocus();\n          }\n        }); // ensure posinset and setsize are correct before selecting an option via a click\n\n        this.$menuInner.on('mouseenter', 'li a', function (e) {\n          var hoverLi = this.parentElement,\n              position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\n              index = Array.prototype.indexOf.call(hoverLi.parentElement.children, hoverLi),\n              hoverData = that.selectpicker.current.data[index + position0];\n          that.focusItem(hoverLi, hoverData, true);\n        });\n        this.$menuInner.on('click', 'li a', function (e, retainActive) {\n          var $this = $(this),\n              element = that.$element[0],\n              position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\n              clickedData = that.selectpicker.current.data[$this.parent().index() + position0],\n              clickedIndex = clickedData.index,\n              prevValue = getSelectValues(element),\n              prevIndex = element.selectedIndex,\n              prevOption = element.options[prevIndex],\n              triggerChange = true; // Don't close on multi choice menu\n\n          if (that.multiple && that.options.maxOptions !== 1) {\n            e.stopPropagation();\n          }\n\n          e.preventDefault(); // Don't run if the select is disabled\n\n          if (!that.isDisabled() && !$this.parent().hasClass(classNames.DISABLED)) {\n            var option = clickedData.option,\n                $option = $(option),\n                state = option.selected,\n                $optgroup = $option.parent('optgroup'),\n                $optgroupOptions = $optgroup.find('option'),\n                maxOptions = that.options.maxOptions,\n                maxOptionsGrp = $optgroup.data('maxOptions') || false;\n            if (clickedIndex === that.activeIndex) retainActive = true;\n\n            if (!retainActive) {\n              that.prevActiveIndex = that.activeIndex;\n              that.activeIndex = undefined;\n            }\n\n            if (!that.multiple) {\n              // Deselect all others if not multi select box\n              if (prevOption) prevOption.selected = false;\n              option.selected = true;\n              that.setSelected(clickedIndex, true);\n            } else {\n              // Toggle the one we have chosen if we are multi select.\n              option.selected = !state;\n              that.setSelected(clickedIndex, !state);\n              $this.trigger('blur');\n\n              if (maxOptions !== false || maxOptionsGrp !== false) {\n                var maxReached = maxOptions < getSelectedOptions(element).length,\n                    maxReachedGrp = maxOptionsGrp < $optgroup.find('option:selected').length;\n\n                if (maxOptions && maxReached || maxOptionsGrp && maxReachedGrp) {\n                  if (maxOptions && maxOptions == 1) {\n                    element.selectedIndex = -1;\n                    option.selected = true;\n                    that.setOptionStatus(true);\n                  } else if (maxOptionsGrp && maxOptionsGrp == 1) {\n                    for (var i = 0; i < $optgroupOptions.length; i++) {\n                      var _option = $optgroupOptions[i];\n                      _option.selected = false;\n                      that.setSelected(_option.liIndex, false);\n                    }\n\n                    option.selected = true;\n                    that.setSelected(clickedIndex, true);\n                  } else {\n                    var maxOptionsText = typeof that.options.maxOptionsText === 'string' ? [that.options.maxOptionsText, that.options.maxOptionsText] : that.options.maxOptionsText,\n                        maxOptionsArr = typeof maxOptionsText === 'function' ? maxOptionsText(maxOptions, maxOptionsGrp) : maxOptionsText,\n                        maxTxt = maxOptionsArr[0].replace('{n}', maxOptions),\n                        maxTxtGrp = maxOptionsArr[1].replace('{n}', maxOptionsGrp),\n                        $notify = $('<div class=\"notify\"></div>'); // If {var} is set in array, replace it\n\n                    /** @deprecated */\n\n                    if (maxOptionsArr[2]) {\n                      maxTxt = maxTxt.replace('{var}', maxOptionsArr[2][maxOptions > 1 ? 0 : 1]);\n                      maxTxtGrp = maxTxtGrp.replace('{var}', maxOptionsArr[2][maxOptionsGrp > 1 ? 0 : 1]);\n                    }\n\n                    option.selected = false;\n                    that.$menu.append($notify);\n\n                    if (maxOptions && maxReached) {\n                      $notify.append($('<div>' + maxTxt + '</div>'));\n                      triggerChange = false;\n                      that.$element.trigger('maxReached' + EVENT_KEY);\n                    }\n\n                    if (maxOptionsGrp && maxReachedGrp) {\n                      $notify.append($('<div>' + maxTxtGrp + '</div>'));\n                      triggerChange = false;\n                      that.$element.trigger('maxReachedGrp' + EVENT_KEY);\n                    }\n\n                    setTimeout(function () {\n                      that.setSelected(clickedIndex, false);\n                    }, 10);\n                    $notify[0].classList.add('fadeOut');\n                    setTimeout(function () {\n                      $notify.remove();\n                    }, 1050);\n                  }\n                }\n              }\n            }\n\n            if (!that.multiple || that.multiple && that.options.maxOptions === 1) {\n              that.$button.trigger('focus');\n            } else if (that.options.liveSearch) {\n              that.$searchbox.trigger('focus');\n            } // Trigger select 'change'\n\n\n            if (triggerChange) {\n              if (that.multiple || prevIndex !== element.selectedIndex) {\n                // $option.prop('selected') is current option state (selected/unselected). prevValue is the value of the select prior to being changed.\n                changedArguments = [option.index, $option.prop('selected'), prevValue];\n                that.$element.triggerNative('change');\n              }\n            }\n          }\n        });\n        this.$menu.on('click', 'li.' + classNames.DISABLED + ' a, .' + classNames.POPOVERHEADER + ', .' + classNames.POPOVERHEADER + ' :not(.close)', function (e) {\n          if (e.currentTarget == this) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (that.options.liveSearch && !$(e.target).hasClass('close')) {\n              that.$searchbox.trigger('focus');\n            } else {\n              that.$button.trigger('focus');\n            }\n          }\n        });\n        this.$menuInner.on('click', '.divider, .dropdown-header', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            that.$button.trigger('focus');\n          }\n        });\n        this.$menu.on('click', '.' + classNames.POPOVERHEADER + ' .close', function () {\n          that.$button.trigger('click');\n        });\n        this.$searchbox.on('click', function (e) {\n          e.stopPropagation();\n        });\n        this.$menu.on('click', '.actions-btn', function (e) {\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            that.$button.trigger('focus');\n          }\n\n          e.preventDefault();\n          e.stopPropagation();\n\n          if ($(this).hasClass('bs-select-all')) {\n            that.selectAll();\n          } else {\n            that.deselectAll();\n          }\n        });\n        this.$element.on('change' + EVENT_KEY, function () {\n          that.render();\n          that.$element.trigger('changed' + EVENT_KEY, changedArguments);\n          changedArguments = null;\n        }).on('focus' + EVENT_KEY, function () {\n          if (!that.options.mobile) that.$button.trigger('focus');\n        });\n      },\n      liveSearchListener: function liveSearchListener() {\n        var that = this,\n            noResults = document.createElement('li');\n        this.$button.on('click.bs.dropdown.data-api', function () {\n          if (!!that.$searchbox.val()) {\n            that.$searchbox.val('');\n          }\n        });\n        this.$searchbox.on('click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api', function (e) {\n          e.stopPropagation();\n        });\n        this.$searchbox.on('input propertychange', function () {\n          var searchValue = that.$searchbox.val();\n          that.selectpicker.search.elements = [];\n          that.selectpicker.search.data = [];\n\n          if (searchValue) {\n            var i,\n                searchMatch = [],\n                q = searchValue.toUpperCase(),\n                cache = {},\n                cacheArr = [],\n                searchStyle = that._searchStyle(),\n                normalizeSearch = that.options.liveSearchNormalize;\n\n            if (normalizeSearch) q = normalizeToBase(q);\n            that._$lisSelected = that.$menuInner.find('.selected');\n\n            for (var i = 0; i < that.selectpicker.main.data.length; i++) {\n              var li = that.selectpicker.main.data[i];\n\n              if (!cache[i]) {\n                cache[i] = stringSearch(li, q, searchStyle, normalizeSearch);\n              }\n\n              if (cache[i] && li.headerIndex !== undefined && cacheArr.indexOf(li.headerIndex) === -1) {\n                if (li.headerIndex > 0) {\n                  cache[li.headerIndex - 1] = true;\n                  cacheArr.push(li.headerIndex - 1);\n                }\n\n                cache[li.headerIndex] = true;\n                cacheArr.push(li.headerIndex);\n                cache[li.lastIndex + 1] = true;\n              }\n\n              if (cache[i] && li.type !== 'optgroup-label') cacheArr.push(i);\n            }\n\n            for (var i = 0, cacheLen = cacheArr.length; i < cacheLen; i++) {\n              var index = cacheArr[i],\n                  prevIndex = cacheArr[i - 1],\n                  li = that.selectpicker.main.data[index],\n                  liPrev = that.selectpicker.main.data[prevIndex];\n\n              if (li.type !== 'divider' || li.type === 'divider' && liPrev && liPrev.type !== 'divider' && cacheLen - 1 !== i) {\n                that.selectpicker.search.data.push(li);\n                searchMatch.push(that.selectpicker.main.elements[index]);\n              }\n            }\n\n            that.activeIndex = undefined;\n            that.noScroll = true;\n            that.$menuInner.scrollTop(0);\n            that.selectpicker.search.elements = searchMatch;\n            that.createView(true);\n\n            if (!searchMatch.length) {\n              noResults.className = 'no-results';\n              noResults.innerHTML = that.options.noneResultsText.replace('{0}', '\"' + htmlEscape(searchValue) + '\"');\n              that.$menuInner[0].firstChild.appendChild(noResults);\n            }\n          } else {\n            that.$menuInner.scrollTop(0);\n            that.createView(false);\n          }\n        });\n      },\n      _searchStyle: function _searchStyle() {\n        return this.options.liveSearchStyle || 'contains';\n      },\n      val: function val(value) {\n        var element = this.$element[0];\n\n        if (typeof value !== 'undefined') {\n          var prevValue = getSelectValues(element);\n          changedArguments = [null, null, prevValue];\n          this.$element.val(value).trigger('changed' + EVENT_KEY, changedArguments);\n\n          if (this.$newElement.hasClass(classNames.SHOW)) {\n            if (this.multiple) {\n              this.setOptionStatus(true);\n            } else {\n              var liSelectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\n\n              if (typeof liSelectedIndex === 'number') {\n                this.setSelected(this.selectedIndex, false);\n                this.setSelected(liSelectedIndex, true);\n              }\n            }\n          }\n\n          this.render();\n          changedArguments = null;\n          return this.$element;\n        } else {\n          return this.$element.val();\n        }\n      },\n      changeAll: function changeAll(status) {\n        if (!this.multiple) return;\n        if (typeof status === 'undefined') status = true;\n        var element = this.$element[0],\n            previousSelected = 0,\n            currentSelected = 0,\n            prevValue = getSelectValues(element);\n        element.classList.add('bs-select-hidden');\n\n        for (var i = 0, len = this.selectpicker.current.elements.length; i < len; i++) {\n          var liData = this.selectpicker.current.data[i],\n              option = liData.option;\n\n          if (option && !liData.disabled && liData.type !== 'divider') {\n            if (liData.selected) previousSelected++;\n            option.selected = status;\n            if (status) currentSelected++;\n          }\n        }\n\n        element.classList.remove('bs-select-hidden');\n        if (previousSelected === currentSelected) return;\n        this.setOptionStatus();\n        changedArguments = [null, null, prevValue];\n        this.$element.triggerNative('change');\n      },\n      selectAll: function selectAll() {\n        return this.changeAll(true);\n      },\n      deselectAll: function deselectAll() {\n        return this.changeAll(false);\n      },\n      toggle: function toggle(e) {\n        e = e || window.event;\n        if (e) e.stopPropagation();\n        this.$button.trigger('click.bs.dropdown.data-api');\n      },\n      keydown: function keydown(e) {\n        var $this = $(this),\n            isToggle = $this.hasClass('dropdown-toggle'),\n            $parent = isToggle ? $this.closest('.dropdown') : $this.closest(Selector.MENU),\n            that = $parent.data('this'),\n            $items = that.findLis(),\n            index,\n            isActive,\n            liActive,\n            activeLi,\n            offset,\n            updateScroll = false,\n            downOnTab = e.which === keyCodes.TAB && !isToggle && !that.options.selectOnTab,\n            isArrowKey = REGEXP_ARROW.test(e.which) || downOnTab,\n            scrollTop = that.$menuInner[0].scrollTop,\n            isVirtual = that.isVirtual(),\n            position0 = isVirtual === true ? that.selectpicker.view.position0 : 0; // do nothing if a function key is pressed\n\n        if (e.which >= 112 && e.which <= 123) return;\n        isActive = that.$newElement.hasClass(classNames.SHOW);\n\n        if (!isActive && (isArrowKey || e.which >= 48 && e.which <= 57 || e.which >= 96 && e.which <= 105 || e.which >= 65 && e.which <= 90)) {\n          that.$button.trigger('click.bs.dropdown.data-api');\n\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n            return;\n          }\n        }\n\n        if (e.which === keyCodes.ESCAPE && isActive) {\n          e.preventDefault();\n          that.$button.trigger('click.bs.dropdown.data-api').trigger('focus');\n        }\n\n        if (isArrowKey) {\n          // if up or down\n          if (!$items.length) return;\n          liActive = that.selectpicker.main.elements[that.activeIndex];\n          index = liActive ? Array.prototype.indexOf.call(liActive.parentElement.children, liActive) : -1;\n\n          if (index !== -1) {\n            that.defocusItem(liActive);\n          }\n\n          if (e.which === keyCodes.ARROW_UP) {\n            // up\n            if (index !== -1) index--;\n            if (index + position0 < 0) index += $items.length;\n\n            if (!that.selectpicker.view.canHighlight[index + position0]) {\n              index = that.selectpicker.view.canHighlight.slice(0, index + position0).lastIndexOf(true) - position0;\n              if (index === -1) index = $items.length - 1;\n            }\n          } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) {\n            // down\n            index++;\n            if (index + position0 >= that.selectpicker.view.canHighlight.length) index = 0;\n\n            if (!that.selectpicker.view.canHighlight[index + position0]) {\n              index = index + 1 + that.selectpicker.view.canHighlight.slice(index + position0 + 1).indexOf(true);\n            }\n          }\n\n          e.preventDefault();\n          var liActiveIndex = position0 + index;\n\n          if (e.which === keyCodes.ARROW_UP) {\n            // up\n            // scroll to bottom and highlight last option\n            if (position0 === 0 && index === $items.length - 1) {\n              that.$menuInner[0].scrollTop = that.$menuInner[0].scrollHeight;\n              liActiveIndex = that.selectpicker.current.elements.length - 1;\n            } else {\n              activeLi = that.selectpicker.current.data[liActiveIndex];\n              offset = activeLi.position - activeLi.height;\n              updateScroll = offset < scrollTop;\n            }\n          } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) {\n            // down\n            // scroll to top and highlight first option\n            if (index === 0) {\n              that.$menuInner[0].scrollTop = 0;\n              liActiveIndex = 0;\n            } else {\n              activeLi = that.selectpicker.current.data[liActiveIndex];\n              offset = activeLi.position - that.sizeInfo.menuInnerHeight;\n              updateScroll = offset > scrollTop;\n            }\n          }\n\n          liActive = that.selectpicker.current.elements[liActiveIndex];\n          that.activeIndex = that.selectpicker.current.data[liActiveIndex].index;\n          that.focusItem(liActive);\n          that.selectpicker.view.currentActive = liActive;\n          if (updateScroll) that.$menuInner[0].scrollTop = offset;\n\n          if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          } else {\n            $this.trigger('focus');\n          }\n        } else if (!$this.is('input') && !REGEXP_TAB_OR_ESCAPE.test(e.which) || e.which === keyCodes.SPACE && that.selectpicker.keydown.keyHistory) {\n          var searchMatch,\n              matches = [],\n              keyHistory;\n          e.preventDefault();\n          that.selectpicker.keydown.keyHistory += keyCodeMap[e.which];\n          if (that.selectpicker.keydown.resetKeyHistory.cancel) clearTimeout(that.selectpicker.keydown.resetKeyHistory.cancel);\n          that.selectpicker.keydown.resetKeyHistory.cancel = that.selectpicker.keydown.resetKeyHistory.start();\n          keyHistory = that.selectpicker.keydown.keyHistory; // if all letters are the same, set keyHistory to just the first character when searching\n\n          if (/^(.)\\1+$/.test(keyHistory)) {\n            keyHistory = keyHistory.charAt(0);\n          } // find matches\n\n\n          for (var i = 0; i < that.selectpicker.current.data.length; i++) {\n            var li = that.selectpicker.current.data[i],\n                hasMatch;\n            hasMatch = stringSearch(li, keyHistory, 'startsWith', true);\n\n            if (hasMatch && that.selectpicker.view.canHighlight[i]) {\n              matches.push(li.index);\n            }\n          }\n\n          if (matches.length) {\n            var matchIndex = 0;\n            $items.removeClass('active').find('a').removeClass('active'); // either only one key has been pressed or they are all the same key\n\n            if (keyHistory.length === 1) {\n              matchIndex = matches.indexOf(that.activeIndex);\n\n              if (matchIndex === -1 || matchIndex === matches.length - 1) {\n                matchIndex = 0;\n              } else {\n                matchIndex++;\n              }\n            }\n\n            searchMatch = matches[matchIndex];\n            activeLi = that.selectpicker.main.data[searchMatch];\n\n            if (scrollTop - activeLi.position > 0) {\n              offset = activeLi.position - activeLi.height;\n              updateScroll = true;\n            } else {\n              offset = activeLi.position - that.sizeInfo.menuInnerHeight; // if the option is already visible at the current scroll position, just keep it the same\n\n              updateScroll = activeLi.position > scrollTop + that.sizeInfo.menuInnerHeight;\n            }\n\n            liActive = that.selectpicker.main.elements[searchMatch];\n            that.activeIndex = matches[matchIndex];\n            that.focusItem(liActive);\n            if (liActive) liActive.firstChild.focus();\n            if (updateScroll) that.$menuInner[0].scrollTop = offset;\n            $this.trigger('focus');\n          }\n        } // Select focused option if \"Enter\", \"Spacebar\" or \"Tab\" (when selectOnTab is true) are pressed inside the menu.\n\n\n        if (isActive && (e.which === keyCodes.SPACE && !that.selectpicker.keydown.keyHistory || e.which === keyCodes.ENTER || e.which === keyCodes.TAB && that.options.selectOnTab)) {\n          if (e.which !== keyCodes.SPACE) e.preventDefault();\n\n          if (!that.options.liveSearch || e.which !== keyCodes.SPACE) {\n            that.$menuInner.find('.active a').trigger('click', true); // retain active class\n\n            $this.trigger('focus');\n\n            if (!that.options.liveSearch) {\n              // Prevent screen from scrolling if the user hits the spacebar\n              e.preventDefault(); // Fixes spacebar selection of dropdown items in FF & IE\n\n              $(document).data('spaceSelect', true);\n            }\n          }\n        }\n      },\n      mobile: function mobile() {\n        this.$element[0].classList.add('mobile-device');\n      },\n      refresh: function refresh() {\n        // update options if data attributes have been changed\n        var config = $.extend({}, this.options, this.$element.data());\n        this.options = config;\n        this.checkDisabled();\n        this.setStyle();\n        this.render();\n        this.createLi();\n        this.setWidth();\n        this.setSize(true);\n        this.$element.trigger('refreshed' + EVENT_KEY);\n      },\n      hide: function hide() {\n        this.$newElement.hide();\n      },\n      show: function show() {\n        this.$newElement.show();\n      },\n      remove: function remove() {\n        this.$newElement.remove();\n        this.$element.remove();\n      },\n      destroy: function destroy() {\n        this.$newElement.before(this.$element).remove();\n\n        if (this.$bsContainer) {\n          this.$bsContainer.remove();\n        } else {\n          this.$menu.remove();\n        }\n\n        this.$element.off(EVENT_KEY).removeData('selectpicker').removeClass('bs-select-hidden selectpicker');\n        $(window).off(EVENT_KEY + '.' + this.selectId);\n      }\n    }; // SELECTPICKER PLUGIN DEFINITION\n    // ==============================\n\n    function Plugin(option) {\n      // get the args of the outer function..\n      var args = arguments; // The arguments of the function are explicitly re-defined from the argument list, because the shift causes them\n      // to get lost/corrupted in android 2.3 and IE9 #715 #775\n\n      var _option = option;\n      [].shift.apply(args); // if the version was not set successfully\n\n      if (!version.success) {\n        // try to retreive it again\n        try {\n          version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\n        } catch (err) {\n          // fall back to use BootstrapVersion if set\n          if (Selectpicker.BootstrapVersion) {\n            version.full = Selectpicker.BootstrapVersion.split(' ')[0].split('.');\n          } else {\n            version.full = [version.major, '0', '0'];\n            console.warn('There was an issue retrieving Bootstrap\\'s version. ' + 'Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. ' + 'If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.', err);\n          }\n        }\n\n        version.major = version.full[0];\n        version.success = true;\n      }\n\n      if (version.major === '4') {\n        // some defaults need to be changed if using Bootstrap 4\n        // check to see if they have already been manually changed before forcing them to update\n        var toUpdate = [];\n        if (Selectpicker.DEFAULTS.style === classNames.BUTTONCLASS) toUpdate.push({\n          name: 'style',\n          className: 'BUTTONCLASS'\n        });\n        if (Selectpicker.DEFAULTS.iconBase === classNames.ICONBASE) toUpdate.push({\n          name: 'iconBase',\n          className: 'ICONBASE'\n        });\n        if (Selectpicker.DEFAULTS.tickIcon === classNames.TICKICON) toUpdate.push({\n          name: 'tickIcon',\n          className: 'TICKICON'\n        });\n        classNames.DIVIDER = 'dropdown-divider';\n        classNames.SHOW = 'show';\n        classNames.BUTTONCLASS = 'btn-light';\n        classNames.POPOVERHEADER = 'popover-header';\n        classNames.ICONBASE = '';\n        classNames.TICKICON = 'bs-ok-default';\n\n        for (var i = 0; i < toUpdate.length; i++) {\n          var option = toUpdate[i];\n          Selectpicker.DEFAULTS[option.name] = classNames[option.className];\n        }\n      }\n\n      var value;\n      var chain = this.each(function () {\n        var $this = $(this);\n\n        if ($this.is('select')) {\n          var data = $this.data('selectpicker'),\n              options = typeof _option == 'object' && _option;\n\n          if (!data) {\n            var dataAttributes = $this.data();\n\n            for (var dataAttr in dataAttributes) {\n              if (dataAttributes.hasOwnProperty(dataAttr) && $.inArray(dataAttr, DISALLOWED_ATTRIBUTES) !== -1) {\n                delete dataAttributes[dataAttr];\n              }\n            }\n\n            var config = $.extend({}, Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, dataAttributes, options);\n            config.template = $.extend({}, Selectpicker.DEFAULTS.template, $.fn.selectpicker.defaults ? $.fn.selectpicker.defaults.template : {}, dataAttributes.template, options.template);\n            $this.data('selectpicker', data = new Selectpicker(this, config));\n          } else if (options) {\n            for (var i in options) {\n              if (options.hasOwnProperty(i)) {\n                data.options[i] = options[i];\n              }\n            }\n          }\n\n          if (typeof _option == 'string') {\n            if (data[_option] instanceof Function) {\n              value = data[_option].apply(data, args);\n            } else {\n              value = data.options[_option];\n            }\n          }\n        }\n      });\n\n      if (typeof value !== 'undefined') {\n        // noinspection JSUnusedAssignment\n        return value;\n      } else {\n        return chain;\n      }\n    }\n\n    var old = $.fn.selectpicker;\n    $.fn.selectpicker = Plugin;\n    $.fn.selectpicker.Constructor = Selectpicker; // SELECTPICKER NO CONFLICT\n    // ========================\n\n    $.fn.selectpicker.noConflict = function () {\n      $.fn.selectpicker = old;\n      return this;\n    };\n\n    $(document).off('keydown.bs.dropdown.data-api', '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select .dropdown-menu').on('keydown' + EVENT_KEY, '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', Selectpicker.prototype.keydown).on('focusin.modal', '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', function (e) {\n      e.stopPropagation();\n    }); // SELECTPICKER DATA-API\n    // =====================\n\n    $(window).on('load' + EVENT_KEY + '.data-api', function () {\n      $('.selectpicker').each(function () {\n        var $selectpicker = $(this);\n        Plugin.call($selectpicker, $selectpicker.data());\n      });\n    });\n  })(jQuery);\n});","map":{"version":3,"sources":["/Users/david/Winner-Stock/app/javascript/packs/bootstrap-select.js"],"names":["root","factory","undefined","window","define","amd","a0","module","exports","require","jQuery","$","DISALLOWED_ATTRIBUTES","uriAttrs","ARIA_ATTRIBUTE_PATTERN","DefaultWhitelist","a","area","b","br","col","code","div","em","hr","h1","h2","h3","h4","h5","h6","i","img","li","ol","p","pre","s","small","span","sub","sup","strong","u","ul","SAFE_URL_PATTERN","DATA_URL_PATTERN","allowedAttribute","attr","allowedAttributeList","attrName","nodeName","toLowerCase","inArray","Boolean","nodeValue","match","regExp","filter","index","value","RegExp","l","length","sanitizeHtml","unsafeElements","whiteList","sanitizeFn","whitelistKeys","Object","keys","len","elements","querySelectorAll","j","len2","el","elName","indexOf","parentNode","removeChild","attributeList","slice","call","attributes","whitelistedAttributes","concat","k","len3","removeAttribute","document","createElement","view","classListProp","protoProp","elemCtrProto","Element","objCtr","classListGetter","$elem","add","classes","Array","prototype","arguments","join","addClass","remove","removeClass","toggle","force","toggleClass","contains","hasClass","defineProperty","classListPropDesc","get","enumerable","configurable","ex","number","__defineGetter__","testElement","classList","_add","DOMTokenList","_remove","forEach","bind","_toggle","token","isEqual","array1","array2","every","element","String","startsWith","object","$defineProperty","result","error","toString","search","TypeError","string","stringLength","searchString","searchLength","position","pos","Number","start","Math","min","max","charCodeAt","o","r","hasOwnProperty","push","HTMLSelectElement","getSelectedOptions","select","ignoreDisabled","selectedOptions","options","opt","disabled","tagName","getSelectValues","text","multiple","valHooks","useDefault","_set","set","elem","data","apply","changedArguments","EventIsSupported","Event","e","fn","triggerNative","eventName","event","dispatchEvent","bubbles","createEvent","initEvent","fireEvent","createEventObject","eventType","trigger","stringSearch","method","normalize","stringTypes","searchSuccess","stringType","replace","normalizeToBase","toUpperCase","toInteger","parseInt","deburredLetters","reLatin","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboMarksExtendedRange","rsComboMarksSupplementRange","rsComboRange","rsCombo","reComboMark","deburrLetter","key","escapeMap","createEscaper","map","escaper","source","testRegexp","replaceRegexp","test","htmlEscape","keyCodeMap","keyCodes","ESCAPE","ENTER","SPACE","TAB","ARROW_UP","ARROW_DOWN","version","success","major","full","dropdown","Constructor","VERSION","split","err","selectId","EVENT_KEY","classNames","DISABLED","DIVIDER","SHOW","DROPUP","MENU","MENURIGHT","MENULEFT","BUTTONCLASS","POPOVERHEADER","ICONBASE","TICKICON","Selector","elementTemplates","subtext","whitespace","createTextNode","fragment","createDocumentFragment","setAttribute","className","cloneNode","checkMark","REGEXP_ARROW","REGEXP_TAB_OR_ESCAPE","generateOption","content","optgroup","nodeType","appendChild","innerHTML","inline","insertAdjacentHTML","useFragment","textElement","subtextElement","iconElement","textContent","icon","iconBase","childNodes","label","Selectpicker","that","$element","$newElement","$button","$menu","selectpicker","main","current","keydown","keyHistory","resetKeyHistory","setTimeout","title","winPad","windowPadding","val","render","refresh","setStyle","selectAll","deselectAll","destroy","show","hide","init","DEFAULTS","noneSelectedText","noneResultsText","countSelectedText","numSelected","numTotal","maxOptionsText","numAll","numGroup","selectAllText","deselectAllText","doneButton","doneButtonText","multipleSeparator","styleBase","style","size","selectedTextFormat","width","container","hideDisabled","showSubtext","showIcon","showContent","dropupAuto","header","liveSearch","liveSearchPlaceholder","liveSearchNormalize","liveSearchStyle","actionsBox","tickIcon","showTick","template","caret","maxOptions","mobile","selectOnTab","dropdownAlignRight","virtualScroll","display","sanitize","constructor","id","prop","autofocus","createDropdown","after","prependTo","children","$menuInner","$searchbox","find","checkDisabled","clickListener","liveSearchListener","focusedParent","setWidth","selectPosition","on","isVirtual","menuInner","emptyMenu","firstChild","replaceChild","scrollTop","hasAttribute","off","validity","valid","createLi","multiselectable","inputGroup","parent","drop","searchbox","actionsbox","donebutton","setPositionData","canHighlight","type","height","sizeInfo","dividerHeight","dropdownHeaderHeight","liHeight","posinset","createView","isSearching","setSize","active","selected","prevActive","selectedIndex","liIndex","selectedData","menuInnerHeight","scroll","updateValue","noScroll","chunks","chunkSize","chunkCount","firstChunk","lastChunk","currentChunk","prevPositions","positionIsDifferent","previousElements","menuIsDifferent","ceil","round","endOfChunk","position0","position1","activeIndex","prevActiveIndex","defocusItem","visibleElements","setOptionStatus","menuFragment","marginTop","marginBottom","toSanitize","visibleElementsLen","elText","elementData","lastChild","sanitized","hasScrollBar","menuInnerInnerWidth","offsetWidth","totalMenuWidth","selectWidth","minWidth","actualMenuWidth","newActive","currentActive","focusItem","isActive","liData","noStyle","setPlaceholder","updateIndex","titleOption","isSelected","titleNotAppended","$opt","insertBefore","optionSelector","mainElements","mainData","widestOptionLength","optID","startIndex","selectOptions","addDivider","config","previousData","addOption","option","divider","getAttribute","cssText","inlineStyle","optionClass","optgroupClass","tokens","liElement","combinedLength","widestOption","addOptgroup","previous","next","headerIndex","lastIndex","labelElement","item","findLis","selectedCount","button","buttonInner","querySelector","titleFragment","showCount","countMax","hasContent","tabIndex","titleOptions","thisData","trim","totalCount","tr8nText","filterExpand","clone","newStyle","status","newElement","buttonClass","previousElementSibling","nextElementSibling","menu","menuInnerInner","dropdownHeader","actions","firstOption","input","body","offsetHeight","headerHeight","searchHeight","actionsHeight","doneButtonHeight","outerHeight","menuStyle","getComputedStyle","menuWidth","menuPadding","vert","paddingTop","css","paddingBottom","borderTopWidth","borderBottomWidth","horiz","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","menuExtras","marginLeft","marginRight","scrollBarWidth","overflowY","selectHeight","getSelectPosition","$window","offset","$container","containerPos","is","top","left","selectOffsetTop","selectOffsetBot","selectOffsetLeft","scrollLeft","selectOffsetRight","setMenuSize","isAuto","divHeight","menuHeight","divLength","minHeight","_minHeight","maxHeight","menuInnerMinHeight","estimate","_popper","update","requestAnimationFrame","$selectClone","appendTo","btnWidth","outerWidth","$bsContainer","actualHeight","getPlacement","containerPosition","Default","isDisabled","append","detach","selectedOnly","setDisabled","setSelected","activeIndexIsSet","thisIsActive","keepActive","removeAttr","$document","keyCode","preventDefault","_menu","setFocus","checkPopperExists","state","isCreated","hoverLi","parentElement","hoverData","retainActive","$this","clickedData","clickedIndex","prevValue","prevIndex","prevOption","triggerChange","stopPropagation","$option","$optgroup","$optgroupOptions","maxOptionsGrp","maxReached","maxReachedGrp","_option","maxOptionsArr","maxTxt","maxTxtGrp","$notify","currentTarget","target","noResults","searchValue","searchMatch","q","cache","cacheArr","searchStyle","_searchStyle","normalizeSearch","_$lisSelected","cacheLen","liPrev","liSelectedIndex","changeAll","previousSelected","currentSelected","isToggle","$parent","closest","$items","liActive","activeLi","updateScroll","downOnTab","which","isArrowKey","lastIndexOf","liActiveIndex","scrollHeight","matches","cancel","clearTimeout","charAt","hasMatch","matchIndex","focus","extend","before","removeData","Plugin","args","shift","BootstrapVersion","console","warn","toUpdate","name","chain","each","dataAttributes","dataAttr","defaults","Function","old","noConflict","$selectpicker"],"mappings":"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","sourcesContent":["/*!\n * Bootstrap-select v1.13.12 (https://developer.snapappointments.com/bootstrap-select)\n *\n * Copyright 2012-2019 SnapAppointments, LLC\n * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)\n */\n\n(function (root, factory) {\n  if (root === undefined && window !== undefined) root = window;\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([\"jquery\"], function (a0) {\n      return (factory(a0));\n    });\n  } else if (typeof module === 'object' && module.exports) {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory(require(\"jquery\"));\n  } else {\n    factory(root[\"jQuery\"]);\n  }\n}(this, function (jQuery) {\n\n(function ($) {\n  'use strict';\n\n  var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn'];\n\n  var uriAttrs = [\n    'background',\n    'cite',\n    'href',\n    'itemtype',\n    'longdesc',\n    'poster',\n    'src',\n    'xlink:href'\n  ];\n\n  var ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\n\n  var DefaultWhitelist = {\n    // Global attributes allowed on any supplied element below.\n    '*': ['class', 'dir', 'id', 'lang', 'role', 'tabindex', 'style', ARIA_ATTRIBUTE_PATTERN],\n    a: ['target', 'href', 'title', 'rel'],\n    area: [],\n    b: [],\n    br: [],\n    col: [],\n    code: [],\n    div: [],\n    em: [],\n    hr: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    i: [],\n    img: ['src', 'alt', 'title', 'width', 'height'],\n    li: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    small: [],\n    span: [],\n    sub: [],\n    sup: [],\n    strong: [],\n    u: [],\n    ul: []\n  }\n\n  /**\n   * A pattern that recognizes a commonly useful subset of URLs that are safe.\n   *\n   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n   */\n  var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi;\n\n  /**\n   * A pattern that matches safe data URLs. Only matches image, video and audio types.\n   *\n   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts\n   */\n  var DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;\n\n  function allowedAttribute (attr, allowedAttributeList) {\n    var attrName = attr.nodeName.toLowerCase()\n\n    if ($.inArray(attrName, allowedAttributeList) !== -1) {\n      if ($.inArray(attrName, uriAttrs) !== -1) {\n        return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN))\n      }\n\n      return true\n    }\n\n    var regExp = $(allowedAttributeList).filter(function (index, value) {\n      return value instanceof RegExp\n    })\n\n    // Check if a regular expression validates the attribute.\n    for (var i = 0, l = regExp.length; i < l; i++) {\n      if (attrName.match(regExp[i])) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  function sanitizeHtml (unsafeElements, whiteList, sanitizeFn) {\n    if (sanitizeFn && typeof sanitizeFn === 'function') {\n      return sanitizeFn(unsafeElements);\n    }\n\n    var whitelistKeys = Object.keys(whiteList);\n\n    for (var i = 0, len = unsafeElements.length; i < len; i++) {\n      var elements = unsafeElements[i].querySelectorAll('*');\n\n      for (var j = 0, len2 = elements.length; j < len2; j++) {\n        var el = elements[j];\n        var elName = el.nodeName.toLowerCase();\n\n        if (whitelistKeys.indexOf(elName) === -1) {\n          el.parentNode.removeChild(el);\n\n          continue;\n        }\n\n        var attributeList = [].slice.call(el.attributes);\n        var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || []);\n\n        for (var k = 0, len3 = attributeList.length; k < len3; k++) {\n          var attr = attributeList[k];\n\n          if (!allowedAttribute(attr, whitelistedAttributes)) {\n            el.removeAttribute(attr.nodeName);\n          }\n        }\n      }\n    }\n  }\n\n  // Polyfill for browsers with no classList support\n  // Remove in v2\n  if (!('classList' in document.createElement('_'))) {\n    (function (view) {\n      if (!('Element' in view)) return;\n\n      var classListProp = 'classList',\n          protoProp = 'prototype',\n          elemCtrProto = view.Element[protoProp],\n          objCtr = Object,\n          classListGetter = function () {\n            var $elem = $(this);\n\n            return {\n              add: function (classes) {\n                classes = Array.prototype.slice.call(arguments).join(' ');\n                return $elem.addClass(classes);\n              },\n              remove: function (classes) {\n                classes = Array.prototype.slice.call(arguments).join(' ');\n                return $elem.removeClass(classes);\n              },\n              toggle: function (classes, force) {\n                return $elem.toggleClass(classes, force);\n              },\n              contains: function (classes) {\n                return $elem.hasClass(classes);\n              }\n            }\n          };\n\n      if (objCtr.defineProperty) {\n        var classListPropDesc = {\n          get: classListGetter,\n          enumerable: true,\n          configurable: true\n        };\n        try {\n          objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n        } catch (ex) { // IE 8 doesn't support enumerable:true\n          // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n          // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n          if (ex.number === undefined || ex.number === -0x7FF5EC54) {\n            classListPropDesc.enumerable = false;\n            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n          }\n        }\n      } else if (objCtr[protoProp].__defineGetter__) {\n        elemCtrProto.__defineGetter__(classListProp, classListGetter);\n      }\n    }(window));\n  }\n\n  var testElement = document.createElement('_');\n\n  testElement.classList.add('c1', 'c2');\n\n  if (!testElement.classList.contains('c2')) {\n    var _add = DOMTokenList.prototype.add,\n        _remove = DOMTokenList.prototype.remove;\n\n    DOMTokenList.prototype.add = function () {\n      Array.prototype.forEach.call(arguments, _add.bind(this));\n    }\n\n    DOMTokenList.prototype.remove = function () {\n      Array.prototype.forEach.call(arguments, _remove.bind(this));\n    }\n  }\n\n  testElement.classList.toggle('c3', false);\n\n  // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n  // support the second argument.\n  if (testElement.classList.contains('c3')) {\n    var _toggle = DOMTokenList.prototype.toggle;\n\n    DOMTokenList.prototype.toggle = function (token, force) {\n      if (1 in arguments && !this.contains(token) === !force) {\n        return force;\n      } else {\n        return _toggle.call(this, token);\n      }\n    };\n  }\n\n  testElement = null;\n\n  // shallow array comparison\n  function isEqual (array1, array2) {\n    return array1.length === array2.length && array1.every(function (element, index) {\n      return element === array2[index];\n    });\n  };\n\n  // <editor-fold desc=\"Shims\">\n  if (!String.prototype.startsWith) {\n    (function () {\n      'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n      var defineProperty = (function () {\n        // IE 8 only supports `Object.defineProperty` on DOM elements\n        try {\n          var object = {};\n          var $defineProperty = Object.defineProperty;\n          var result = $defineProperty(object, object, object) && $defineProperty;\n        } catch (error) {\n        }\n        return result;\n      }());\n      var toString = {}.toString;\n      var startsWith = function (search) {\n        if (this == null) {\n          throw new TypeError();\n        }\n        var string = String(this);\n        if (search && toString.call(search) == '[object RegExp]') {\n          throw new TypeError();\n        }\n        var stringLength = string.length;\n        var searchString = String(search);\n        var searchLength = searchString.length;\n        var position = arguments.length > 1 ? arguments[1] : undefined;\n        // `ToInteger`\n        var pos = position ? Number(position) : 0;\n        if (pos != pos) { // better `isNaN`\n          pos = 0;\n        }\n        var start = Math.min(Math.max(pos, 0), stringLength);\n        // Avoid the `indexOf` call if no match is possible\n        if (searchLength + start > stringLength) {\n          return false;\n        }\n        var index = -1;\n        while (++index < searchLength) {\n          if (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n            return false;\n          }\n        }\n        return true;\n      };\n      if (defineProperty) {\n        defineProperty(String.prototype, 'startsWith', {\n          'value': startsWith,\n          'configurable': true,\n          'writable': true\n        });\n      } else {\n        String.prototype.startsWith = startsWith;\n      }\n    }());\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (\n      o, // object\n      k, // key\n      r  // result array\n    ) {\n      // initialize object and result\n      r = [];\n      // iterate over object keys\n      for (k in o) {\n        // fill result array with non-prototypical keys\n        r.hasOwnProperty.call(o, k) && r.push(k);\n      }\n      // return result\n      return r;\n    };\n  }\n\n  if (HTMLSelectElement && !HTMLSelectElement.prototype.hasOwnProperty('selectedOptions')) {\n    Object.defineProperty(HTMLSelectElement.prototype, 'selectedOptions', {\n      get: function () {\n        return this.querySelectorAll(':checked');\n      }\n    });\n  }\n\n  function getSelectedOptions (select, ignoreDisabled) {\n    var selectedOptions = select.selectedOptions,\n        options = [],\n        opt;\n\n    if (ignoreDisabled) {\n      for (var i = 0, len = selectedOptions.length; i < len; i++) {\n        opt = selectedOptions[i];\n\n        if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\n          options.push(opt);\n        }\n      }\n\n      return options;\n    }\n\n    return selectedOptions;\n  }\n\n  // much faster than $.val()\n  function getSelectValues (select, selectedOptions) {\n    var value = [],\n        options = selectedOptions || select.selectedOptions,\n        opt;\n\n    for (var i = 0, len = options.length; i < len; i++) {\n      opt = options[i];\n\n      if (!(opt.disabled || opt.parentNode.tagName === 'OPTGROUP' && opt.parentNode.disabled)) {\n        value.push(opt.value || opt.text);\n      }\n    }\n\n    if (!select.multiple) {\n      return !value.length ? null : value[0];\n    }\n\n    return value;\n  }\n\n  // set data-selected on select element if the value has been programmatically selected\n  // prior to initialization of bootstrap-select\n  // * consider removing or replacing an alternative method *\n  var valHooks = {\n    useDefault: false,\n    _set: $.valHooks.select.set\n  };\n\n  $.valHooks.select.set = function (elem, value) {\n    if (value && !valHooks.useDefault) $(elem).data('selected', true);\n\n    return valHooks._set.apply(this, arguments);\n  };\n\n  var changedArguments = null;\n\n  var EventIsSupported = (function () {\n    try {\n      new Event('change');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  $.fn.triggerNative = function (eventName) {\n    var el = this[0],\n        event;\n\n    if (el.dispatchEvent) { // for modern browsers & IE9+\n      if (EventIsSupported) {\n        // For modern browsers\n        event = new Event(eventName, {\n          bubbles: true\n        });\n      } else {\n        // For IE since it doesn't support Event constructor\n        event = document.createEvent('Event');\n        event.initEvent(eventName, true, false);\n      }\n\n      el.dispatchEvent(event);\n    } else if (el.fireEvent) { // for IE8\n      event = document.createEventObject();\n      event.eventType = eventName;\n      el.fireEvent('on' + eventName, event);\n    } else {\n      // fall back to jQuery.trigger\n      this.trigger(eventName);\n    }\n  };\n  // </editor-fold>\n\n  function stringSearch (li, searchString, method, normalize) {\n    var stringTypes = [\n          'display',\n          'subtext',\n          'tokens'\n        ],\n        searchSuccess = false;\n\n    for (var i = 0; i < stringTypes.length; i++) {\n      var stringType = stringTypes[i],\n          string = li[stringType];\n\n      if (string) {\n        string = string.toString();\n\n        // Strip HTML tags. This isn't perfect, but it's much faster than any other method\n        if (stringType === 'display') {\n          string = string.replace(/<[^>]+>/g, '');\n        }\n\n        if (normalize) string = normalizeToBase(string);\n        string = string.toUpperCase();\n\n        if (method === 'contains') {\n          searchSuccess = string.indexOf(searchString) >= 0;\n        } else {\n          searchSuccess = string.startsWith(searchString);\n        }\n\n        if (searchSuccess) break;\n      }\n    }\n\n    return searchSuccess;\n  }\n\n  function toInteger (value) {\n    return parseInt(value, 10) || 0;\n  }\n\n  // Borrowed from Lodash (_.deburr)\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboMarksExtendedRange = '\\\\u1ab0-\\\\u1aff',\n      rsComboMarksSupplementRange = '\\\\u1dc0-\\\\u1dff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange + rsComboMarksExtendedRange + rsComboMarksSupplementRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsCombo = '[' + rsComboRange + ']';\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  function deburrLetter (key) {\n    return deburredLetters[key];\n  };\n\n  function normalizeToBase (string) {\n    string = string.toString();\n    return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n  }\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function (map) {\n    var escaper = function (match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + Object.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function (string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n\n  var htmlEscape = createEscaper(escapeMap);\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var keyCodeMap = {\n    32: ' ',\n    48: '0',\n    49: '1',\n    50: '2',\n    51: '3',\n    52: '4',\n    53: '5',\n    54: '6',\n    55: '7',\n    56: '8',\n    57: '9',\n    59: ';',\n    65: 'A',\n    66: 'B',\n    67: 'C',\n    68: 'D',\n    69: 'E',\n    70: 'F',\n    71: 'G',\n    72: 'H',\n    73: 'I',\n    74: 'J',\n    75: 'K',\n    76: 'L',\n    77: 'M',\n    78: 'N',\n    79: 'O',\n    80: 'P',\n    81: 'Q',\n    82: 'R',\n    83: 'S',\n    84: 'T',\n    85: 'U',\n    86: 'V',\n    87: 'W',\n    88: 'X',\n    89: 'Y',\n    90: 'Z',\n    96: '0',\n    97: '1',\n    98: '2',\n    99: '3',\n    100: '4',\n    101: '5',\n    102: '6',\n    103: '7',\n    104: '8',\n    105: '9'\n  };\n\n  var keyCodes = {\n    ESCAPE: 27, // KeyboardEvent.which value for Escape (Esc) key\n    ENTER: 13, // KeyboardEvent.which value for Enter key\n    SPACE: 32, // KeyboardEvent.which value for space key\n    TAB: 9, // KeyboardEvent.which value for tab key\n    ARROW_UP: 38, // KeyboardEvent.which value for up arrow key\n    ARROW_DOWN: 40 // KeyboardEvent.which value for down arrow key\n  }\n\n  var version = {\n    success: false,\n    major: '3'\n  };\n\n  try {\n    version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\n    version.major = version.full[0];\n    version.success = true;\n  } catch (err) {\n    // do nothing\n  }\n\n  var selectId = 0;\n\n  var EVENT_KEY = '.bs.select';\n\n  var classNames = {\n    DISABLED: 'disabled',\n    DIVIDER: 'divider',\n    SHOW: 'open',\n    DROPUP: 'dropup',\n    MENU: 'dropdown-menu',\n    MENURIGHT: 'dropdown-menu-right',\n    MENULEFT: 'dropdown-menu-left',\n    // to-do: replace with more advanced template/customization options\n    BUTTONCLASS: 'btn-default',\n    POPOVERHEADER: 'popover-title',\n    ICONBASE: 'glyphicon',\n    TICKICON: 'glyphicon-ok'\n  }\n\n  var Selector = {\n    MENU: '.' + classNames.MENU\n  }\n\n  var elementTemplates = {\n    span: document.createElement('span'),\n    i: document.createElement('i'),\n    subtext: document.createElement('small'),\n    a: document.createElement('a'),\n    li: document.createElement('li'),\n    whitespace: document.createTextNode('\\u00A0'),\n    fragment: document.createDocumentFragment()\n  }\n\n  elementTemplates.a.setAttribute('role', 'option');\n  elementTemplates.subtext.className = 'text-muted';\n\n  elementTemplates.text = elementTemplates.span.cloneNode(false);\n  elementTemplates.text.className = 'text';\n\n  elementTemplates.checkMark = elementTemplates.span.cloneNode(false);\n\n  var REGEXP_ARROW = new RegExp(keyCodes.ARROW_UP + '|' + keyCodes.ARROW_DOWN);\n  var REGEXP_TAB_OR_ESCAPE = new RegExp('^' + keyCodes.TAB + '$|' + keyCodes.ESCAPE);\n\n  var generateOption = {\n    li: function (content, classes, optgroup) {\n      var li = elementTemplates.li.cloneNode(false);\n\n      if (content) {\n        if (content.nodeType === 1 || content.nodeType === 11) {\n          li.appendChild(content);\n        } else {\n          li.innerHTML = content;\n        }\n      }\n\n      if (typeof classes !== 'undefined' && classes !== '') li.className = classes;\n      if (typeof optgroup !== 'undefined' && optgroup !== null) li.classList.add('optgroup-' + optgroup);\n\n      return li;\n    },\n\n    a: function (text, classes, inline) {\n      var a = elementTemplates.a.cloneNode(true);\n\n      if (text) {\n        if (text.nodeType === 11) {\n          a.appendChild(text);\n        } else {\n          a.insertAdjacentHTML('beforeend', text);\n        }\n      }\n\n      if (typeof classes !== 'undefined' && classes !== '') a.className = classes;\n      if (version.major === '4') a.classList.add('dropdown-item');\n      if (inline) a.setAttribute('style', inline);\n\n      return a;\n    },\n\n    text: function (options, useFragment) {\n      var textElement = elementTemplates.text.cloneNode(false),\n          subtextElement,\n          iconElement;\n\n      if (options.content) {\n        textElement.innerHTML = options.content;\n      } else {\n        textElement.textContent = options.text;\n\n        if (options.icon) {\n          var whitespace = elementTemplates.whitespace.cloneNode(false);\n\n          // need to use <i> for icons in the button to prevent a breaking change\n          // note: switch to span in next major release\n          iconElement = (useFragment === true ? elementTemplates.i : elementTemplates.span).cloneNode(false);\n          iconElement.className = options.iconBase + ' ' + options.icon;\n\n          elementTemplates.fragment.appendChild(iconElement);\n          elementTemplates.fragment.appendChild(whitespace);\n        }\n\n        if (options.subtext) {\n          subtextElement = elementTemplates.subtext.cloneNode(false);\n          subtextElement.textContent = options.subtext;\n          textElement.appendChild(subtextElement);\n        }\n      }\n\n      if (useFragment === true) {\n        while (textElement.childNodes.length > 0) {\n          elementTemplates.fragment.appendChild(textElement.childNodes[0]);\n        }\n      } else {\n        elementTemplates.fragment.appendChild(textElement);\n      }\n\n      return elementTemplates.fragment;\n    },\n\n    label: function (options) {\n      var textElement = elementTemplates.text.cloneNode(false),\n          subtextElement,\n          iconElement;\n\n      textElement.innerHTML = options.label;\n\n      if (options.icon) {\n        var whitespace = elementTemplates.whitespace.cloneNode(false);\n\n        iconElement = elementTemplates.span.cloneNode(false);\n        iconElement.className = options.iconBase + ' ' + options.icon;\n\n        elementTemplates.fragment.appendChild(iconElement);\n        elementTemplates.fragment.appendChild(whitespace);\n      }\n\n      if (options.subtext) {\n        subtextElement = elementTemplates.subtext.cloneNode(false);\n        subtextElement.textContent = options.subtext;\n        textElement.appendChild(subtextElement);\n      }\n\n      elementTemplates.fragment.appendChild(textElement);\n\n      return elementTemplates.fragment;\n    }\n  }\n\n  var Selectpicker = function (element, options) {\n    var that = this;\n\n    // bootstrap-select has been initialized - revert valHooks.select.set back to its original function\n    if (!valHooks.useDefault) {\n      $.valHooks.select.set = valHooks._set;\n      valHooks.useDefault = true;\n    }\n\n    this.$element = $(element);\n    this.$newElement = null;\n    this.$button = null;\n    this.$menu = null;\n    this.options = options;\n    this.selectpicker = {\n      main: {},\n      search: {},\n      current: {}, // current changes if a search is in progress\n      view: {},\n      keydown: {\n        keyHistory: '',\n        resetKeyHistory: {\n          start: function () {\n            return setTimeout(function () {\n              that.selectpicker.keydown.keyHistory = '';\n            }, 800);\n          }\n        }\n      }\n    };\n    // If we have no title yet, try to pull it from the html title attribute (jQuery doesnt' pick it up as it's not a\n    // data-attribute)\n    if (this.options.title === null) {\n      this.options.title = this.$element.attr('title');\n    }\n\n    // Format window padding\n    var winPad = this.options.windowPadding;\n    if (typeof winPad === 'number') {\n      this.options.windowPadding = [winPad, winPad, winPad, winPad];\n    }\n\n    // Expose public methods\n    this.val = Selectpicker.prototype.val;\n    this.render = Selectpicker.prototype.render;\n    this.refresh = Selectpicker.prototype.refresh;\n    this.setStyle = Selectpicker.prototype.setStyle;\n    this.selectAll = Selectpicker.prototype.selectAll;\n    this.deselectAll = Selectpicker.prototype.deselectAll;\n    this.destroy = Selectpicker.prototype.destroy;\n    this.remove = Selectpicker.prototype.remove;\n    this.show = Selectpicker.prototype.show;\n    this.hide = Selectpicker.prototype.hide;\n\n    this.init();\n  };\n\n  Selectpicker.VERSION = '1.13.12';\n\n  // part of this is duplicated in i18n/defaults-en_US.js. Make sure to update both.\n  Selectpicker.DEFAULTS = {\n    noneSelectedText: 'Nothing selected',\n    noneResultsText: 'No results matched {0}',\n    countSelectedText: function (numSelected, numTotal) {\n      return (numSelected == 1) ? '{0} item selected' : '{0} items selected';\n    },\n    maxOptionsText: function (numAll, numGroup) {\n      return [\n        (numAll == 1) ? 'Limit reached ({n} item max)' : 'Limit reached ({n} items max)',\n        (numGroup == 1) ? 'Group limit reached ({n} item max)' : 'Group limit reached ({n} items max)'\n      ];\n    },\n    selectAllText: 'Select All',\n    deselectAllText: 'Deselect All',\n    doneButton: false,\n    doneButtonText: 'Close',\n    multipleSeparator: ', ',\n    styleBase: 'btn',\n    style: classNames.BUTTONCLASS,\n    size: 'auto',\n    title: null,\n    selectedTextFormat: 'values',\n    width: false,\n    container: false,\n    hideDisabled: false,\n    showSubtext: false,\n    showIcon: true,\n    showContent: true,\n    dropupAuto: true,\n    header: false,\n    liveSearch: false,\n    liveSearchPlaceholder: null,\n    liveSearchNormalize: false,\n    liveSearchStyle: 'contains',\n    actionsBox: false,\n    iconBase: classNames.ICONBASE,\n    tickIcon: classNames.TICKICON,\n    showTick: false,\n    template: {\n      caret: '<span class=\"caret\"></span>'\n    },\n    maxOptions: false,\n    mobile: false,\n    selectOnTab: false,\n    dropdownAlignRight: false,\n    windowPadding: 0,\n    virtualScroll: 600,\n    display: false,\n    sanitize: true,\n    sanitizeFn: null,\n    whiteList: DefaultWhitelist\n  };\n\n  Selectpicker.prototype = {\n\n    constructor: Selectpicker,\n\n    init: function () {\n      var that = this,\n          id = this.$element.attr('id');\n\n      selectId++;\n      this.selectId = 'bs-select-' + selectId;\n\n      this.$element[0].classList.add('bs-select-hidden');\n\n      this.multiple = this.$element.prop('multiple');\n      this.autofocus = this.$element.prop('autofocus');\n\n      if (this.$element[0].classList.contains('show-tick')) {\n        this.options.showTick = true;\n      }\n\n      this.$newElement = this.createDropdown();\n      this.$element\n        .after(this.$newElement)\n        .prependTo(this.$newElement);\n\n      this.$button = this.$newElement.children('button');\n      this.$menu = this.$newElement.children(Selector.MENU);\n      this.$menuInner = this.$menu.children('.inner');\n      this.$searchbox = this.$menu.find('input');\n\n      this.$element[0].classList.remove('bs-select-hidden');\n\n      if (this.options.dropdownAlignRight === true) this.$menu[0].classList.add(classNames.MENURIGHT);\n\n      if (typeof id !== 'undefined') {\n        this.$button.attr('data-id', id);\n      }\n\n      this.checkDisabled();\n      this.clickListener();\n\n      if (this.options.liveSearch) {\n        this.liveSearchListener();\n        this.focusedParent = this.$searchbox[0];\n      } else {\n        this.focusedParent = this.$menuInner[0];\n      }\n\n      this.setStyle();\n      this.render();\n      this.setWidth();\n      if (this.options.container) {\n        this.selectPosition();\n      } else {\n        this.$element.on('hide' + EVENT_KEY, function () {\n          if (that.isVirtual()) {\n            // empty menu on close\n            var menuInner = that.$menuInner[0],\n                emptyMenu = menuInner.firstChild.cloneNode(false);\n\n            // replace the existing UL with an empty one - this is faster than $.empty() or innerHTML = ''\n            menuInner.replaceChild(emptyMenu, menuInner.firstChild);\n            menuInner.scrollTop = 0;\n          }\n        });\n      }\n      this.$menu.data('this', this);\n      this.$newElement.data('this', this);\n      if (this.options.mobile) this.mobile();\n\n      this.$newElement.on({\n        'hide.bs.dropdown': function (e) {\n          that.$element.trigger('hide' + EVENT_KEY, e);\n        },\n        'hidden.bs.dropdown': function (e) {\n          that.$element.trigger('hidden' + EVENT_KEY, e);\n        },\n        'show.bs.dropdown': function (e) {\n          that.$element.trigger('show' + EVENT_KEY, e);\n        },\n        'shown.bs.dropdown': function (e) {\n          that.$element.trigger('shown' + EVENT_KEY, e);\n        }\n      });\n\n      if (that.$element[0].hasAttribute('required')) {\n        this.$element.on('invalid' + EVENT_KEY, function () {\n          that.$button[0].classList.add('bs-invalid');\n\n          that.$element\n            .on('shown' + EVENT_KEY + '.invalid', function () {\n              that.$element\n                .val(that.$element.val()) // set the value to hide the validation message in Chrome when menu is opened\n                .off('shown' + EVENT_KEY + '.invalid');\n            })\n            .on('rendered' + EVENT_KEY, function () {\n              // if select is no longer invalid, remove the bs-invalid class\n              if (this.validity.valid) that.$button[0].classList.remove('bs-invalid');\n              that.$element.off('rendered' + EVENT_KEY);\n            });\n\n          that.$button.on('blur' + EVENT_KEY, function () {\n            that.$element.trigger('focus').trigger('blur');\n            that.$button.off('blur' + EVENT_KEY);\n          });\n        });\n      }\n\n      setTimeout(function () {\n        that.createLi();\n        that.$element.trigger('loaded' + EVENT_KEY);\n      });\n    },\n\n    createDropdown: function () {\n      // Options\n      // If we are multiple or showTick option is set, then add the show-tick class\n      var showTick = (this.multiple || this.options.showTick) ? ' show-tick' : '',\n          multiselectable = this.multiple ? ' aria-multiselectable=\"true\"' : '',\n          inputGroup = '',\n          autofocus = this.autofocus ? ' autofocus' : '';\n\n      if (version.major < 4 && this.$element.parent().hasClass('input-group')) {\n        inputGroup = ' input-group-btn';\n      }\n\n      // Elements\n      var drop,\n          header = '',\n          searchbox = '',\n          actionsbox = '',\n          donebutton = '';\n\n      if (this.options.header) {\n        header =\n          '<div class=\"' + classNames.POPOVERHEADER + '\">' +\n            '<button type=\"button\" class=\"close\" aria-hidden=\"true\">&times;</button>' +\n              this.options.header +\n          '</div>';\n      }\n\n      if (this.options.liveSearch) {\n        searchbox =\n          '<div class=\"bs-searchbox\">' +\n            '<input type=\"search\" class=\"form-control\" autocomplete=\"off\"' +\n              (\n                this.options.liveSearchPlaceholder === null ? ''\n                :\n                ' placeholder=\"' + htmlEscape(this.options.liveSearchPlaceholder) + '\"'\n              ) +\n              ' role=\"combobox\" aria-label=\"Search\" aria-controls=\"' + this.selectId + '\" aria-autocomplete=\"list\">' +\n          '</div>';\n      }\n\n      if (this.multiple && this.options.actionsBox) {\n        actionsbox =\n          '<div class=\"bs-actionsbox\">' +\n            '<div class=\"btn-group btn-group-sm btn-block\">' +\n              '<button type=\"button\" class=\"actions-btn bs-select-all btn ' + classNames.BUTTONCLASS + '\">' +\n                this.options.selectAllText +\n              '</button>' +\n              '<button type=\"button\" class=\"actions-btn bs-deselect-all btn ' + classNames.BUTTONCLASS + '\">' +\n                this.options.deselectAllText +\n              '</button>' +\n            '</div>' +\n          '</div>';\n      }\n\n      if (this.multiple && this.options.doneButton) {\n        donebutton =\n          '<div class=\"bs-donebutton\">' +\n            '<div class=\"btn-group btn-block\">' +\n              '<button type=\"button\" class=\"btn btn-sm ' + classNames.BUTTONCLASS + '\">' +\n                this.options.doneButtonText +\n              '</button>' +\n            '</div>' +\n          '</div>';\n      }\n\n      drop =\n        '<div class=\"dropdown bootstrap-select' + showTick + inputGroup + '\">' +\n          '<button type=\"button\" class=\"' + this.options.styleBase + ' dropdown-toggle\" ' + (this.options.display === 'static' ? 'data-display=\"static\"' : '') + 'data-toggle=\"dropdown\"' + autofocus + ' role=\"combobox\" aria-owns=\"' + this.selectId + '\" aria-haspopup=\"listbox\" aria-expanded=\"false\">' +\n            '<div class=\"filter-option\">' +\n              '<div class=\"filter-option-inner\">' +\n                '<div class=\"filter-option-inner-inner\"></div>' +\n              '</div> ' +\n            '</div>' +\n            (\n              version.major === '4' ? ''\n              :\n              '<span class=\"bs-caret\">' +\n                this.options.template.caret +\n              '</span>'\n            ) +\n          '</button>' +\n          '<div class=\"' + classNames.MENU + ' ' + (version.major === '4' ? '' : classNames.SHOW) + '\">' +\n            header +\n            searchbox +\n            actionsbox +\n            '<div class=\"inner ' + classNames.SHOW + '\" role=\"listbox\" id=\"' + this.selectId + '\" tabindex=\"-1\" ' + multiselectable + '>' +\n                '<ul class=\"' + classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '') + '\" role=\"presentation\">' +\n                '</ul>' +\n            '</div>' +\n            donebutton +\n          '</div>' +\n        '</div>';\n\n      return $(drop);\n    },\n\n    setPositionData: function () {\n      this.selectpicker.view.canHighlight = [];\n      this.selectpicker.view.size = 0;\n\n      for (var i = 0; i < this.selectpicker.current.data.length; i++) {\n        var li = this.selectpicker.current.data[i],\n            canHighlight = true;\n\n        if (li.type === 'divider') {\n          canHighlight = false;\n          li.height = this.sizeInfo.dividerHeight;\n        } else if (li.type === 'optgroup-label') {\n          canHighlight = false;\n          li.height = this.sizeInfo.dropdownHeaderHeight;\n        } else {\n          li.height = this.sizeInfo.liHeight;\n        }\n\n        if (li.disabled) canHighlight = false;\n\n        this.selectpicker.view.canHighlight.push(canHighlight);\n\n        if (canHighlight) {\n          this.selectpicker.view.size++;\n          li.posinset = this.selectpicker.view.size;\n        }\n\n        li.position = (i === 0 ? 0 : this.selectpicker.current.data[i - 1].position) + li.height;\n      }\n    },\n\n    isVirtual: function () {\n      return (this.options.virtualScroll !== false) && (this.selectpicker.main.elements.length >= this.options.virtualScroll) || this.options.virtualScroll === true;\n    },\n\n    createView: function (isSearching, setSize, refresh) {\n      var that = this,\n          scrollTop = 0,\n          active = [],\n          selected,\n          prevActive;\n\n      this.selectpicker.current = isSearching ? this.selectpicker.search : this.selectpicker.main;\n\n      this.setPositionData();\n\n      if (setSize) {\n        if (refresh) {\n          scrollTop = this.$menuInner[0].scrollTop;\n        } else if (!that.multiple) {\n          var element = that.$element[0],\n              selectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\n\n          if (typeof selectedIndex === 'number' && that.options.size !== false) {\n            var selectedData = that.selectpicker.main.data[selectedIndex],\n                position = selectedData && selectedData.position;\n\n            if (position) {\n              scrollTop = position - ((that.sizeInfo.menuInnerHeight + that.sizeInfo.liHeight) / 2);\n            }\n          }\n        }\n      }\n\n      scroll(scrollTop, true);\n\n      this.$menuInner.off('scroll.createView').on('scroll.createView', function (e, updateValue) {\n        if (!that.noScroll) scroll(this.scrollTop, updateValue);\n        that.noScroll = false;\n      });\n\n      function scroll (scrollTop, init) {\n        var size = that.selectpicker.current.elements.length,\n            chunks = [],\n            chunkSize,\n            chunkCount,\n            firstChunk,\n            lastChunk,\n            currentChunk,\n            prevPositions,\n            positionIsDifferent,\n            previousElements,\n            menuIsDifferent = true,\n            isVirtual = that.isVirtual();\n\n        that.selectpicker.view.scrollTop = scrollTop;\n\n        chunkSize = Math.ceil(that.sizeInfo.menuInnerHeight / that.sizeInfo.liHeight * 1.5); // number of options in a chunk\n        chunkCount = Math.round(size / chunkSize) || 1; // number of chunks\n\n        for (var i = 0; i < chunkCount; i++) {\n          var endOfChunk = (i + 1) * chunkSize;\n\n          if (i === chunkCount - 1) {\n            endOfChunk = size;\n          }\n\n          chunks[i] = [\n            (i) * chunkSize + (!i ? 0 : 1),\n            endOfChunk\n          ];\n\n          if (!size) break;\n\n          if (currentChunk === undefined && scrollTop - 1 <= that.selectpicker.current.data[endOfChunk - 1].position - that.sizeInfo.menuInnerHeight) {\n            currentChunk = i;\n          }\n        }\n\n        if (currentChunk === undefined) currentChunk = 0;\n\n        prevPositions = [that.selectpicker.view.position0, that.selectpicker.view.position1];\n\n        // always display previous, current, and next chunks\n        firstChunk = Math.max(0, currentChunk - 1);\n        lastChunk = Math.min(chunkCount - 1, currentChunk + 1);\n\n        that.selectpicker.view.position0 = isVirtual === false ? 0 : (Math.max(0, chunks[firstChunk][0]) || 0);\n        that.selectpicker.view.position1 = isVirtual === false ? size : (Math.min(size, chunks[lastChunk][1]) || 0);\n\n        positionIsDifferent = prevPositions[0] !== that.selectpicker.view.position0 || prevPositions[1] !== that.selectpicker.view.position1;\n\n        if (that.activeIndex !== undefined) {\n          prevActive = that.selectpicker.main.elements[that.prevActiveIndex];\n          active = that.selectpicker.main.elements[that.activeIndex];\n          selected = that.selectpicker.main.elements[that.selectedIndex];\n\n          if (init) {\n            if (that.activeIndex !== that.selectedIndex) {\n              that.defocusItem(active);\n            }\n            that.activeIndex = undefined;\n          }\n\n          if (that.activeIndex && that.activeIndex !== that.selectedIndex) {\n            that.defocusItem(selected);\n          }\n        }\n\n        if (that.prevActiveIndex !== undefined && that.prevActiveIndex !== that.activeIndex && that.prevActiveIndex !== that.selectedIndex) {\n          that.defocusItem(prevActive);\n        }\n\n        if (init || positionIsDifferent) {\n          previousElements = that.selectpicker.view.visibleElements ? that.selectpicker.view.visibleElements.slice() : [];\n\n          if (isVirtual === false) {\n            that.selectpicker.view.visibleElements = that.selectpicker.current.elements;\n          } else {\n            that.selectpicker.view.visibleElements = that.selectpicker.current.elements.slice(that.selectpicker.view.position0, that.selectpicker.view.position1);\n          }\n\n          that.setOptionStatus();\n\n          // if searching, check to make sure the list has actually been updated before updating DOM\n          // this prevents unnecessary repaints\n          if (isSearching || (isVirtual === false && init)) menuIsDifferent = !isEqual(previousElements, that.selectpicker.view.visibleElements);\n\n          // if virtual scroll is disabled and not searching,\n          // menu should never need to be updated more than once\n          if ((init || isVirtual === true) && menuIsDifferent) {\n            var menuInner = that.$menuInner[0],\n                menuFragment = document.createDocumentFragment(),\n                emptyMenu = menuInner.firstChild.cloneNode(false),\n                marginTop,\n                marginBottom,\n                elements = that.selectpicker.view.visibleElements,\n                toSanitize = [];\n\n            // replace the existing UL with an empty one - this is faster than $.empty()\n            menuInner.replaceChild(emptyMenu, menuInner.firstChild);\n\n            for (var i = 0, visibleElementsLen = elements.length; i < visibleElementsLen; i++) {\n              var element = elements[i],\n                  elText,\n                  elementData;\n\n              if (that.options.sanitize) {\n                elText = element.lastChild;\n\n                if (elText) {\n                  elementData = that.selectpicker.current.data[i + that.selectpicker.view.position0];\n\n                  if (elementData && elementData.content && !elementData.sanitized) {\n                    toSanitize.push(elText);\n                    elementData.sanitized = true;\n                  }\n                }\n              }\n\n              menuFragment.appendChild(element);\n            }\n\n            if (that.options.sanitize && toSanitize.length) {\n              sanitizeHtml(toSanitize, that.options.whiteList, that.options.sanitizeFn);\n            }\n\n            if (isVirtual === true) {\n              marginTop = (that.selectpicker.view.position0 === 0 ? 0 : that.selectpicker.current.data[that.selectpicker.view.position0 - 1].position);\n              marginBottom = (that.selectpicker.view.position1 > size - 1 ? 0 : that.selectpicker.current.data[size - 1].position - that.selectpicker.current.data[that.selectpicker.view.position1 - 1].position);\n\n              menuInner.firstChild.style.marginTop = marginTop + 'px';\n              menuInner.firstChild.style.marginBottom = marginBottom + 'px';\n            } else {\n              menuInner.firstChild.style.marginTop = 0;\n              menuInner.firstChild.style.marginBottom = 0;\n            }\n\n            menuInner.firstChild.appendChild(menuFragment);\n\n            // if an option is encountered that is wider than the current menu width, update the menu width accordingly\n            // switch to ResizeObserver with increased browser support\n            if (isVirtual === true && that.sizeInfo.hasScrollBar) {\n              var menuInnerInnerWidth = menuInner.firstChild.offsetWidth;\n\n              if (init && menuInnerInnerWidth < that.sizeInfo.menuInnerInnerWidth && that.sizeInfo.totalMenuWidth > that.sizeInfo.selectWidth) {\n                menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\n              } else if (menuInnerInnerWidth > that.sizeInfo.menuInnerInnerWidth) {\n                // set to 0 to get actual width of menu\n                that.$menu[0].style.minWidth = 0;\n\n                var actualMenuWidth = menuInner.firstChild.offsetWidth;\n\n                if (actualMenuWidth > that.sizeInfo.menuInnerInnerWidth) {\n                  that.sizeInfo.menuInnerInnerWidth = actualMenuWidth;\n                  menuInner.firstChild.style.minWidth = that.sizeInfo.menuInnerInnerWidth + 'px';\n                }\n\n                // reset to default CSS styling\n                that.$menu[0].style.minWidth = '';\n              }\n            }\n          }\n        }\n\n        that.prevActiveIndex = that.activeIndex;\n\n        if (!that.options.liveSearch) {\n          that.$menuInner.trigger('focus');\n        } else if (isSearching && init) {\n          var index = 0,\n              newActive;\n\n          if (!that.selectpicker.view.canHighlight[index]) {\n            index = 1 + that.selectpicker.view.canHighlight.slice(1).indexOf(true);\n          }\n\n          newActive = that.selectpicker.view.visibleElements[index];\n\n          that.defocusItem(that.selectpicker.view.currentActive);\n\n          that.activeIndex = (that.selectpicker.current.data[index] || {}).index;\n\n          that.focusItem(newActive);\n        }\n      }\n\n      $(window)\n        .off('resize' + EVENT_KEY + '.' + this.selectId + '.createView')\n        .on('resize' + EVENT_KEY + '.' + this.selectId + '.createView', function () {\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\n\n          if (isActive) scroll(that.$menuInner[0].scrollTop);\n        });\n    },\n\n    focusItem: function (li, liData, noStyle) {\n      if (li) {\n        liData = liData || this.selectpicker.main.data[this.activeIndex];\n        var a = li.firstChild;\n\n        if (a) {\n          a.setAttribute('aria-setsize', this.selectpicker.view.size);\n          a.setAttribute('aria-posinset', liData.posinset);\n\n          if (noStyle !== true) {\n            this.focusedParent.setAttribute('aria-activedescendant', a.id);\n            li.classList.add('active');\n            a.classList.add('active');\n          }\n        }\n      }\n    },\n\n    defocusItem: function (li) {\n      if (li) {\n        li.classList.remove('active');\n        if (li.firstChild) li.firstChild.classList.remove('active');\n      }\n    },\n\n    setPlaceholder: function () {\n      var updateIndex = false;\n\n      if (this.options.title && !this.multiple) {\n        if (!this.selectpicker.view.titleOption) this.selectpicker.view.titleOption = document.createElement('option');\n\n        // this option doesn't create a new <li> element, but does add a new option at the start,\n        // so startIndex should increase to prevent having to check every option for the bs-title-option class\n        updateIndex = true;\n\n        var element = this.$element[0],\n            isSelected = false,\n            titleNotAppended = !this.selectpicker.view.titleOption.parentNode;\n\n        if (titleNotAppended) {\n          // Use native JS to prepend option (faster)\n          this.selectpicker.view.titleOption.className = 'bs-title-option';\n          this.selectpicker.view.titleOption.value = '';\n\n          // Check if selected or data-selected attribute is already set on an option. If not, select the titleOption option.\n          // the selected item may have been changed by user or programmatically before the bootstrap select plugin runs,\n          // if so, the select will have the data-selected attribute\n          var $opt = $(element.options[element.selectedIndex]);\n          isSelected = $opt.attr('selected') === undefined && this.$element.data('selected') === undefined;\n        }\n\n        if (titleNotAppended || this.selectpicker.view.titleOption.index !== 0) {\n          element.insertBefore(this.selectpicker.view.titleOption, element.firstChild);\n        }\n\n        // Set selected *after* appending to select,\n        // otherwise the option doesn't get selected in IE\n        // set using selectedIndex, as setting the selected attr to true here doesn't work in IE11\n        if (isSelected) element.selectedIndex = 0;\n      }\n\n      return updateIndex;\n    },\n\n    createLi: function () {\n      var that = this,\n          iconBase = this.options.iconBase,\n          optionSelector = ':not([hidden]):not([data-hidden=\"true\"])',\n          mainElements = [],\n          mainData = [],\n          widestOptionLength = 0,\n          optID = 0,\n          startIndex = this.setPlaceholder() ? 1 : 0; // append the titleOption if necessary and skip the first option in the loop\n\n      if (this.options.hideDisabled) optionSelector += ':not(:disabled)';\n\n      if ((that.options.showTick || that.multiple) && !elementTemplates.checkMark.parentNode) {\n        elementTemplates.checkMark.className = iconBase + ' ' + that.options.tickIcon + ' check-mark';\n        elementTemplates.a.appendChild(elementTemplates.checkMark);\n      }\n\n      var selectOptions = this.$element[0].querySelectorAll('select > *' + optionSelector);\n\n      function addDivider (config) {\n        var previousData = mainData[mainData.length - 1];\n\n        // ensure optgroup doesn't create back-to-back dividers\n        if (\n          previousData &&\n          previousData.type === 'divider' &&\n          (previousData.optID || config.optID)\n        ) {\n          return;\n        }\n\n        config = config || {};\n        config.type = 'divider';\n\n        mainElements.push(\n          generateOption.li(\n            false,\n            classNames.DIVIDER,\n            (config.optID ? config.optID + 'div' : undefined)\n          )\n        );\n\n        mainData.push(config);\n      }\n\n      function addOption (option, config) {\n        config = config || {};\n\n        config.divider = option.getAttribute('data-divider') === 'true';\n\n        if (config.divider) {\n          addDivider({\n            optID: config.optID\n          });\n        } else {\n          var liIndex = mainData.length,\n              cssText = option.style.cssText,\n              inlineStyle = cssText ? htmlEscape(cssText) : '',\n              optionClass = (option.className || '') + (config.optgroupClass || '');\n\n          if (config.optID) optionClass = 'opt ' + optionClass;\n\n          config.text = option.textContent;\n\n          config.content = option.getAttribute('data-content');\n          config.tokens = option.getAttribute('data-tokens');\n          config.subtext = option.getAttribute('data-subtext');\n          config.icon = option.getAttribute('data-icon');\n          config.iconBase = iconBase;\n\n          var textElement = generateOption.text(config);\n          var liElement = generateOption.li(\n            generateOption.a(\n              textElement,\n              optionClass,\n              inlineStyle\n            ),\n            '',\n            config.optID\n          );\n\n          if (liElement.firstChild) {\n            liElement.firstChild.id = that.selectId + '-' + liIndex;\n          }\n\n          mainElements.push(liElement);\n\n          option.liIndex = liIndex;\n\n          config.display = config.content || config.text;\n          config.type = 'option';\n          config.index = liIndex;\n          config.option = option;\n          config.disabled = config.disabled || option.disabled;\n\n          mainData.push(config);\n\n          var combinedLength = 0;\n\n          // count the number of characters in the option - not perfect, but should work in most cases\n          if (config.display) combinedLength += config.display.length;\n          if (config.subtext) combinedLength += config.subtext.length;\n          // if there is an icon, ensure this option's width is checked\n          if (config.icon) combinedLength += 1;\n\n          if (combinedLength > widestOptionLength) {\n            widestOptionLength = combinedLength;\n\n            // guess which option is the widest\n            // use this when calculating menu width\n            // not perfect, but it's fast, and the width will be updating accordingly when scrolling\n            that.selectpicker.view.widestOption = mainElements[mainElements.length - 1];\n          }\n        }\n      }\n\n      function addOptgroup (index, selectOptions) {\n        var optgroup = selectOptions[index],\n            previous = selectOptions[index - 1],\n            next = selectOptions[index + 1],\n            options = optgroup.querySelectorAll('option' + optionSelector);\n\n        if (!options.length) return;\n\n        var config = {\n              label: htmlEscape(optgroup.label),\n              subtext: optgroup.getAttribute('data-subtext'),\n              icon: optgroup.getAttribute('data-icon'),\n              iconBase: iconBase\n            },\n            optgroupClass = ' ' + (optgroup.className || ''),\n            headerIndex,\n            lastIndex;\n\n        optID++;\n\n        if (previous) {\n          addDivider({ optID: optID });\n        }\n\n        var labelElement = generateOption.label(config);\n\n        mainElements.push(\n          generateOption.li(labelElement, 'dropdown-header' + optgroupClass, optID)\n        );\n\n        mainData.push({\n          display: config.label,\n          subtext: config.subtext,\n          type: 'optgroup-label',\n          optID: optID\n        });\n\n        for (var j = 0, len = options.length; j < len; j++) {\n          var option = options[j];\n\n          if (j === 0) {\n            headerIndex = mainData.length - 1;\n            lastIndex = headerIndex + len;\n          }\n\n          addOption(option, {\n            headerIndex: headerIndex,\n            lastIndex: lastIndex,\n            optID: optID,\n            optgroupClass: optgroupClass,\n            disabled: optgroup.disabled\n          });\n        }\n\n        if (next) {\n          addDivider({ optID: optID });\n        }\n      }\n\n      for (var len = selectOptions.length; startIndex < len; startIndex++) {\n        var item = selectOptions[startIndex];\n\n        if (item.tagName !== 'OPTGROUP') {\n          addOption(item, {});\n        } else {\n          addOptgroup(startIndex, selectOptions);\n        }\n      }\n\n      this.selectpicker.main.elements = mainElements;\n      this.selectpicker.main.data = mainData;\n\n      this.selectpicker.current = this.selectpicker.main;\n    },\n\n    findLis: function () {\n      return this.$menuInner.find('.inner > li');\n    },\n\n    render: function () {\n      // ensure titleOption is appended and selected (if necessary) before getting selectedOptions\n      this.setPlaceholder();\n\n      var that = this,\n          element = this.$element[0],\n          selectedOptions = getSelectedOptions(element, this.options.hideDisabled),\n          selectedCount = selectedOptions.length,\n          button = this.$button[0],\n          buttonInner = button.querySelector('.filter-option-inner-inner'),\n          multipleSeparator = document.createTextNode(this.options.multipleSeparator),\n          titleFragment = elementTemplates.fragment.cloneNode(false),\n          showCount,\n          countMax,\n          hasContent = false;\n\n      button.classList.toggle('bs-placeholder', that.multiple ? !selectedCount : !getSelectValues(element, selectedOptions));\n\n      this.tabIndex();\n\n      if (this.options.selectedTextFormat === 'static') {\n        titleFragment = generateOption.text({ text: this.options.title }, true);\n      } else {\n        showCount = this.multiple && this.options.selectedTextFormat.indexOf('count') !== -1 && selectedCount > 1;\n\n        // determine if the number of selected options will be shown (showCount === true)\n        if (showCount) {\n          countMax = this.options.selectedTextFormat.split('>');\n          showCount = (countMax.length > 1 && selectedCount > countMax[1]) || (countMax.length === 1 && selectedCount >= 2);\n        }\n\n        // only loop through all selected options if the count won't be shown\n        if (showCount === false) {\n          for (var selectedIndex = 0; selectedIndex < selectedCount; selectedIndex++) {\n            if (selectedIndex < 50) {\n              var option = selectedOptions[selectedIndex],\n                  titleOptions = {},\n                  thisData = {\n                    content: option.getAttribute('data-content'),\n                    subtext: option.getAttribute('data-subtext'),\n                    icon: option.getAttribute('data-icon')\n                  };\n\n              if (this.multiple && selectedIndex > 0) {\n                titleFragment.appendChild(multipleSeparator.cloneNode(false));\n              }\n\n              if (option.title) {\n                titleOptions.text = option.title;\n              } else if (thisData.content && that.options.showContent) {\n                titleOptions.content = thisData.content.toString();\n                hasContent = true;\n              } else {\n                if (that.options.showIcon) {\n                  titleOptions.icon = thisData.icon;\n                  titleOptions.iconBase = this.options.iconBase;\n                }\n                if (that.options.showSubtext && !that.multiple && thisData.subtext) titleOptions.subtext = ' ' + thisData.subtext;\n                titleOptions.text = option.textContent.trim();\n              }\n\n              titleFragment.appendChild(generateOption.text(titleOptions, true));\n            } else {\n              break;\n            }\n          }\n\n          // add ellipsis\n          if (selectedCount > 49) {\n            titleFragment.appendChild(document.createTextNode('...'));\n          }\n        } else {\n          var optionSelector = ':not([hidden]):not([data-hidden=\"true\"]):not([data-divider=\"true\"])';\n          if (this.options.hideDisabled) optionSelector += ':not(:disabled)';\n\n          // If this is a multiselect, and selectedTextFormat is count, then show 1 of 2 selected, etc.\n          var totalCount = this.$element[0].querySelectorAll('select > option' + optionSelector + ', optgroup' + optionSelector + ' option' + optionSelector).length,\n              tr8nText = (typeof this.options.countSelectedText === 'function') ? this.options.countSelectedText(selectedCount, totalCount) : this.options.countSelectedText;\n\n          titleFragment = generateOption.text({\n            text: tr8nText.replace('{0}', selectedCount.toString()).replace('{1}', totalCount.toString())\n          }, true);\n        }\n      }\n\n      if (this.options.title == undefined) {\n        // use .attr to ensure undefined is returned if title attribute is not set\n        this.options.title = this.$element.attr('title');\n      }\n\n      // If the select doesn't have a title, then use the default, or if nothing is set at all, use noneSelectedText\n      if (!titleFragment.childNodes.length) {\n        titleFragment = generateOption.text({\n          text: typeof this.options.title !== 'undefined' ? this.options.title : this.options.noneSelectedText\n        }, true);\n      }\n\n      // strip all HTML tags and trim the result, then unescape any escaped tags\n      button.title = titleFragment.textContent.replace(/<[^>]*>?/g, '').trim();\n\n      if (this.options.sanitize && hasContent) {\n        sanitizeHtml([titleFragment], that.options.whiteList, that.options.sanitizeFn);\n      }\n\n      buttonInner.innerHTML = '';\n      buttonInner.appendChild(titleFragment);\n\n      if (version.major < 4 && this.$newElement[0].classList.contains('bs3-has-addon')) {\n        var filterExpand = button.querySelector('.filter-expand'),\n            clone = buttonInner.cloneNode(true);\n\n        clone.className = 'filter-expand';\n\n        if (filterExpand) {\n          button.replaceChild(clone, filterExpand);\n        } else {\n          button.appendChild(clone);\n        }\n      }\n\n      this.$element.trigger('rendered' + EVENT_KEY);\n    },\n\n    /**\n     * @param [style]\n     * @param [status]\n     */\n    setStyle: function (newStyle, status) {\n      var button = this.$button[0],\n          newElement = this.$newElement[0],\n          style = this.options.style.trim(),\n          buttonClass;\n\n      if (this.$element.attr('class')) {\n        this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|bs-select-hidden|validate\\[.*\\]/gi, ''));\n      }\n\n      if (version.major < 4) {\n        newElement.classList.add('bs3');\n\n        if (newElement.parentNode.classList.contains('input-group') &&\n            (newElement.previousElementSibling || newElement.nextElementSibling) &&\n            (newElement.previousElementSibling || newElement.nextElementSibling).classList.contains('input-group-addon')\n        ) {\n          newElement.classList.add('bs3-has-addon');\n        }\n      }\n\n      if (newStyle) {\n        buttonClass = newStyle.trim();\n      } else {\n        buttonClass = style;\n      }\n\n      if (status == 'add') {\n        if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\n      } else if (status == 'remove') {\n        if (buttonClass) button.classList.remove.apply(button.classList, buttonClass.split(' '));\n      } else {\n        if (style) button.classList.remove.apply(button.classList, style.split(' '));\n        if (buttonClass) button.classList.add.apply(button.classList, buttonClass.split(' '));\n      }\n    },\n\n    liHeight: function (refresh) {\n      if (!refresh && (this.options.size === false || this.sizeInfo)) return;\n\n      if (!this.sizeInfo) this.sizeInfo = {};\n\n      var newElement = document.createElement('div'),\n          menu = document.createElement('div'),\n          menuInner = document.createElement('div'),\n          menuInnerInner = document.createElement('ul'),\n          divider = document.createElement('li'),\n          dropdownHeader = document.createElement('li'),\n          li = document.createElement('li'),\n          a = document.createElement('a'),\n          text = document.createElement('span'),\n          header = this.options.header && this.$menu.find('.' + classNames.POPOVERHEADER).length > 0 ? this.$menu.find('.' + classNames.POPOVERHEADER)[0].cloneNode(true) : null,\n          search = this.options.liveSearch ? document.createElement('div') : null,\n          actions = this.options.actionsBox && this.multiple && this.$menu.find('.bs-actionsbox').length > 0 ? this.$menu.find('.bs-actionsbox')[0].cloneNode(true) : null,\n          doneButton = this.options.doneButton && this.multiple && this.$menu.find('.bs-donebutton').length > 0 ? this.$menu.find('.bs-donebutton')[0].cloneNode(true) : null,\n          firstOption = this.$element.find('option')[0];\n\n      this.sizeInfo.selectWidth = this.$newElement[0].offsetWidth;\n\n      text.className = 'text';\n      a.className = 'dropdown-item ' + (firstOption ? firstOption.className : '');\n      newElement.className = this.$menu[0].parentNode.className + ' ' + classNames.SHOW;\n      newElement.style.width = 0; // ensure button width doesn't affect natural width of menu when calculating\n      if (this.options.width === 'auto') menu.style.minWidth = 0;\n      menu.className = classNames.MENU + ' ' + classNames.SHOW;\n      menuInner.className = 'inner ' + classNames.SHOW;\n      menuInnerInner.className = classNames.MENU + ' inner ' + (version.major === '4' ? classNames.SHOW : '');\n      divider.className = classNames.DIVIDER;\n      dropdownHeader.className = 'dropdown-header';\n\n      text.appendChild(document.createTextNode('\\u200b'));\n      a.appendChild(text);\n      li.appendChild(a);\n      dropdownHeader.appendChild(text.cloneNode(true));\n\n      if (this.selectpicker.view.widestOption) {\n        menuInnerInner.appendChild(this.selectpicker.view.widestOption.cloneNode(true));\n      }\n\n      menuInnerInner.appendChild(li);\n      menuInnerInner.appendChild(divider);\n      menuInnerInner.appendChild(dropdownHeader);\n      if (header) menu.appendChild(header);\n      if (search) {\n        var input = document.createElement('input');\n        search.className = 'bs-searchbox';\n        input.className = 'form-control';\n        search.appendChild(input);\n        menu.appendChild(search);\n      }\n      if (actions) menu.appendChild(actions);\n      menuInner.appendChild(menuInnerInner);\n      menu.appendChild(menuInner);\n      if (doneButton) menu.appendChild(doneButton);\n      newElement.appendChild(menu);\n\n      document.body.appendChild(newElement);\n\n      var liHeight = li.offsetHeight,\n          dropdownHeaderHeight = dropdownHeader ? dropdownHeader.offsetHeight : 0,\n          headerHeight = header ? header.offsetHeight : 0,\n          searchHeight = search ? search.offsetHeight : 0,\n          actionsHeight = actions ? actions.offsetHeight : 0,\n          doneButtonHeight = doneButton ? doneButton.offsetHeight : 0,\n          dividerHeight = $(divider).outerHeight(true),\n          // fall back to jQuery if getComputedStyle is not supported\n          menuStyle = window.getComputedStyle ? window.getComputedStyle(menu) : false,\n          menuWidth = menu.offsetWidth,\n          $menu = menuStyle ? null : $(menu),\n          menuPadding = {\n            vert: toInteger(menuStyle ? menuStyle.paddingTop : $menu.css('paddingTop')) +\n                  toInteger(menuStyle ? menuStyle.paddingBottom : $menu.css('paddingBottom')) +\n                  toInteger(menuStyle ? menuStyle.borderTopWidth : $menu.css('borderTopWidth')) +\n                  toInteger(menuStyle ? menuStyle.borderBottomWidth : $menu.css('borderBottomWidth')),\n            horiz: toInteger(menuStyle ? menuStyle.paddingLeft : $menu.css('paddingLeft')) +\n                  toInteger(menuStyle ? menuStyle.paddingRight : $menu.css('paddingRight')) +\n                  toInteger(menuStyle ? menuStyle.borderLeftWidth : $menu.css('borderLeftWidth')) +\n                  toInteger(menuStyle ? menuStyle.borderRightWidth : $menu.css('borderRightWidth'))\n          },\n          menuExtras = {\n            vert: menuPadding.vert +\n                  toInteger(menuStyle ? menuStyle.marginTop : $menu.css('marginTop')) +\n                  toInteger(menuStyle ? menuStyle.marginBottom : $menu.css('marginBottom')) + 2,\n            horiz: menuPadding.horiz +\n                  toInteger(menuStyle ? menuStyle.marginLeft : $menu.css('marginLeft')) +\n                  toInteger(menuStyle ? menuStyle.marginRight : $menu.css('marginRight')) + 2\n          },\n          scrollBarWidth;\n\n      menuInner.style.overflowY = 'scroll';\n\n      scrollBarWidth = menu.offsetWidth - menuWidth;\n\n      document.body.removeChild(newElement);\n\n      this.sizeInfo.liHeight = liHeight;\n      this.sizeInfo.dropdownHeaderHeight = dropdownHeaderHeight;\n      this.sizeInfo.headerHeight = headerHeight;\n      this.sizeInfo.searchHeight = searchHeight;\n      this.sizeInfo.actionsHeight = actionsHeight;\n      this.sizeInfo.doneButtonHeight = doneButtonHeight;\n      this.sizeInfo.dividerHeight = dividerHeight;\n      this.sizeInfo.menuPadding = menuPadding;\n      this.sizeInfo.menuExtras = menuExtras;\n      this.sizeInfo.menuWidth = menuWidth;\n      this.sizeInfo.menuInnerInnerWidth = menuWidth - menuPadding.horiz;\n      this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth;\n      this.sizeInfo.scrollBarWidth = scrollBarWidth;\n      this.sizeInfo.selectHeight = this.$newElement[0].offsetHeight;\n\n      this.setPositionData();\n    },\n\n    getSelectPosition: function () {\n      var that = this,\n          $window = $(window),\n          pos = that.$newElement.offset(),\n          $container = $(that.options.container),\n          containerPos;\n\n      if (that.options.container && $container.length && !$container.is('body')) {\n        containerPos = $container.offset();\n        containerPos.top += parseInt($container.css('borderTopWidth'));\n        containerPos.left += parseInt($container.css('borderLeftWidth'));\n      } else {\n        containerPos = { top: 0, left: 0 };\n      }\n\n      var winPad = that.options.windowPadding;\n\n      this.sizeInfo.selectOffsetTop = pos.top - containerPos.top - $window.scrollTop();\n      this.sizeInfo.selectOffsetBot = $window.height() - this.sizeInfo.selectOffsetTop - this.sizeInfo.selectHeight - containerPos.top - winPad[2];\n      this.sizeInfo.selectOffsetLeft = pos.left - containerPos.left - $window.scrollLeft();\n      this.sizeInfo.selectOffsetRight = $window.width() - this.sizeInfo.selectOffsetLeft - this.sizeInfo.selectWidth - containerPos.left - winPad[1];\n      this.sizeInfo.selectOffsetTop -= winPad[0];\n      this.sizeInfo.selectOffsetLeft -= winPad[3];\n    },\n\n    setMenuSize: function (isAuto) {\n      this.getSelectPosition();\n\n      var selectWidth = this.sizeInfo.selectWidth,\n          liHeight = this.sizeInfo.liHeight,\n          headerHeight = this.sizeInfo.headerHeight,\n          searchHeight = this.sizeInfo.searchHeight,\n          actionsHeight = this.sizeInfo.actionsHeight,\n          doneButtonHeight = this.sizeInfo.doneButtonHeight,\n          divHeight = this.sizeInfo.dividerHeight,\n          menuPadding = this.sizeInfo.menuPadding,\n          menuInnerHeight,\n          menuHeight,\n          divLength = 0,\n          minHeight,\n          _minHeight,\n          maxHeight,\n          menuInnerMinHeight,\n          estimate;\n\n      if (this.options.dropupAuto) {\n        // Get the estimated height of the menu without scrollbars.\n        // This is useful for smaller menus, where there might be plenty of room\n        // below the button without setting dropup, but we can't know\n        // the exact height of the menu until createView is called later\n        estimate = liHeight * this.selectpicker.current.elements.length + menuPadding.vert;\n        this.$newElement.toggleClass(classNames.DROPUP, this.sizeInfo.selectOffsetTop - this.sizeInfo.selectOffsetBot > this.sizeInfo.menuExtras.vert && estimate + this.sizeInfo.menuExtras.vert + 50 > this.sizeInfo.selectOffsetBot);\n      }\n\n      if (this.options.size === 'auto') {\n        _minHeight = this.selectpicker.current.elements.length > 3 ? this.sizeInfo.liHeight * 3 + this.sizeInfo.menuExtras.vert - 2 : 0;\n        menuHeight = this.sizeInfo.selectOffsetBot - this.sizeInfo.menuExtras.vert;\n        minHeight = _minHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\n        menuInnerMinHeight = Math.max(_minHeight - menuPadding.vert, 0);\n\n        if (this.$newElement.hasClass(classNames.DROPUP)) {\n          menuHeight = this.sizeInfo.selectOffsetTop - this.sizeInfo.menuExtras.vert;\n        }\n\n        maxHeight = menuHeight;\n        menuInnerHeight = menuHeight - headerHeight - searchHeight - actionsHeight - doneButtonHeight - menuPadding.vert;\n      } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\n        for (var i = 0; i < this.options.size; i++) {\n          if (this.selectpicker.current.data[i].type === 'divider') divLength++;\n        }\n\n        menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding.vert;\n        menuInnerHeight = menuHeight - menuPadding.vert;\n        maxHeight = menuHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\n        minHeight = menuInnerMinHeight = '';\n      }\n\n      this.$menu.css({\n        'max-height': maxHeight + 'px',\n        'overflow': 'hidden',\n        'min-height': minHeight + 'px'\n      });\n\n      this.$menuInner.css({\n        'max-height': menuInnerHeight + 'px',\n        'overflow-y': 'auto',\n        'min-height': menuInnerMinHeight + 'px'\n      });\n\n      // ensure menuInnerHeight is always a positive number to prevent issues calculating chunkSize in createView\n      this.sizeInfo.menuInnerHeight = Math.max(menuInnerHeight, 1);\n\n      if (this.selectpicker.current.data.length && this.selectpicker.current.data[this.selectpicker.current.data.length - 1].position > this.sizeInfo.menuInnerHeight) {\n        this.sizeInfo.hasScrollBar = true;\n        this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth + this.sizeInfo.scrollBarWidth;\n      }\n\n      if (this.options.dropdownAlignRight === 'auto') {\n        this.$menu.toggleClass(classNames.MENURIGHT, this.sizeInfo.selectOffsetLeft > this.sizeInfo.selectOffsetRight && this.sizeInfo.selectOffsetRight < (this.sizeInfo.totalMenuWidth - selectWidth));\n      }\n\n      if (this.dropdown && this.dropdown._popper) this.dropdown._popper.update();\n    },\n\n    setSize: function (refresh) {\n      this.liHeight(refresh);\n\n      if (this.options.header) this.$menu.css('padding-top', 0);\n      if (this.options.size === false) return;\n\n      var that = this,\n          $window = $(window);\n\n      this.setMenuSize();\n\n      if (this.options.liveSearch) {\n        this.$searchbox\n          .off('input.setMenuSize propertychange.setMenuSize')\n          .on('input.setMenuSize propertychange.setMenuSize', function () {\n            return that.setMenuSize();\n          });\n      }\n\n      if (this.options.size === 'auto') {\n        $window\n          .off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize')\n          .on('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize', function () {\n            return that.setMenuSize();\n          });\n      } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\n        $window.off('resize' + EVENT_KEY + '.' + this.selectId + '.setMenuSize' + ' scroll' + EVENT_KEY + '.' + this.selectId + '.setMenuSize');\n      }\n\n      that.createView(false, true, refresh);\n    },\n\n    setWidth: function () {\n      var that = this;\n\n      if (this.options.width === 'auto') {\n        requestAnimationFrame(function () {\n          that.$menu.css('min-width', '0');\n\n          that.$element.on('loaded' + EVENT_KEY, function () {\n            that.liHeight();\n            that.setMenuSize();\n\n            // Get correct width if element is hidden\n            var $selectClone = that.$newElement.clone().appendTo('body'),\n                btnWidth = $selectClone.css('width', 'auto').children('button').outerWidth();\n\n            $selectClone.remove();\n\n            // Set width to whatever's larger, button title or longest option\n            that.sizeInfo.selectWidth = Math.max(that.sizeInfo.totalMenuWidth, btnWidth);\n            that.$newElement.css('width', that.sizeInfo.selectWidth + 'px');\n          });\n        });\n      } else if (this.options.width === 'fit') {\n        // Remove inline min-width so width can be changed from 'auto'\n        this.$menu.css('min-width', '');\n        this.$newElement.css('width', '').addClass('fit-width');\n      } else if (this.options.width) {\n        // Remove inline min-width so width can be changed from 'auto'\n        this.$menu.css('min-width', '');\n        this.$newElement.css('width', this.options.width);\n      } else {\n        // Remove inline min-width/width so width can be changed\n        this.$menu.css('min-width', '');\n        this.$newElement.css('width', '');\n      }\n      // Remove fit-width class if width is changed programmatically\n      if (this.$newElement.hasClass('fit-width') && this.options.width !== 'fit') {\n        this.$newElement[0].classList.remove('fit-width');\n      }\n    },\n\n    selectPosition: function () {\n      this.$bsContainer = $('<div class=\"bs-container\" />');\n\n      var that = this,\n          $container = $(this.options.container),\n          pos,\n          containerPos,\n          actualHeight,\n          getPlacement = function ($element) {\n            var containerPosition = {},\n                // fall back to dropdown's default display setting if display is not manually set\n                display = that.options.display || (\n                  // Bootstrap 3 doesn't have $.fn.dropdown.Constructor.Default\n                  $.fn.dropdown.Constructor.Default ? $.fn.dropdown.Constructor.Default.display\n                  : false\n                );\n\n            that.$bsContainer.addClass($element.attr('class').replace(/form-control|fit-width/gi, '')).toggleClass(classNames.DROPUP, $element.hasClass(classNames.DROPUP));\n            pos = $element.offset();\n\n            if (!$container.is('body')) {\n              containerPos = $container.offset();\n              containerPos.top += parseInt($container.css('borderTopWidth')) - $container.scrollTop();\n              containerPos.left += parseInt($container.css('borderLeftWidth')) - $container.scrollLeft();\n            } else {\n              containerPos = { top: 0, left: 0 };\n            }\n\n            actualHeight = $element.hasClass(classNames.DROPUP) ? 0 : $element[0].offsetHeight;\n\n            // Bootstrap 4+ uses Popper for menu positioning\n            if (version.major < 4 || display === 'static') {\n              containerPosition.top = pos.top - containerPos.top + actualHeight;\n              containerPosition.left = pos.left - containerPos.left;\n            }\n\n            containerPosition.width = $element[0].offsetWidth;\n\n            that.$bsContainer.css(containerPosition);\n          };\n\n      this.$button.on('click.bs.dropdown.data-api', function () {\n        if (that.isDisabled()) {\n          return;\n        }\n\n        getPlacement(that.$newElement);\n\n        that.$bsContainer\n          .appendTo(that.options.container)\n          .toggleClass(classNames.SHOW, !that.$button.hasClass(classNames.SHOW))\n          .append(that.$menu);\n      });\n\n      $(window)\n        .off('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId)\n        .on('resize' + EVENT_KEY + '.' + this.selectId + ' scroll' + EVENT_KEY + '.' + this.selectId, function () {\n          var isActive = that.$newElement.hasClass(classNames.SHOW);\n\n          if (isActive) getPlacement(that.$newElement);\n        });\n\n      this.$element.on('hide' + EVENT_KEY, function () {\n        that.$menu.data('height', that.$menu.height());\n        that.$bsContainer.detach();\n      });\n    },\n\n    setOptionStatus: function (selectedOnly) {\n      var that = this;\n\n      that.noScroll = false;\n\n      if (that.selectpicker.view.visibleElements && that.selectpicker.view.visibleElements.length) {\n        for (var i = 0; i < that.selectpicker.view.visibleElements.length; i++) {\n          var liData = that.selectpicker.current.data[i + that.selectpicker.view.position0],\n              option = liData.option;\n\n          if (option) {\n            if (selectedOnly !== true) {\n              that.setDisabled(\n                liData.index,\n                liData.disabled\n              );\n            }\n\n            that.setSelected(\n              liData.index,\n              option.selected\n            );\n          }\n        }\n      }\n    },\n\n    /**\n     * @param {number} index - the index of the option that is being changed\n     * @param {boolean} selected - true if the option is being selected, false if being deselected\n     */\n    setSelected: function (index, selected) {\n      var li = this.selectpicker.main.elements[index],\n          liData = this.selectpicker.main.data[index],\n          activeIndexIsSet = this.activeIndex !== undefined,\n          thisIsActive = this.activeIndex === index,\n          prevActive,\n          a,\n          // if current option is already active\n          // OR\n          // if the current option is being selected, it's NOT multiple, and\n          // activeIndex is undefined:\n          //  - when the menu is first being opened, OR\n          //  - after a search has been performed, OR\n          //  - when retainActive is false when selecting a new option (i.e. index of the newly selected option is not the same as the current activeIndex)\n          keepActive = thisIsActive || (selected && !this.multiple && !activeIndexIsSet);\n\n      liData.selected = selected;\n\n      a = li.firstChild;\n\n      if (selected) {\n        this.selectedIndex = index;\n      }\n\n      li.classList.toggle('selected', selected);\n\n      if (keepActive) {\n        this.focusItem(li, liData);\n        this.selectpicker.view.currentActive = li;\n        this.activeIndex = index;\n      } else {\n        this.defocusItem(li);\n      }\n\n      if (a) {\n        a.classList.toggle('selected', selected);\n\n        if (selected) {\n          a.setAttribute('aria-selected', true);\n        } else {\n          if (this.multiple) {\n            a.setAttribute('aria-selected', false);\n          } else {\n            a.removeAttribute('aria-selected');\n          }\n        }\n      }\n\n      if (!keepActive && !activeIndexIsSet && selected && this.prevActiveIndex !== undefined) {\n        prevActive = this.selectpicker.main.elements[this.prevActiveIndex];\n\n        this.defocusItem(prevActive);\n      }\n    },\n\n    /**\n     * @param {number} index - the index of the option that is being disabled\n     * @param {boolean} disabled - true if the option is being disabled, false if being enabled\n     */\n    setDisabled: function (index, disabled) {\n      var li = this.selectpicker.main.elements[index],\n          a;\n\n      this.selectpicker.main.data[index].disabled = disabled;\n\n      a = li.firstChild;\n\n      li.classList.toggle(classNames.DISABLED, disabled);\n\n      if (a) {\n        if (version.major === '4') a.classList.toggle(classNames.DISABLED, disabled);\n\n        if (disabled) {\n          a.setAttribute('aria-disabled', disabled);\n          a.setAttribute('tabindex', -1);\n        } else {\n          a.removeAttribute('aria-disabled');\n          a.setAttribute('tabindex', 0);\n        }\n      }\n    },\n\n    isDisabled: function () {\n      return this.$element[0].disabled;\n    },\n\n    checkDisabled: function () {\n      if (this.isDisabled()) {\n        this.$newElement[0].classList.add(classNames.DISABLED);\n        this.$button.addClass(classNames.DISABLED).attr('tabindex', -1).attr('aria-disabled', true);\n      } else {\n        if (this.$button[0].classList.contains(classNames.DISABLED)) {\n          this.$newElement[0].classList.remove(classNames.DISABLED);\n          this.$button.removeClass(classNames.DISABLED).attr('aria-disabled', false);\n        }\n\n        if (this.$button.attr('tabindex') == -1 && !this.$element.data('tabindex')) {\n          this.$button.removeAttr('tabindex');\n        }\n      }\n    },\n\n    tabIndex: function () {\n      if (this.$element.data('tabindex') !== this.$element.attr('tabindex') &&\n        (this.$element.attr('tabindex') !== -98 && this.$element.attr('tabindex') !== '-98')) {\n        this.$element.data('tabindex', this.$element.attr('tabindex'));\n        this.$button.attr('tabindex', this.$element.data('tabindex'));\n      }\n\n      this.$element.attr('tabindex', -98);\n    },\n\n    clickListener: function () {\n      var that = this,\n          $document = $(document);\n\n      $document.data('spaceSelect', false);\n\n      this.$button.on('keyup', function (e) {\n        if (/(32)/.test(e.keyCode.toString(10)) && $document.data('spaceSelect')) {\n          e.preventDefault();\n          $document.data('spaceSelect', false);\n        }\n      });\n\n      this.$newElement.on('show.bs.dropdown', function () {\n        if (version.major > 3 && !that.dropdown) {\n          that.dropdown = that.$button.data('bs.dropdown');\n          that.dropdown._menu = that.$menu[0];\n        }\n      });\n\n      this.$button.on('click.bs.dropdown.data-api', function () {\n        if (!that.$newElement.hasClass(classNames.SHOW)) {\n          that.setSize();\n        }\n      });\n\n      function setFocus () {\n        if (that.options.liveSearch) {\n          that.$searchbox.trigger('focus');\n        } else {\n          that.$menuInner.trigger('focus');\n        }\n      }\n\n      function checkPopperExists () {\n        if (that.dropdown && that.dropdown._popper && that.dropdown._popper.state.isCreated) {\n          setFocus();\n        } else {\n          requestAnimationFrame(checkPopperExists);\n        }\n      }\n\n      this.$element.on('shown' + EVENT_KEY, function () {\n        if (that.$menuInner[0].scrollTop !== that.selectpicker.view.scrollTop) {\n          that.$menuInner[0].scrollTop = that.selectpicker.view.scrollTop;\n        }\n\n        if (version.major > 3) {\n          requestAnimationFrame(checkPopperExists);\n        } else {\n          setFocus();\n        }\n      });\n\n      // ensure posinset and setsize are correct before selecting an option via a click\n      this.$menuInner.on('mouseenter', 'li a', function (e) {\n        var hoverLi = this.parentElement,\n            position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\n            index = Array.prototype.indexOf.call(hoverLi.parentElement.children, hoverLi),\n            hoverData = that.selectpicker.current.data[index + position0];\n\n        that.focusItem(hoverLi, hoverData, true);\n      });\n\n      this.$menuInner.on('click', 'li a', function (e, retainActive) {\n        var $this = $(this),\n            element = that.$element[0],\n            position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\n            clickedData = that.selectpicker.current.data[$this.parent().index() + position0],\n            clickedIndex = clickedData.index,\n            prevValue = getSelectValues(element),\n            prevIndex = element.selectedIndex,\n            prevOption = element.options[prevIndex],\n            triggerChange = true;\n\n        // Don't close on multi choice menu\n        if (that.multiple && that.options.maxOptions !== 1) {\n          e.stopPropagation();\n        }\n\n        e.preventDefault();\n\n        // Don't run if the select is disabled\n        if (!that.isDisabled() && !$this.parent().hasClass(classNames.DISABLED)) {\n          var option = clickedData.option,\n              $option = $(option),\n              state = option.selected,\n              $optgroup = $option.parent('optgroup'),\n              $optgroupOptions = $optgroup.find('option'),\n              maxOptions = that.options.maxOptions,\n              maxOptionsGrp = $optgroup.data('maxOptions') || false;\n\n          if (clickedIndex === that.activeIndex) retainActive = true;\n\n          if (!retainActive) {\n            that.prevActiveIndex = that.activeIndex;\n            that.activeIndex = undefined;\n          }\n\n          if (!that.multiple) { // Deselect all others if not multi select box\n            if (prevOption) prevOption.selected = false;\n            option.selected = true;\n            that.setSelected(clickedIndex, true);\n          } else { // Toggle the one we have chosen if we are multi select.\n            option.selected = !state;\n\n            that.setSelected(clickedIndex, !state);\n            $this.trigger('blur');\n\n            if (maxOptions !== false || maxOptionsGrp !== false) {\n              var maxReached = maxOptions < getSelectedOptions(element).length,\n                  maxReachedGrp = maxOptionsGrp < $optgroup.find('option:selected').length;\n\n              if ((maxOptions && maxReached) || (maxOptionsGrp && maxReachedGrp)) {\n                if (maxOptions && maxOptions == 1) {\n                  element.selectedIndex = -1;\n                  option.selected = true;\n                  that.setOptionStatus(true);\n                } else if (maxOptionsGrp && maxOptionsGrp == 1) {\n                  for (var i = 0; i < $optgroupOptions.length; i++) {\n                    var _option = $optgroupOptions[i];\n                    _option.selected = false;\n                    that.setSelected(_option.liIndex, false);\n                  }\n\n                  option.selected = true;\n                  that.setSelected(clickedIndex, true);\n                } else {\n                  var maxOptionsText = typeof that.options.maxOptionsText === 'string' ? [that.options.maxOptionsText, that.options.maxOptionsText] : that.options.maxOptionsText,\n                      maxOptionsArr = typeof maxOptionsText === 'function' ? maxOptionsText(maxOptions, maxOptionsGrp) : maxOptionsText,\n                      maxTxt = maxOptionsArr[0].replace('{n}', maxOptions),\n                      maxTxtGrp = maxOptionsArr[1].replace('{n}', maxOptionsGrp),\n                      $notify = $('<div class=\"notify\"></div>');\n                  // If {var} is set in array, replace it\n                  /** @deprecated */\n                  if (maxOptionsArr[2]) {\n                    maxTxt = maxTxt.replace('{var}', maxOptionsArr[2][maxOptions > 1 ? 0 : 1]);\n                    maxTxtGrp = maxTxtGrp.replace('{var}', maxOptionsArr[2][maxOptionsGrp > 1 ? 0 : 1]);\n                  }\n\n                  option.selected = false;\n\n                  that.$menu.append($notify);\n\n                  if (maxOptions && maxReached) {\n                    $notify.append($('<div>' + maxTxt + '</div>'));\n                    triggerChange = false;\n                    that.$element.trigger('maxReached' + EVENT_KEY);\n                  }\n\n                  if (maxOptionsGrp && maxReachedGrp) {\n                    $notify.append($('<div>' + maxTxtGrp + '</div>'));\n                    triggerChange = false;\n                    that.$element.trigger('maxReachedGrp' + EVENT_KEY);\n                  }\n\n                  setTimeout(function () {\n                    that.setSelected(clickedIndex, false);\n                  }, 10);\n\n                  $notify[0].classList.add('fadeOut');\n\n                  setTimeout(function () {\n                    $notify.remove();\n                  }, 1050);\n                }\n              }\n            }\n          }\n\n          if (!that.multiple || (that.multiple && that.options.maxOptions === 1)) {\n            that.$button.trigger('focus');\n          } else if (that.options.liveSearch) {\n            that.$searchbox.trigger('focus');\n          }\n\n          // Trigger select 'change'\n          if (triggerChange) {\n            if (that.multiple || prevIndex !== element.selectedIndex) {\n              // $option.prop('selected') is current option state (selected/unselected). prevValue is the value of the select prior to being changed.\n              changedArguments = [option.index, $option.prop('selected'), prevValue];\n              that.$element\n                .triggerNative('change');\n            }\n          }\n        }\n      });\n\n      this.$menu.on('click', 'li.' + classNames.DISABLED + ' a, .' + classNames.POPOVERHEADER + ', .' + classNames.POPOVERHEADER + ' :not(.close)', function (e) {\n        if (e.currentTarget == this) {\n          e.preventDefault();\n          e.stopPropagation();\n          if (that.options.liveSearch && !$(e.target).hasClass('close')) {\n            that.$searchbox.trigger('focus');\n          } else {\n            that.$button.trigger('focus');\n          }\n        }\n      });\n\n      this.$menuInner.on('click', '.divider, .dropdown-header', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (that.options.liveSearch) {\n          that.$searchbox.trigger('focus');\n        } else {\n          that.$button.trigger('focus');\n        }\n      });\n\n      this.$menu.on('click', '.' + classNames.POPOVERHEADER + ' .close', function () {\n        that.$button.trigger('click');\n      });\n\n      this.$searchbox.on('click', function (e) {\n        e.stopPropagation();\n      });\n\n      this.$menu.on('click', '.actions-btn', function (e) {\n        if (that.options.liveSearch) {\n          that.$searchbox.trigger('focus');\n        } else {\n          that.$button.trigger('focus');\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        if ($(this).hasClass('bs-select-all')) {\n          that.selectAll();\n        } else {\n          that.deselectAll();\n        }\n      });\n\n      this.$element\n        .on('change' + EVENT_KEY, function () {\n          that.render();\n          that.$element.trigger('changed' + EVENT_KEY, changedArguments);\n          changedArguments = null;\n        })\n        .on('focus' + EVENT_KEY, function () {\n          if (!that.options.mobile) that.$button.trigger('focus');\n        });\n    },\n\n    liveSearchListener: function () {\n      var that = this,\n          noResults = document.createElement('li');\n\n      this.$button.on('click.bs.dropdown.data-api', function () {\n        if (!!that.$searchbox.val()) {\n          that.$searchbox.val('');\n        }\n      });\n\n      this.$searchbox.on('click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api', function (e) {\n        e.stopPropagation();\n      });\n\n      this.$searchbox.on('input propertychange', function () {\n        var searchValue = that.$searchbox.val();\n\n        that.selectpicker.search.elements = [];\n        that.selectpicker.search.data = [];\n\n        if (searchValue) {\n          var i,\n              searchMatch = [],\n              q = searchValue.toUpperCase(),\n              cache = {},\n              cacheArr = [],\n              searchStyle = that._searchStyle(),\n              normalizeSearch = that.options.liveSearchNormalize;\n\n          if (normalizeSearch) q = normalizeToBase(q);\n\n          that._$lisSelected = that.$menuInner.find('.selected');\n\n          for (var i = 0; i < that.selectpicker.main.data.length; i++) {\n            var li = that.selectpicker.main.data[i];\n\n            if (!cache[i]) {\n              cache[i] = stringSearch(li, q, searchStyle, normalizeSearch);\n            }\n\n            if (cache[i] && li.headerIndex !== undefined && cacheArr.indexOf(li.headerIndex) === -1) {\n              if (li.headerIndex > 0) {\n                cache[li.headerIndex - 1] = true;\n                cacheArr.push(li.headerIndex - 1);\n              }\n\n              cache[li.headerIndex] = true;\n              cacheArr.push(li.headerIndex);\n\n              cache[li.lastIndex + 1] = true;\n            }\n\n            if (cache[i] && li.type !== 'optgroup-label') cacheArr.push(i);\n          }\n\n          for (var i = 0, cacheLen = cacheArr.length; i < cacheLen; i++) {\n            var index = cacheArr[i],\n                prevIndex = cacheArr[i - 1],\n                li = that.selectpicker.main.data[index],\n                liPrev = that.selectpicker.main.data[prevIndex];\n\n            if (li.type !== 'divider' || (li.type === 'divider' && liPrev && liPrev.type !== 'divider' && cacheLen - 1 !== i)) {\n              that.selectpicker.search.data.push(li);\n              searchMatch.push(that.selectpicker.main.elements[index]);\n            }\n          }\n\n          that.activeIndex = undefined;\n          that.noScroll = true;\n          that.$menuInner.scrollTop(0);\n          that.selectpicker.search.elements = searchMatch;\n          that.createView(true);\n\n          if (!searchMatch.length) {\n            noResults.className = 'no-results';\n            noResults.innerHTML = that.options.noneResultsText.replace('{0}', '\"' + htmlEscape(searchValue) + '\"');\n            that.$menuInner[0].firstChild.appendChild(noResults);\n          }\n        } else {\n          that.$menuInner.scrollTop(0);\n          that.createView(false);\n        }\n      });\n    },\n\n    _searchStyle: function () {\n      return this.options.liveSearchStyle || 'contains';\n    },\n\n    val: function (value) {\n      var element = this.$element[0];\n\n      if (typeof value !== 'undefined') {\n        var prevValue = getSelectValues(element);\n\n        changedArguments = [null, null, prevValue];\n\n        this.$element\n          .val(value)\n          .trigger('changed' + EVENT_KEY, changedArguments);\n\n        if (this.$newElement.hasClass(classNames.SHOW)) {\n          if (this.multiple) {\n            this.setOptionStatus(true);\n          } else {\n            var liSelectedIndex = (element.options[element.selectedIndex] || {}).liIndex;\n\n            if (typeof liSelectedIndex === 'number') {\n              this.setSelected(this.selectedIndex, false);\n              this.setSelected(liSelectedIndex, true);\n            }\n          }\n        }\n\n        this.render();\n\n        changedArguments = null;\n\n        return this.$element;\n      } else {\n        return this.$element.val();\n      }\n    },\n\n    changeAll: function (status) {\n      if (!this.multiple) return;\n      if (typeof status === 'undefined') status = true;\n\n      var element = this.$element[0],\n          previousSelected = 0,\n          currentSelected = 0,\n          prevValue = getSelectValues(element);\n\n      element.classList.add('bs-select-hidden');\n\n      for (var i = 0, len = this.selectpicker.current.elements.length; i < len; i++) {\n        var liData = this.selectpicker.current.data[i],\n            option = liData.option;\n\n        if (option && !liData.disabled && liData.type !== 'divider') {\n          if (liData.selected) previousSelected++;\n          option.selected = status;\n          if (status) currentSelected++;\n        }\n      }\n\n      element.classList.remove('bs-select-hidden');\n\n      if (previousSelected === currentSelected) return;\n\n      this.setOptionStatus();\n\n      changedArguments = [null, null, prevValue];\n\n      this.$element\n        .triggerNative('change');\n    },\n\n    selectAll: function () {\n      return this.changeAll(true);\n    },\n\n    deselectAll: function () {\n      return this.changeAll(false);\n    },\n\n    toggle: function (e) {\n      e = e || window.event;\n\n      if (e) e.stopPropagation();\n\n      this.$button.trigger('click.bs.dropdown.data-api');\n    },\n\n    keydown: function (e) {\n      var $this = $(this),\n          isToggle = $this.hasClass('dropdown-toggle'),\n          $parent = isToggle ? $this.closest('.dropdown') : $this.closest(Selector.MENU),\n          that = $parent.data('this'),\n          $items = that.findLis(),\n          index,\n          isActive,\n          liActive,\n          activeLi,\n          offset,\n          updateScroll = false,\n          downOnTab = e.which === keyCodes.TAB && !isToggle && !that.options.selectOnTab,\n          isArrowKey = REGEXP_ARROW.test(e.which) || downOnTab,\n          scrollTop = that.$menuInner[0].scrollTop,\n          isVirtual = that.isVirtual(),\n          position0 = isVirtual === true ? that.selectpicker.view.position0 : 0;\n\n      // do nothing if a function key is pressed\n      if (e.which >= 112 && e.which <= 123) return;\n\n      isActive = that.$newElement.hasClass(classNames.SHOW);\n\n      if (\n        !isActive &&\n        (\n          isArrowKey ||\n          (e.which >= 48 && e.which <= 57) ||\n          (e.which >= 96 && e.which <= 105) ||\n          (e.which >= 65 && e.which <= 90)\n        )\n      ) {\n        that.$button.trigger('click.bs.dropdown.data-api');\n\n        if (that.options.liveSearch) {\n          that.$searchbox.trigger('focus');\n          return;\n        }\n      }\n\n      if (e.which === keyCodes.ESCAPE && isActive) {\n        e.preventDefault();\n        that.$button.trigger('click.bs.dropdown.data-api').trigger('focus');\n      }\n\n      if (isArrowKey) { // if up or down\n        if (!$items.length) return;\n\n        liActive = that.selectpicker.main.elements[that.activeIndex];\n        index = liActive ? Array.prototype.indexOf.call(liActive.parentElement.children, liActive) : -1;\n\n        if (index !== -1) {\n          that.defocusItem(liActive);\n        }\n\n        if (e.which === keyCodes.ARROW_UP) { // up\n          if (index !== -1) index--;\n          if (index + position0 < 0) index += $items.length;\n\n          if (!that.selectpicker.view.canHighlight[index + position0]) {\n            index = that.selectpicker.view.canHighlight.slice(0, index + position0).lastIndexOf(true) - position0;\n            if (index === -1) index = $items.length - 1;\n          }\n        } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) { // down\n          index++;\n          if (index + position0 >= that.selectpicker.view.canHighlight.length) index = 0;\n\n          if (!that.selectpicker.view.canHighlight[index + position0]) {\n            index = index + 1 + that.selectpicker.view.canHighlight.slice(index + position0 + 1).indexOf(true);\n          }\n        }\n\n        e.preventDefault();\n\n        var liActiveIndex = position0 + index;\n\n        if (e.which === keyCodes.ARROW_UP) { // up\n          // scroll to bottom and highlight last option\n          if (position0 === 0 && index === $items.length - 1) {\n            that.$menuInner[0].scrollTop = that.$menuInner[0].scrollHeight;\n\n            liActiveIndex = that.selectpicker.current.elements.length - 1;\n          } else {\n            activeLi = that.selectpicker.current.data[liActiveIndex];\n            offset = activeLi.position - activeLi.height;\n\n            updateScroll = offset < scrollTop;\n          }\n        } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) { // down\n          // scroll to top and highlight first option\n          if (index === 0) {\n            that.$menuInner[0].scrollTop = 0;\n\n            liActiveIndex = 0;\n          } else {\n            activeLi = that.selectpicker.current.data[liActiveIndex];\n            offset = activeLi.position - that.sizeInfo.menuInnerHeight;\n\n            updateScroll = offset > scrollTop;\n          }\n        }\n\n        liActive = that.selectpicker.current.elements[liActiveIndex];\n\n        that.activeIndex = that.selectpicker.current.data[liActiveIndex].index;\n\n        that.focusItem(liActive);\n\n        that.selectpicker.view.currentActive = liActive;\n\n        if (updateScroll) that.$menuInner[0].scrollTop = offset;\n\n        if (that.options.liveSearch) {\n          that.$searchbox.trigger('focus');\n        } else {\n          $this.trigger('focus');\n        }\n      } else if (\n        (!$this.is('input') && !REGEXP_TAB_OR_ESCAPE.test(e.which)) ||\n        (e.which === keyCodes.SPACE && that.selectpicker.keydown.keyHistory)\n      ) {\n        var searchMatch,\n            matches = [],\n            keyHistory;\n\n        e.preventDefault();\n\n        that.selectpicker.keydown.keyHistory += keyCodeMap[e.which];\n\n        if (that.selectpicker.keydown.resetKeyHistory.cancel) clearTimeout(that.selectpicker.keydown.resetKeyHistory.cancel);\n        that.selectpicker.keydown.resetKeyHistory.cancel = that.selectpicker.keydown.resetKeyHistory.start();\n\n        keyHistory = that.selectpicker.keydown.keyHistory;\n\n        // if all letters are the same, set keyHistory to just the first character when searching\n        if (/^(.)\\1+$/.test(keyHistory)) {\n          keyHistory = keyHistory.charAt(0);\n        }\n\n        // find matches\n        for (var i = 0; i < that.selectpicker.current.data.length; i++) {\n          var li = that.selectpicker.current.data[i],\n              hasMatch;\n\n          hasMatch = stringSearch(li, keyHistory, 'startsWith', true);\n\n          if (hasMatch && that.selectpicker.view.canHighlight[i]) {\n            matches.push(li.index);\n          }\n        }\n\n        if (matches.length) {\n          var matchIndex = 0;\n\n          $items.removeClass('active').find('a').removeClass('active');\n\n          // either only one key has been pressed or they are all the same key\n          if (keyHistory.length === 1) {\n            matchIndex = matches.indexOf(that.activeIndex);\n\n            if (matchIndex === -1 || matchIndex === matches.length - 1) {\n              matchIndex = 0;\n            } else {\n              matchIndex++;\n            }\n          }\n\n          searchMatch = matches[matchIndex];\n\n          activeLi = that.selectpicker.main.data[searchMatch];\n\n          if (scrollTop - activeLi.position > 0) {\n            offset = activeLi.position - activeLi.height;\n            updateScroll = true;\n          } else {\n            offset = activeLi.position - that.sizeInfo.menuInnerHeight;\n            // if the option is already visible at the current scroll position, just keep it the same\n            updateScroll = activeLi.position > scrollTop + that.sizeInfo.menuInnerHeight;\n          }\n\n          liActive = that.selectpicker.main.elements[searchMatch];\n\n          that.activeIndex = matches[matchIndex];\n\n          that.focusItem(liActive);\n\n          if (liActive) liActive.firstChild.focus();\n\n          if (updateScroll) that.$menuInner[0].scrollTop = offset;\n\n          $this.trigger('focus');\n        }\n      }\n\n      // Select focused option if \"Enter\", \"Spacebar\" or \"Tab\" (when selectOnTab is true) are pressed inside the menu.\n      if (\n        isActive &&\n        (\n          (e.which === keyCodes.SPACE && !that.selectpicker.keydown.keyHistory) ||\n          e.which === keyCodes.ENTER ||\n          (e.which === keyCodes.TAB && that.options.selectOnTab)\n        )\n      ) {\n        if (e.which !== keyCodes.SPACE) e.preventDefault();\n\n        if (!that.options.liveSearch || e.which !== keyCodes.SPACE) {\n          that.$menuInner.find('.active a').trigger('click', true); // retain active class\n          $this.trigger('focus');\n\n          if (!that.options.liveSearch) {\n            // Prevent screen from scrolling if the user hits the spacebar\n            e.preventDefault();\n            // Fixes spacebar selection of dropdown items in FF & IE\n            $(document).data('spaceSelect', true);\n          }\n        }\n      }\n    },\n\n    mobile: function () {\n      this.$element[0].classList.add('mobile-device');\n    },\n\n    refresh: function () {\n      // update options if data attributes have been changed\n      var config = $.extend({}, this.options, this.$element.data());\n      this.options = config;\n\n      this.checkDisabled();\n      this.setStyle();\n      this.render();\n      this.createLi();\n      this.setWidth();\n\n      this.setSize(true);\n\n      this.$element.trigger('refreshed' + EVENT_KEY);\n    },\n\n    hide: function () {\n      this.$newElement.hide();\n    },\n\n    show: function () {\n      this.$newElement.show();\n    },\n\n    remove: function () {\n      this.$newElement.remove();\n      this.$element.remove();\n    },\n\n    destroy: function () {\n      this.$newElement.before(this.$element).remove();\n\n      if (this.$bsContainer) {\n        this.$bsContainer.remove();\n      } else {\n        this.$menu.remove();\n      }\n\n      this.$element\n        .off(EVENT_KEY)\n        .removeData('selectpicker')\n        .removeClass('bs-select-hidden selectpicker');\n\n      $(window).off(EVENT_KEY + '.' + this.selectId);\n    }\n  };\n\n  // SELECTPICKER PLUGIN DEFINITION\n  // ==============================\n  function Plugin (option) {\n    // get the args of the outer function..\n    var args = arguments;\n    // The arguments of the function are explicitly re-defined from the argument list, because the shift causes them\n    // to get lost/corrupted in android 2.3 and IE9 #715 #775\n    var _option = option;\n\n    [].shift.apply(args);\n\n    // if the version was not set successfully\n    if (!version.success) {\n      // try to retreive it again\n      try {\n        version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\n      } catch (err) {\n        // fall back to use BootstrapVersion if set\n        if (Selectpicker.BootstrapVersion) {\n          version.full = Selectpicker.BootstrapVersion.split(' ')[0].split('.');\n        } else {\n          version.full = [version.major, '0', '0'];\n\n          console.warn(\n            'There was an issue retrieving Bootstrap\\'s version. ' +\n            'Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. ' +\n            'If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.',\n            err\n          );\n        }\n      }\n\n      version.major = version.full[0];\n      version.success = true;\n    }\n\n    if (version.major === '4') {\n      // some defaults need to be changed if using Bootstrap 4\n      // check to see if they have already been manually changed before forcing them to update\n      var toUpdate = [];\n\n      if (Selectpicker.DEFAULTS.style === classNames.BUTTONCLASS) toUpdate.push({ name: 'style', className: 'BUTTONCLASS' });\n      if (Selectpicker.DEFAULTS.iconBase === classNames.ICONBASE) toUpdate.push({ name: 'iconBase', className: 'ICONBASE' });\n      if (Selectpicker.DEFAULTS.tickIcon === classNames.TICKICON) toUpdate.push({ name: 'tickIcon', className: 'TICKICON' });\n\n      classNames.DIVIDER = 'dropdown-divider';\n      classNames.SHOW = 'show';\n      classNames.BUTTONCLASS = 'btn-light';\n      classNames.POPOVERHEADER = 'popover-header';\n      classNames.ICONBASE = '';\n      classNames.TICKICON = 'bs-ok-default';\n\n      for (var i = 0; i < toUpdate.length; i++) {\n        var option = toUpdate[i];\n        Selectpicker.DEFAULTS[option.name] = classNames[option.className];\n      }\n    }\n\n    var value;\n    var chain = this.each(function () {\n      var $this = $(this);\n      if ($this.is('select')) {\n        var data = $this.data('selectpicker'),\n            options = typeof _option == 'object' && _option;\n\n        if (!data) {\n          var dataAttributes = $this.data();\n\n          for (var dataAttr in dataAttributes) {\n            if (dataAttributes.hasOwnProperty(dataAttr) && $.inArray(dataAttr, DISALLOWED_ATTRIBUTES) !== -1) {\n              delete dataAttributes[dataAttr];\n            }\n          }\n\n          var config = $.extend({}, Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, dataAttributes, options);\n          config.template = $.extend({}, Selectpicker.DEFAULTS.template, ($.fn.selectpicker.defaults ? $.fn.selectpicker.defaults.template : {}), dataAttributes.template, options.template);\n          $this.data('selectpicker', (data = new Selectpicker(this, config)));\n        } else if (options) {\n          for (var i in options) {\n            if (options.hasOwnProperty(i)) {\n              data.options[i] = options[i];\n            }\n          }\n        }\n\n        if (typeof _option == 'string') {\n          if (data[_option] instanceof Function) {\n            value = data[_option].apply(data, args);\n          } else {\n            value = data.options[_option];\n          }\n        }\n      }\n    });\n\n    if (typeof value !== 'undefined') {\n      // noinspection JSUnusedAssignment\n      return value;\n    } else {\n      return chain;\n    }\n  }\n\n  var old = $.fn.selectpicker;\n  $.fn.selectpicker = Plugin;\n  $.fn.selectpicker.Constructor = Selectpicker;\n\n  // SELECTPICKER NO CONFLICT\n  // ========================\n  $.fn.selectpicker.noConflict = function () {\n    $.fn.selectpicker = old;\n    return this;\n  };\n\n  $(document)\n    .off('keydown.bs.dropdown.data-api', '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select .dropdown-menu')\n    .on('keydown' + EVENT_KEY, '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', Selectpicker.prototype.keydown)\n    .on('focusin.modal', '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bootstrap-select .bs-searchbox input', function (e) {\n      e.stopPropagation();\n    });\n\n  // SELECTPICKER DATA-API\n  // =====================\n  $(window).on('load' + EVENT_KEY + '.data-api', function () {\n    $('.selectpicker').each(function () {\n      var $selectpicker = $(this);\n      Plugin.call($selectpicker, $selectpicker.data());\n    })\n  });\n})(jQuery);\n\n\n}));\n//# sourceMappingURL=bootstrap-select.js.map"]},"metadata":{},"sourceType":"module"}